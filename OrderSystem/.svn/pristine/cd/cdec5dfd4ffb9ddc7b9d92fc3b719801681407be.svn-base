webpackJsonp([0],[,function(t,e,a){"use strict";var i=a(138),s="cloudfactory/erp/user/",o={login:function(t){return i.a.get(s+"login",t)},logout:function(){return i.a.get(s+"logout")},changePassword:function(t){return i.a.post(s+"changePassword",t)},adduser:function(t){return i.a.post(s+"adduser",t)},edituser:function(t){return i.a.post(s+"edituser",t)},getuserbyid:function(t){return i.a.post(s+"getuserbyid",t)},delbyuserid:function(t){return i.a.post(s+"delbyuserid",t)},query:function(t){return i.a.get(s+"query",t)},getAuthoritys:function(t){return i.a.post(s+"getAuthoritys",t)}},n="cloudfactory/erp/order/",l={getorders:function(t){return i.a.postB(n+"getorders",t)},upodateorders:function(t){return i.a.post(n+"upodateorders",t)},uploadordersfile:function(t){return i.a.post(n+"uploadordersfile",t)},updateorderforstatus:function(t){return i.a.post(n+"updateorderforstatus",t)},updateorderforurgent:function(t){return i.a.post(n+"updateorderforurgent",t)},gettechnologys:function(t){return i.a.post(n+"gettechnologys",t)},gettechnologysbyorderid:function(t){return i.a.post(n+"gettechnologysbyorderid",t)},updatetechnologybyorderid:function(t){return i.a.post(n+"updatetechnologybyorderid",t)},getorderdetail:function(t){return i.a.post(n+"getorderdetail",t)},getorderstatistics:function(t){return i.a.post(n+"getorderstatistics",t)},getusertechnologysbyorderid:function(t){return i.a.post(n+"getusertechnologysbyorderid",t)},updatetechnologyroute:function(t){return i.a.post(n+"updatetechnologyroute",t)},getdrawingsheetbyorderid:function(t){return i.a.post(n+"getdrawingsheetbyorderid",t)},deletedrawingsheetbyorderid:function(t){return i.a.post(n+"deletedrawingsheetbyorderid",t)},getoperationlog:function(t){return i.a.post(n+"getoperationlog",t)},uploaddrawingsheet:function(t){return i.a.post(n+"uploaddrawingsheet",t)},downloadorders:function(t){return i.a.post(n+"downloadorders",t)}},r={getAllTechnology:function(t){return i.a.get("cloudfactory/erp/Technology/getAllTechnology",t)},add:function(t){return i.a.post("cloudfactory/erp/Technology/add",t)}},c="cloudfactory/willorder/",u={getwillorders:function(t){return i.a.post(c+"getwillorders",t)},getwillorderbyid:function(t){return i.a.post(c+"getwillorderbyid",t)},remindsupplier:function(t){return i.a.post(c+"remindsupplier",t)},getsuppliers:function(t){return i.a.post(c+"getsuppliers",t)},buildsupplierquote:function(t){return i.a.post(c+"buildsupplierquote",t)},usebestsupplierquote:function(t){return i.a.post(c+"usebestsupplierquote",t)},uselastsupplierquote:function(t){return i.a.post(c+"uselastsupplierquote",t)},useminsupplierquote:function(t){return i.a.post(c+"useminsupplierquote",t)},usehistorysupplierquote:function(t){return i.a.post(c+"usehistorysupplierquote",t)},downloadorder:function(t){return i.a.post(c+"downloadorder",t)},uploadorder:function(t){return i.a.post(c+"uploadorder",t)},downloadattachment:function(t){return i.a.post(c+"downloadattachment",t)},updatewillorder:function(t){return i.a.post(c+"updatewillorder",t)},updateorderdetail:function(t){return i.a.post(c+"updateorderdetail",t)},confirmwillorder:function(t){return i.a.post(c+"confirmwillorder",t)},usesupplierquote:function(t){return i.a.post(c+"usesupplierquote",t)}},d="cloudfactory/inquiryorder/",p={getinquiryordershistory:function(t){return i.a.post(d+"getinquiryordershistory",t)},getordersbywillorderid:function(t){return i.a.post(d+"getordersbywillorderid",t)},markreadbywillorderid:function(t){return i.a.post(d+"markreadbywillorderid",t)},getinquiryorders:function(t){return i.a.post(d+"getinquiryorders",t)},getinquiryorderbyid:function(t){return i.a.post(d+"getinquiryorderbyid",t)},updateinquiryorder:function(t){return i.a.postB(d+"updateinquiryorder",t)},confirmwillorder:function(t){return i.a.post(d+"quoteinquiryorder",t)},downloadattachment:function(t){return i.a.post(d+"downloadattachment",t)},markbyid:function(t){return i.a.post(d+"markbyid",t)},unmarkbyid:function(t){return i.a.post(d+"unmarkbyid",t)},markreadbyid:function(t){return i.a.post(d+"markreadbyid",t)},downloadorder:function(t){return i.a.post(d+"downloadorder",t)},newsupplierquote:function(t){return i.a.post(d+"newsupplierquote",t)},downloadorderbywillorderid:function(t){return i.a.post(d+"downloadorderbywillorderid",t)},uploadorderbywillorderid:function(t){return i.a.post(d+"uploadorderbywillorderid",t)},addsupplierquote:function(t){return i.a.post(d+"addsupplierquote",t)}},m="cloudfactory/customer/",h={getCustomerList:function(t){return i.a.get(m+"getCustomerList",t)},getCustomerByName:function(t){return i.a.get(m+"getCustomerByName",t)},getAllCusttrades:function(t){return i.a.get("cloudfactory/custtrades/getAllCusttrades",t)},getCustomerById:function(t){return i.a.get(m+"getCustomerById",t)},saveCustomer:function(t){return i.a.post(m+"saveCustomer",t)}},f="cloudfactory/supplier/",v={getsupplierlist:function(t){return i.a.get(f+"getsupplierlist",t)},getSupplierDeital:function(t){return i.a.get(f+"getSupplierDeital",t)},getDictByTypeNumber:function(t){return i.a.get(f+"getDictByTypeNumber",t)},getDictByTypeNumbers:function(t){return i.a.get("/cloudfactory/codedict/getDictByTypeNumbers",t)},getbrandslist:function(t){return i.a.get("/cloudfactory/productbrands/getbrandslist",t)},productcatalog:function(t){return i.a.get("/cloudfactory/productcatalog/getTree",t)},suppliertrades:function(t){return i.a.get("/cloudfactory/suppliertrades/getTree",t)},supplierbusiness:function(t){return i.a.get("/cloudfactory/supplierbusiness/save",t)},getsuppliers:function(t){return i.a.post(f+"getsuppliers",t)},getTeamworkCustomer:function(t){return i.a.post("cloudfactory/supplierpartner/getTeamworkCustomer",t)}},b="cloudfactory/supplierdevice/",g={deviceManage:function(t){return i.a.postC(b+"deviceManage",t)},deviceManageExp:function(t){return i.a.postC(b+"deviceManageExp",t)},supplierdeviceList:function(t){return i.a.postC(b+"supplierdeviceList",t)},excelExp:function(t){return i.a.postC(b+"excelExp",t)},addSupplierdevice:function(t){return i.a.post(b+"addSupplierdevice",t)},saveSupplierdevice:function(t){return i.a.postC(b+"saveSupplierdevice",t)},delSupplierdevice:function(t){return i.a.post(b+"delSupplierdevice",t)},excelImp:function(t){return i.a.post(b+"excelImp",t)}},_={getinfo:function(t){return i.a.post("cloudfactory/company/getinfo",t)},savebusiness:function(t){return i.a.post("cloudfactory/company/savebusiness",t)},getTeamworkCustomer:function(t){return i.a.post("cloudfactory/company/getTeamworkCustomer",t)}};e.a={user:o,order:l,Technology:r,willorders:u,inquiryorder:p,customer:h,supplier:v,equipment:g,company:_}},function(t,e,a){"use strict";function i(t,e){for(var a=e-(t+"").length,i=0;i<a;i++)t="0"+t;return t}var s=a(62),o=a.n(s),n=a(22),l=(a.n(n),/([yMdhsm])(\1*)/g);e.a={getQueryStringByName:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(e),i="";return null!=a&&(i=a[2]),e=null,a=null,null==i||""===i||"undefined"===i?"":i},formatDate:{format:function(t,e){return e=e||"yyyy-MM-dd",e.replace(l,function(e){switch(e.charAt(0)){case"y":return i(t.getFullYear(),e.length);case"M":return i(t.getMonth()+1,e.length);case"d":return i(t.getDate(),e.length);case"w":return t.getDay()+1;case"h":return i(t.getHours(),e.length);case"m":return i(t.getMinutes(),e.length);case"s":return i(t.getSeconds(),e.length)}})},parse:function(t,e){var a=e.match(l),i=t.match(/(\d)+/g);if(a.length===i.length){for(var s=new Date(1970,0,1),o=0;o<a.length;o++){var n=parseInt(i[o]);switch(a[o].charAt(0)){case"y":s.setFullYear(n);break;case"M":s.setMonth(n-1);break;case"d":s.setDate(n);break;case"h":s.setHours(n);break;case"m":s.setMinutes(n);break;case"s":s.setSeconds(n)}}return s}return null},getDate:function(t){var e=new Date(t);return this.format(e,"yyyy-MM-dd hh:mm")}},GetDateDiff:function(t,e){var a=new Date(Date.parse(t.replace(/-/g,"/"))).getTime(),i=new Date(Date.parse(e.replace(/-/g,"/"))).getTime();return parseInt(i-a)/864e5},swapItems:function(t,e,a){return t[e]=t.splice(a,1,t[e])[0],t},checkMoblie:function(t,e,a){if(!e)return a(new Error("手机号不能为空"));setTimeout(function(){/^1[34578]\d{9}$/.test(e)&&o()(e)?a():a(new Error("手机号有误，请重填"))},500)},DateFormat:function(t,e){t=new Date(t);var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in a)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a[i]:("00"+a[i]).substr((""+a[i]).length)));return e},ShowBeforeDate:function(t){var e=this.isArray(t);if(e.length)for(var a=(new Date).getTime(),i=(new Date).getFullYear(),s=new Date((new Date).toLocaleDateString()).getTime(),o=new Date(i+"/1/1").getTime(),n=0;n<e.length;n++)a-e[n].creattime<=36e5?e[n].creattime=parseInt((a-e[n].creattime)/1e3/60)+"分钟前":e[n].creattime-s>=0&&e[n].creattime-s<=864e5?e[n].creattime=this.DateFormat(e[n].creattime,"hh:mm"):e[n].creattime-o<=31536e6?e[n].creattime=this.DateFormat(e[n].creattime,"MM-dd hh:mm"):e[n].creattime=this.DateFormat(e[n].creattime,"yyyy/MM/dd hh:mm:ss");return t},outputdollars:function(t){if(t.length<=3)return""===t?"0":t;for(var e=t.length%3,a=0===e?"":t.substring(0,e),i=0;i<Math.floor(t.length/3);i++)a+=0===e&&0===i?t.substring(e+3*i,e+3*i+3):","+t.substring(e+3*i,e+3*i+3);return a},checkDateFormat:function(t){return""===t||/^(\d{4})-(0[1-9]|1[0-2])-([0-2][1-9]|[1-3]0|31)$/.test(t)},checkDateDaterange:function(t){return""===t||/^(\d{4})-(0[1-9]|1[0-2])-([0-2][1-9]|[1-3]0|31)( - )(\d{4})-(0[1-9]|1[0-2])-([0-2][1-9]|[1-3]0|31)$/.test(t)},arrayToHeavy:function(t){for(var e=[],a={},i=0;i<t.length;i++)a[t[i]]||(e.push(t[i]),a[t[i]]=1);return e},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)?t:[]},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)?t:{}},isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)?t:0},isString:function(t){return"[object String]"===Object.prototype.toString.call(t)?t:""},getCookie:function(t){if(document.cookie.length>0){var e=document.cookie.indexOf(t+"=");if(-1!=e){e=e+t.length+1;var a=document.cookie.indexOf(";",e);return-1==a&&(a=document.cookie.length),unescape(document.cookie.substring(e,a))}}return""},forbiddenScroll:function(t){var e=t?"hidden":"auto",a=document.querySelectorAll("body")[0];a.style.overflowY=e,a.style.paddingRight=t?"17px":"0"},startDrop:function(t,e){t.onmousedown=function(t){t=t||window.event;var a=t.pageY||t.clientY+document.documentElement.scrollTop,i=t.pageX||t.clientX+document.documentElement.scrollLeft,s=i-e.offsetLeft,o=a-e.offsetTop;document.onmousemove=function(t){t=t||window.event;var a=t.pageY||t.clientY+document.documentElement.scrollTop,i=t.pageX||t.clientX+document.documentElement.scrollLeft,n=i-s,l=a-o;e.style.left=n+"px",e.style.top=l+"px",window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()}},document.onmouseup=function(t){document.onmousemove=null,t=t||window.event}},isError:function(t){n.Message.closeAll(),t.data?n.Message.error(t.data):t.message?n.Message.error(t.message):n.Message.error("服务端错误")}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){function i(t){a(288)}var s=a(0)(a(161),a(391),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(267)}var s=a(0)(a(174),a(370),i,"data-v-213511e6",null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){function i(t){a(297)}var s=a(0)(a(168),a(400),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(302)}var s=a(0)(a(188),a(405),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(271)}var s=a(0)(a(189),a(374),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(287)}var s=a(0)(a(190),a(390),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(283)}var s=a(0)(a(191),a(386),i,null,null);t.exports=s.exports},function(t,e,a){"use strict";var i=a(335),s=a.n(i),o=a(332),n=a.n(o),l=a(321),r=a.n(l),c=a(313),u=a.n(c),d=a(342),p=a.n(d),m=a(322),h=a.n(m),f=a(337),v=a.n(f),b=a(347),g=a.n(b),_=a(350),w=a.n(_),y=a(343),C=a.n(y),x=a(325),k=a.n(x),D=a(326),S=a.n(D),q=a(316),I=a.n(q),T=a(317),F=a.n(T),$=a(357),O=a.n($),N=a(356),j=a.n(N),B=a(331),L=a.n(B),P=a(329),R=a.n(P),z=a(324),A=a.n(z),E=[{path:"/",component:n.a,name:"",hidden:!0},{path:"/404",component:u.a,name:"",hidden:!0},{path:"/Print/:detailinfo",component:p.a,name:"print",hidden:!0},{path:"/PrintImg",component:v.a,name:"打印图纸"},{path:"/Track",component:h.a,name:"订单跟踪",iconCls:"el-icon-message",children:[{path:"order",component:s.a,name:"主页",hidden:!0,meta:{authoritys:!0}}]},{path:"/Manage",component:h.a,name:"管理",children:[{path:"Employee",component:r.a,name:"员工管理",meta:{authoritys:!1}},{path:"Customer",component:I.a,name:"客户管理",meta:{authoritys:!0}},{path:"Customer/CustomerDetail/:id",component:F.a,name:"客户管理详情",meta:{authoritys:!0}},{path:"equipment",component:L.a,name:"设备管理",meta:{authoritys:!0}}]},{path:"/List",component:h.a,name:"列表",children:[{path:"equipmentList",component:R.a,name:"设备列表",meta:{authoritys:!0}}]},{path:"/Quotation",component:h.a,name:"报价需求单",iconCls:"el-icon-message",meta:{authoritys:"true"},children:[{path:"quotation",component:g.a,name:"quotation",hidden:!0,meta:{authoritys:!0}},{path:"quotationDetail/:demandNumber",component:w.a,name:"quotationDetail",hidden:!0,meta:{authoritys:!0}},{path:"addSupplierQuotation/:demandNumber",component:C.a,name:"addSupplierQuotation",hidden:!0,meta:{authoritys:!0}}]},{path:"/EnquirySheet",component:h.a,name:"询价单",iconCls:"el-icon-message",meta:{authoritys:"true"},children:[{path:"enquirySheet",component:k.a,name:"enquirySheet",meta:{authoritys:!0}},{path:"enquirySheetDetail/:inquiryorderid",component:S.a,name:"enquirySheetDetail",meta:{authoritys:!0}}]},{path:"/Supplier",component:h.a,name:"供应商列表",iconCls:"el-icon-message",meta:{authoritys:"true"},children:[{path:"SupplierList",component:O.a,name:"SupplierList",meta:{authoritys:!0}},{path:"SupplierDetail/:supplierCode",component:j.a,name:"SupplierDetail",meta:{authoritys:!1}}]},{path:"/company",component:h.a,name:"公司资料",iconCls:"el-icon-message",meta:{authoritys:"true"},children:[{path:"Profile",component:A.a,name:"Profile",meta:{authoritys:!0}}]},{path:"*",hidden:!0,redirect:{path:"/404"}}];e.a=E},function(t,e,a){"use strict";var i=a(8),s=a(54);i.default.use(s.a);var o={productDetail:{tabs:"first",record:{}},adminleftnavnum:"/Track/order",footShow:!0,orderList:{form:{}},Authoritys:[],isSaveEnquirySheetDetail:!1},n={getProductDetailRecord:function(t,e){t.productDetail.record=1},setOrderListForm:function(t,e){t.orderList.form=e},isSaveEnquirySheetDetailFun:function(t,e){t.isSaveEnquirySheetDetail=e.isSave}};e.a=new s.a.Store({state:o,mutations:n})},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,a){function i(t){a(307)}var s=a(0)(a(141),a(410),i,null,null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";function i(t){return!t||200!==t.status&&304!==t.status&&400!==t.status?{status:-404,msg:"网络异常"}:t}function s(t){return-404===t.status&&p.Message.error(t.msg),t.data.code&&200!=t.data.code&&("URC0001"===t.data.code&&(sessionStorage.removeItem("token"),o("sessionid"," ",-1),o("userInfo"," ",-1),window.location.href="/"),"URC0009"===t.data.code&&p.Message.warning({message:"用户已存在"}),"URC0010"===t.data.code&&p.Message.warning({message:"手机号码已存在"}),"URC0012"===t.data.code&&p.Message.warning({message:"用户不存在"})),t}function o(t,e,a){var i=new Date;i.setDate(i.getDate()+a),document.cookie=t+"="+escape(e)+(null==a?"":";expires="+i.toGMTString())}var n=a(194),l=a.n(n),r=a(10),c=a.n(r),u=a(310),d=a.n(u),p=a(22);a.n(p);c.a.defaults.baseURL="/",c.a.defaults.timeout=5e3,c.a.interceptors.request.use(function(t){return void 0!==sessionStorage.getItem("token")&&(t.headers.sessid_id=sessionStorage.getItem("token")),t},function(t){return l.a.reject(t)}),c.a.interceptors.response.use(function(t){return t},function(t){return l.a.resolve(t.response)}),e.a={post:function(t,e){return c()({method:"post",url:t,params:e,timeout:1e4,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(t){return i(t)}).then(function(t){return s(t)})},get:function(t,e){return c()({method:"get",url:t,params:e,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(t){return i(t)}).then(function(t){return s(t)})},postB:function(t,e){return c.a.post(t,e,{timeout:1e4}).then(function(t){return i(t)}).then(function(t){return s(t)})},postC:function(t,e){return c()({method:"post",url:t,data:d.a.stringify(e),timeout:1e4,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(t){return i(t)}).then(function(t){return s(t)})}}},function(t,e,a){"use strict";var i=a(2),s=a(22);a.n(s);e.a={checkDateDiff:function(t){var e={},a=new Date;a=a.toLocaleDateString();var s=i.a.GetDateDiff(a,t.deliverydatetime.split(" ")[0]),o=Math.round(t.qualifiedamount/t.orderamount*1e4)/100;return 1==t.orderitemstatus?(e.name="bgc9",e.num="关闭"):"发货"===t.technologyname&&o<100&&(s<=0?(e.num=0===s?"交货":Math.abs(s)+"天",e.name="bgc7"):s>=1&&s<=3&&(e.name="bgc5",e.num="剩"+Math.abs(s)+"天")),e},checkChoseorder:function(t){return!!t||(a.i(s.Notification)({title:"温馨提示",message:"请勾选订单",type:"warning",duration:3e3,offset:60}),!1)},checkList:function(){return[{id:"1",label:"下单日",checked:!0,name:"createtime"},{id:"2",label:"客户订单号",checked:!0,name:"outorderid"},{id:"3",label:"产品名称",checked:!0,name:"productname"},{id:"4",checked:!0,name:"productmodel",label:"产品型号"},{id:"5",checked:!0,name:"orderamount",label:"订单数量"},{id:"6",checked:!0,name:"planamount",label:"计划数量"},{id:"7",checked:!0,name:"deliverydatetime",label:"交货日期"},{id:"8",checked:!0,name:"inorderid",label:"跟单号"},{id:"9",checked:!0,name:"serialno",label:"产品序号"},{id:"10",checked:!0,name:"clientname",label:"客户名称"},{id:"11",name:"price",checked:!1,label:"单价"},{id:"12",name:"totle",checked:!1,label:"总金额"},{id:"13",checked:!0,name:"technologyroute",label:"工艺路线"},{id:"14",checked:!0,name:"technologyamount",label:"工序数"},{id:"22",checked:!0,name:"completepercent",label:"工艺路线完成比"},{id:"15",label:"当前流程",name:"nowtechnology",checked:!0,children:[{id:"16",checked:!0,name:"technologyname",label:"流程名称"},{id:"17",checked:!0,name:"completeamount",label:"完成数量"},{id:"18",checked:!0,name:"qualifiedamount",label:"合格数量"},{id:"19",checked:!0,name:"technologystatus",label:"状态"},{id:"20",checked:!0,name:"completePercent",label:"完成比例"}]},{id:"21",checked:!0,name:"lasttime",label:"最近操作时间"},{id:"23",checked:!1,name:"remark",label:"备注"}]}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(8),s=a(97),o=a.n(s),n=a(98),l=a(22),r=a.n(l),c=a(10),u=a.n(c),d=a(93),p=(a.n(d),a(94)),m=(a.n(p),a(96)),h=(a.n(m),a(95)),f=(a.n(h),a(91)),v=a(54),b=a(92),g=a(1),_=a(2);i.default.use(r.a),i.default.use(n.a),i.default.use(v.a),i.default.prototype.$axios=u.a,i.default.prototype.$api=g.a,i.default.prototype.$util=_.a,i.default.config.productionTip=!1;var w=new n.a({mode:"history",routes:f.a}),y=new i.default({el:"#app",router:w,store:b.a,template:"<App/>",components:{App:o.a}});y.$mount("#app"),w.beforeEach(function(t,e,a){var i=sessionStorage.getItem("token");if(t.meta.authoritys)for(var s=y.$store.state.Authoritys,o=t.path.substr(1,t.path.length),n=0;n<s.length;n++)s[n].url==o&&0==s[n].authority&&a({path:"/"});if(i&&"/"===t.path)a(!1);else if(i||"/"===t.path){if(b.a.state.isSaveEnquirySheetDetail)return void y.$confirm("你的修改未保存, 是否继续?","提示",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then(function(){a(),b.a.commit("isSaveEnquirySheetDetailFun",{isSave:!1})}).catch(function(){b.a.state.adminleftnavnum="/EnquirySheet/enquirySheet",a(!1)});a()}else a({path:"/"})})},function(t,e){},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{back:function(){window.history.go(-1)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"business",props:{BusinessData:{type:Object},BusinessOptions:{type:Object}},data:function(){return{option:[{name:"1",number:2}]}},methods:{},created:function(){}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contact",props:{custcontactlist:{type:Array}},data:function(){return{}},filters:{checkSex:function(t){return"SEX02_SYS"==t?"男":"SEX01_SYS"==t?"女":""}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{searchForm:{number:"",custname:"",contactname:"",documentstatus:"",customermanagernumber:"",code:"",istrade:"",forbidstatus:"",quantifygradeid:"",qualitativegradeid:"",createdatestart:"",createdateend:"",approverdatestart:"",approverdateend:"",pageIndex:1,pageSize:10},createdate:"",approverdate:"",options:{documentstatus:[{value:"",label:"全部"},{value:"D",label:"重新审核"},{value:"A",label:"创建"},{value:"B",label:"审核中"},{value:"C",label:"已审核"}],customermanagernumber:[],istrade:[{value:"",label:"全部"},{value:"1",label:"是"},{value:"0",label:"否"}],forbidstatus:[{value:"",label:"全部"},{value:"B",label:"是"},{value:"A",label:"否"}],quantifygradeid:[],qualitativegradeid:[]},activeName:"",tableData:[],open:!1,filters:[{value:"待报价",text:"待报价"},{value:"已报价",text:"已报价"},{value:"已询价",text:"已询价"},{value:"已作废",text:"已作废"}],form:{region:""},ruleForm:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},currentPage:1,pageSizes:[10,20,30,50,100,200,500,1e3],currentPageSize:10,total:0,initCurrentPage:1,initCurrentPageSize:10,throttles:{search:!0,refresh:!0}}},beforeCreate:function(){},created:function(){this.$store.state.adminleftnavnum="/Manage/Customer",this.fetchData()},beforeUpdate:function(){},updated:function(){},beforeMount:function(){},mounted:function(){},filters:{},methods:{changeCreatedate:function(t){var e=t.split(" - ");this.searchForm.createdatestart=e[0],this.searchForm.createdateend=e[1]},changeApproverdate:function(t){var e=t.split(" - ");this.searchForm.approverdatestart=e[0],this.searchForm.approverdateend=e[1]},rowBackground:function(t,e){return"已作废"===t.statu?"rowBgColor-d":e%2?"rowBgColor":void 0},toCustomerDetail:function(t,e){this.$router.push({path:"/Manage/Customer/CustomerDetail/"+t,query:{name:e}})},handleSizeChange:function(t){this.searchForm.pageIndex=this.initCurrentPage,this.searchForm.pageSize=t},handleCurrentChange:function(t){this.searchForm.pageIndex=t},submitSearchForm:function(){this.throttles.search&&(this.throttles.search=!1,this.$message.closeAll(),this.searchForm.pageIndex=this.initCurrentPage,this.fetchData({search:!0}))},resetSearchForm:function(t){this.$refs[t].resetFields(),this.searchForm.createdatestart="",this.searchForm.createdateend="",this.searchForm.approverdatestart="",this.searchForm.createdatestart="",this.createdate="",this.approverdate=""},handleClickTabs:function(t){0!=t.name&&1!=t.name&&t.name},handRefresh:function(){this.throttles.refresh&&(this.throttles.refresh=!1,this.$message.closeAll(),this.fetchData({refresh:!0}))},fetchData:function(t){var e=this,a=this.searchForm;for(var i in a)"全部"==a[i]&&(a[i]="");this.$api.customer.getCustomerList(a).then(function(a){200==a.data.code?(e.tableData=a.data.datalist,e.total=a.data.datasum,a.data.custDocumentStatus.unshift({name:"全部",number:""}),e.options.documentstatus=a.data.custDocumentStatus,a.data.sales.unshift({salename:"全部",salenumber:""}),e.options.customermanagernumber=a.data.sales,a.data.custquantifygrade.unshift({name:"全部"}),e.options.quantifygradeid=a.data.custquantifygrade,a.data.custqualitativegrade.unshift({name:"全部"}),e.options.qualitativegradeid=a.data.custqualitativegrade,t&&t.search&&e.$message.success("查询成功"),t&&t.refresh&&e.$message.success("刷新成功")):e.$message.error(a.data?a.data.data:a.data.message),e.throttles.search=!0,e.throttles.refresh=!0})}},computed:{},watch:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(319),s=a.n(i),o=a(314),n=a.n(o),l=a(315),r=a.n(l),c=a(318),u=a.n(c),d=a(320),p=a.n(d),m=a(1),h=a(53),f=a.n(h);e.default={name:"supplierDetail",components:{"v-Information":s.a,"v-Business":n.a,"v-Contact":r.a,"v-Financial":u.a,"v-address":p.a,"v-backtop":f.a},created:function(){var t=this;this.$store.state.adminleftnavnum="/Manage/Customer",this.fetchData(),window.onscroll=function(){var e=document.documentElement.scrollTop||document.body.scrollTop;t.scollTop=e>=600},document.querySelectorAll("body")[0].addEventListener("click",function(){t.contacttargetListShow=!1},!1),document.querySelectorAll("body")[0].addEventListener("click",function(){t.competitorListShow=!1},!1)},data:function(){return{supplierName:"",BaseInfo:{},BaseOptions:{},IndustryData:{id:"",custtradesid:"",contacttarget:"",mainproduct:"",competitor:""},IndustryDataRules:{custtradesid:[{required:!0,message:"请输入",trigger:"change"}],contacttarget:[{required:!0,message:"请输入",trigger:"change"}]},BusinessData:{},BusinessOptions:{},custbusinesslist:[],custcontactlist:[{}],AddressTableData:[],focus:1,scollTop:!1,options:{IndustryInfo:[]},value:"",clickContacttarFlag:!1,clickCompetitorFlag:!1,contacttargetListShow:!1,competitorListShow:!1,contacttarList:[],competitorList:[],defaultProps:{label:"label"}}},methods:{handletabs:function(t,e){this.focus=t;var a=this.$refs[e].offsetTop;this.ScollFn(a-70)},ScollFn:function(t){window.scrollTo(0,t)},goTop:function(){window.scrollTo(0,0)},SaveIndustryInfo:function(){var t=this;this.$refs.IndustryData.validate(function(e){if(!e)return t.$message.error("请您填写所属行业、行业标杆信息"),!1;var a={id:t.$route.params.id,custtradesid:t.IndustryData.custtradesid,benchmark:t.IndustryData.contacttarget,mainproduct:t.IndustryData.mainproduct,competitor:t.IndustryData.competitor};m.a.customer.saveCustomer(a).then(function(e){t.$message.success("保存成功")})})},fetchData:function(){var t=this,e={id:this.$route.params.id};m.a.customer.getCustomerById(e).then(function(e){var a=e.data;t.IndustryData={id:a.customer&&a.customer.id,custtradesid:a.customer&&a.customer.custtradesid,contacttarget:a.benchmark,mainproduct:a.mainproduct,competitor:a.competitor},t.BaseInfo=a.customer,t.BusinessData=a.customer,t.custcontactlist=a.custcontactlist,t.AddressTableData=a.custlocationlist,t.custbusinesslist=a.custbusinesslist,t.options.IndustryInfo=a.custtrades,a.custGroup.unshift({name:"全部",number:""}),t.BaseOptions.custGroup=a.custGroup,a.companyNature.unshift({name:"全部",number:""}),t.BaseOptions.nature=a.companyNature,a.custPurchaseUse.unshift({name:"全部",number:""}),t.BaseOptions.custPurchaseUse=a.custPurchaseUse,a.productEmphasis.unshift({name:"全部",number:""}),t.BaseOptions.productEmphasis=a.productEmphasis,a.custdiscount.unshift({discount:"全部",creatorid:""}),t.BusinessOptions.custdiscount=a.custdiscount,t.BusinessOptions.custqualitativegrade=a.custqualitativegrade,t.BusinessOptions.custquantifygrade=a.custquantifygrade,t.contacttarList=a.benchmarklist,t.competitorList=a.benchmarklist})},keyupContacttarget:function(){this.clickContacttarFlag=!1},clickContacttarget:function(){this.clickContacttarFlag=!0,this.contacttargetListShow=!0,this.competitorListShow=!1},contacttargeClick:function(t,e,a){e.checked=!e.checked},contacttargeChange:function(t,e){for(var a=this.$refs.contacttargetTree.getCheckedNodes(),i="",s=0;s<a.length;s++)s!=a.length-1?i+=a[s].name+",":i+=a[s].name;this.IndustryData.contacttarget=i},keyupCompetitor:function(){this.clickCompetitorFlag=!1},clickCompetitor:function(){this.clickCompetitorFlag=!0,this.competitorListShow=!0,this.contacttargetListShow=!1},competitorClick:function(t,e,a){e.checked=!e.checked},competitorChange:function(t,e){for(var a=this.$refs.competitorTree.getCheckedNodes(),i="",s=0;s<a.length;s++)s!=a.length-1?i+=a[s].name+",":i+=a[s].name;this.IndustryData.competitor=i}},computed:{contacttargetFilter:function(){var t=this;return this.contacttarList.filter(function(e){return t.clickContacttarFlag?e:-1!=e.name.indexOf(t.IndustryData.contacttarget)})},competitorFilter:function(){var t=this;return this.competitorList.filter(function(e){return t.clickCompetitorFlag?e:-1!=e.name.indexOf(t.IndustryData.competitor)})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"financial",props:{custbusinesslist:{type:Array}},data:function(){return{tableData:[],formInline:{}}},filters:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"infomation",props:{BaseInfo:{type:Object},BaseOptions:{type:Object}},data:function(){return{a:"1"}},beforeUpdate:function(){}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{AddressTableData:{type:Array}},data:function(){return{}},filters:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(2),s=a(86),o=a.n(s);e.default={data:function(){return{keyword:"",closeIcon:"",tableData:[],multipleSelection:[],dialogTitle:"",dialogFormVisible:!1,dialogform:{name:"",mobilenumber:""},rules:{name:[{validator:function(t,e,a){if(!e)return a(new Error("姓名不能为空"));a()},trigger:"blur"}],mobilenumber:[{validator:i.a.checkMoblie,trigger:"blur"}]},formLabelWidth:"75px",checkedTechnologys:[],Technologys:[],userid:"",currentPage:1,currentPageSize:10,pageSizes:[10,20,30,50,100,200,500,1e3],totalCount:0,initCurrentPage:1,initCurrentPageSize:10,throttles:{search:!0}}},components:{"v-productDetail":o.a},created:function(){var t=this;this.fetchData(),this.$store.state.adminleftnavnum="/Manage/Employee",this.$api.Technology.getAllTechnology().then(function(e){e.data.code?t.Technologys=e.data.data:t.$util.isError(e.data)})},watch:{$rotue:"fetchData"},methods:{importVal:function(){this.keyword?this.closeIcon="close":this.closeIcon=""},CloseIconClick:function(){this.keyword="",this.fetchData()},Search:function(){this.throttles.search&&(this.throttles.search=!1,this.$message.closeAll(),this.currentPage=1,this.fetchData({search:!0}))},Add:function(){this.dialogTitle="新增员工",this.dialogform.name="",this.dialogform.mobilenumber="",this.checkedCities1=[],this.dialogFormVisible=!0},Add_cancel:function(){this.dialogFormVisible=!1},Add_confirm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;for(var a={username:e.dialogform.name,mobilenumber:e.dialogform.mobilenumber},i=0;i<e.checkedTechnologys.length;i++){a["technology["+i+"]"]=e.checkedTechnologys[i]}return"新增员工"===e.dialogTitle?void e.$api.user.adduser(a).then(function(t){200==t.data.code?(e.$message.success("新增成功"),e.fetchData(),e.dialogFormVisible=!1):e.$util.isError(t.data)}):"编辑"===e.dialogTitle?(a.userid=e.userid,void e.$api.user.edituser(a).then(function(t){200==t.data.code?(e.$message.success("修改成功"),e.fetchData(),e.dialogFormVisible=!1):e.$util.isError(t.data)})):void 0})},handleEdit:function(t,e){this.dialogTitle="编辑",this.dialogFormVisible=!0,this.dialogform.name=e.username,this.dialogform.mobilenumber=parseFloat(e.mobilenumber),this.checkedTechnologys=e.technology,this.userid=e.userid},handleDelete:function(t,e){var a=this,i=this.$createElement;this.$msgbox({title:"提示",message:i("p",null,[i("span",null,"确定删除？")]),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(t,i,s){if("confirm"===t){i.confirmButtonLoading=!0,i.confirmButtonText="执行中...";var o={userid:e.userid};a.$api.user.delbyuserid(o).then(function(t){200==t.data.code?(a.$message.closeAll(),a.$message.success("删除成功"),a.fetchData(),i.confirmButtonLoading=!1,s()):a.$util.isError(t.data)})}else s()}})},handleSizeChange:function(t){this.currentPage=this.initCurrentPage,this.currentPageSize=t,this.fetchData()},handleCurrentChange:function(t){this.currentPage=t,this.fetchData()},fetchData:function(t){var e=this,a={sortby:"userid",keyword:this.keyword,pageindex:this.currentPage,pagesize:this.currentPageSize};t&&t.data&&(a=t.data),this.$api.user.query(a).then(function(a){if(200==a.data.code){if(a=a.data.data,a.rows)for(var i=0;i<a.rows.length;i++)a.rows[i].technologyB=a.rows[i].technology.join("、");e.tableData=a.rows,e.totalCount=a.totalCount,t&&t.search&&e.$message.success("查询成功")}else e.$util.isError(a.data);e.throttles.search=!0})},handleSelectionChange:function(t){this.multipleSelection=t}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(333),s=a.n(i),o=a(52),n=a.n(o);e.default={data:function(){return{sidebar:!0}},components:{"v-nav":s.a,"v-header":n.a},methods:{showSidebar:function(t){this.sidebar=t}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),s=a(10),o=a.n(s);e.default={name:"business",props:{supplierbusiness:{type:Object},supplierbusinessList:{type:Array}},watch:{supplierbusiness:function(t){for(var e="",a="",i="",s="",o=0;o<t.supplierbrands.length;o++)o==t.supplierbrands.length-1?(e+=t.supplierbrands[o].brandid,a+=t.supplierbrands[o].brandname):(e+=t.supplierbrands[o].brandid+",",a+=t.supplierbrands[o].brandname+",");for(var n=0;n<t.productcategories.length;n++)n==t.productcategories.length-1?(i+=t.productcategories[n].categoryid,s+=t.productcategories[n].categoryname):(i+=t.productcategories[n].categoryid+",",s+=t.productcategories[n].categoryname+",");t.businesstrade=void 0==t.businesstrade?[]:t.businesstrade.split(" "),this.brandids=e,this.sellbrand=a,this.categoryid=i,this.categoryname=s;var l=this.categoryid.toUpperCase().split(",");this.$refs.tree2.setCheckedKeys(l)}},data:function(){return{sellproduct:"",brandids:"",sellbrand:"",categoryname:"",categoryid:"",tableShowproduct:0,tableData:[],sellproductList:[],suppliertradesList:[],AllCusttrades:[],businessChoseList:[],dialogTableVisible:!1,sellproductShow:!1,targetBrand:!0,loading:!1,brandList:[],currentRow:[],brandFrom:{simply:"",name:"",pageindex:1,pagesize:10},Total:0,page_sizes:[15,20,25,50],form:{pageindex:1,pagesize:15}}},computed:{},methods:{handleChange:function(t){console.log(t)},Showbrandslist:function(){this.dialogTableVisible=!0,this.getbrandslist(this.brandFrom)},checkProduct:function(t){var e=this.$refs[t].currentValue;this.$refs.tree2.filter(e)},filterNode:function(t,e){return!t||-1!==e.text.indexOf(t)},handleSelect:function(t){console.log(t)},querySearchAsync:function(t,e){var a=[];i.a.customer.getCustomerByName({name:t}).then(function(t){200==t.data.code&&(a=t.data.data),e(a)})},businessSelectionChange:function(t){this.businessChoseList=t},Showsellproduct:function(){this.sellproductShow=!0},bodyClick:function(){this.sellproductShow=!1},checkChange:function(){this.categoryname="",this.categoryid="";for(var t=this.$refs.tree2.getCheckedNodes(),e="",a=0;a<t.length;a++)a==t.length-1?(e+=t[a].text,this.categoryid+=t[a].id):(e+=t[a].text+",",this.categoryid+=t[a].id+",");this.categoryname=e},addRow:function(){var t={partnername:"",brandname:"",industryid:""};this.supplierbusinessList.push(t)},removeRow:function(){if(this.businessChoseList.length>0)for(var t=0;t<this.supplierbusinessList.length;t++)for(var e=0;e<this.businessChoseList.length;e++){var a=this.businessChoseList[e];this.supplierbusinessList[t]==a&&this.supplierbusinessList.splice(t,1)}else this.$notify({title:"警告",message:"无可删除行",type:"warning"})},save:function(){var t={},e=this;t.brandids=this.brandids,t.productcatetoryids=this.categoryid,void 0==this.supplierbusiness.businesstrade?t.tradesid="":t.tradesid=this.supplierbusiness.businesstrade.join(","),t.supplierpartnerInputs=this.supplierbusinessList,o.a.post("cloudfactory/company/savebusiness",t).then(function(t){200==t.data.code?e.$message({message:"保存成功",type:"success",duration:1500,onClose:function(){location.reload()}}):e.$alert("保存失败","提示")})},onSubmit:function(){this.getbrandslist(this.brandFrom)},onResult:function(){if(null==this.currentRow)this.$notify({title:"警告",message:"请勾选供应商",type:"warning"});else{this.dialogTableVisible=!1;for(var t="",e=[],a=0;a<this.currentRow.length;a++)a==this.currentRow.length-1?(t+=this.currentRow[a].name,e+=this.currentRow[a].id):(t+=this.currentRow[a].name+",",e+=this.currentRow[a].id+",");this.sellbrand=t,this.brandids=e}},handleClickChange:function(t){this.$refs.singleTable.toggleRowSelection(t)},handleSelectionChange:function(t){this.currentRow=t},handleSizeChange:function(t){this.brandFrom.pagesize=t,this.getbrandslist(this.brandFrom)},handleCurrentChange:function(t){this.brandFrom.pageindex=t,this.getbrandslist(this.brandFrom)},getbrandslist:function(t){var e=this;this.loading=!0,i.a.supplier.getbrandslist(t).then(function(t){e.loading=!1,200==t.data.code&&(e.brandList=t.data.data.rows,e.Total=t.data.data.totalCount)})},formateSellProduct:function(t){for(var e=0;e<t.length;e++);}},created:function(){var t=this;i.a.supplier.productcatalog().then(function(e){200==e.data.code&&(t.sellproductList=e.data.data[0].children[0].children||[])}),i.a.supplier.suppliertrades().then(function(e){t.suppliertradesList=e.data.data[0].children||[]}),i.a.customer.getAllCusttrades().then(function(e){200==e.data.code&&(t.AllCusttrades=e.data.data)}),document.querySelectorAll("body")[0].addEventListener("click",this.bodyClick,!1)},beforeDestroy:function(){document.querySelectorAll("body")[0].removeEventListener("click",this.bodyClick,!1)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(90),s=a.n(i),o=a(323),n=a.n(o),l=a(87),r=a.n(l),c=a(88),u=a.n(c),d=a(89),p=a.n(d),m=a(1),h=a(2),f=a(53),v=a.n(f);e.default={name:"supplierDetail",data:function(){return{supplierName:"",supplierBase:{},suppliercontacts:[],supplierfinance:{},supplierfinanceList:[],supplierfinanceBase:{PayCurrency:[],SettleType:[],PaymentCondition:[],TaxClassify:[],TaxRate:[]},supplierbusiness:{},supplierbusinessList:[],cardauthenticate:{Businesslicense:{name:"",url:""},AgentCard:{name:"",url:""},CardOther:{name:"",url:""}},structauthenticate:{},BasedataInfo:{},focus:1,scollTop:!1}},methods:{handletabs:function(t,e){this.focus=t;var a=this.$refs[e].offsetTop;this.ScollFn(a-70)},ScollFn:function(t){window.scrollTo(0,t)},getinfo:function(t){var e=this;m.a.company.getinfo(t).then(function(t){200==t.data.code&&(e.supplierName=t.data.data.supplier.name,e.getSupplierBase(t.data.data),e.getSuppliercontacts(t.data.data.suppliercontacts),e.getSupplierfinance(t.data.data),e.getSupplierbusiness(t.data.data),e.getSupplierauthenticate(t.data.data))})},getSupplierBase:function(t){this.supplierBase=null==t.supplierbase?{}:t.supplierbase,this.supplierBase.companyName=t.supplier.name,this.supplierBase.shortname=t.supplier.shortname,this.supplierBase.founddate=h.a.formatDate.getDate(this.supplierBase.founddate),""!=this.supplierBase.province&&void 0!=this.supplierBase.province&&(this.supplierBase.area=this.supplierBase.province+"/"+this.supplierBase.city)},getSuppliercontacts:function(t){this.suppliercontacts=t},getSupplierfinance:function(t){var e={paycurrency:"",paymenttype:"",paycondition:"",settlename:"",taxtype:"",taxregistercode:"",invoicetype:"",taxrate:""};this.supplierfinance=null==t.supplierfinance?e:t.supplierfinance,this.supplierfinanceList=t.supplierbanks},getSupplierbusiness:function(t){this.supplierbusiness=null==t.supplierbusiness?{}:t.supplierbusiness,this.supplierbusiness.supplierbrands=t.supplierbrands,this.supplierbusiness.productcategories=t.supplierproductcategories,this.supplierbusinessList=t.supplierpartners,this.getTeamworkCustomer()},getSupplierauthenticate:function(t){var e=this;if(null!=t.supplierauthenticate){JSON.parse(t.supplierauthenticate.cardauthenticate).map(function(t,a,i){"Businesslicense"==t.AuthenticateName&&(e.cardauthenticate.Businesslicense={name:t.NameCN,url:t.ImgUrl}),"AgentCard"==t.AuthenticateName&&(e.cardauthenticate.AgentCard={name:t.NameCN,url:t.ImgUrl}),"CardOther"==t.AuthenticateName&&(e.cardauthenticate.CardOther={name:t.NameCN,url:t.ImgUrl})})}},getDictByTypeNumbers:function(t){var e=this;m.a.supplier.getDictByTypeNumbers(t).then(function(t){200==t.data.code&&(e.BasedataInfo={CompanyClassify:t.data.data.CompanyClassify,CompanyNature:t.data.data.CompanyNature,CompanyScale:t.data.data.CompanyScale},e.supplierfinanceBase={PayCurrency:t.data.data.Currency,SettleType:t.data.data.SettleType,PaymentCondition:t.data.data.PaymentCondition,TaxClassify:t.data.data.TaxClassify,TaxRate:t.data.data.TaxRate})})},getTeamworkCustomer:function(){var t=this;m.a.company.getTeamworkCustomer().then(function(e){if(200==e.data.code){for(var a=0;a<e.data.data.length;a++)e.data.data[a].disable=!0;t.supplierbusinessList=t.supplierbusinessList.concat(e.data.data)}})}},components:{"v-Information":s.a,"v-Business":n.a,"v-Contact":r.a,"v-Financial":u.a,"v-Identification":p.a,"v-backtop":v.a},created:function(){var t=this,e={typenumbers:"Currency,SettleType,PaymentCondition,TaxClassify,TendType,TaxRate,CompanyClassify,CompanyNature,CompanyScale"};this.getinfo(),this.getDictByTypeNumbers(e),this.$store.state.adminleftnavnum="/company/Profile",window.onscroll=function(){var e=document.documentElement.scrollTop||document.body.scrollTop;t.scollTop=e>=600}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),s=a(2);e.default={data:function(){return{enquiryDate:"",searchForm:{inquiryorderid:"",startcreattime:"",endcreattime:"",orderstatus:"",linkname:"",pageindex:1,pagesize:20},waitQuoteNum:0,QuotedNum:0,activeName:"all",tableData:[],open:!1,filters:[{value:"0",text:"待报价"},{value:"1",text:"已报价"},{value:"2",text:"已作废"}],pageSizes:[10,20,30,50,100,200,500,1e3],total:0,throttles:{search:!0,refresh:!0}}},beforeCreate:function(){},created:function(){this.$store.state.adminleftnavnum="/EnquirySheet/enquirySheet",this.fetchData()},beforeUpdate:function(){},updated:function(){},beforeMount:function(){},mounted:function(){},filters:{},computed:{},methods:{changeDate:function(t){var e=t.split(" - ");this.searchForm.startcreattime=e[0],this.searchForm.endcreattime=e[1]},rowBackground:function(t,e){return"已作废"===t.statu?"rowBgColor-d":e%2?"rowBgColor":void 0},filterTag:function(t,e){return e.orderstatus===t},quotedStatu:function(t){return"0"===t?"icon-statu-a":"1"===t?"icon-statu-b":"2"===t?"icon-statu-c":"icon-statu-d"},checkedStatu:function(t){return"0"===t?"待报价":"1"===t?"已报价":"2"===t?"已作废":void 0},handleSizeChange:function(t){this.searchForm.pageindex=1,this.searchForm.pagesize=t,this.fetchData()},handleCurrentChange:function(t){this.searchForm.pageindex=t,this.fetchData()},ClickMark:function(t,e){var a=this,s={inquiryorderid:e.inquiryorderid};parseInt(e.ismark)?i.a.inquiryorder.unmarkbyid(s).then(function(e){a.tableData[t].ismark=0}):i.a.inquiryorder.markbyid(s).then(function(e){a.tableData[t].ismark=1})},toquotationDetail:function(t,e){this.$router.push({path:"/EnquirySheet/EnquirySheetDetail/"+t,query:{isread:e}})},submitSearchForm:function(){this.throttles.search&&(this.throttles.search=!1,this.$message.closeAll(),this.fetchData({search:!0}))},resetSearchForm:function(t){this.enquiryDate="",this.searchForm={inquiryorderid:"",startcreattime:"",endcreattime:"",orderstatus:"",linkname:"",isread:"",pageindex:1,pagesize:20}},handleClickTabs:function(t){"all"==t.name?this.searchForm.orderstatus="":this.searchForm.orderstatus=t.name,this.searchForm.pageindex=1,this.fetchData()},handRefresh:function(){this.throttles.refresh&&(this.throttles.refresh=!1,this.$message.closeAll(),this.fetchData({refresh:!0}))},fetchData:function(t){var e=this,a=this.searchForm;t&&t.data&&(a=t.data),i.a.inquiryorder.getinquiryorders(a).then(function(i){var o=i.data;if(o.code){if(o.datalist){for(var n=0;n<o.datalist.length;n++)o.datalist[n].creattime=o.datalist[n].creattime&&s.a.DateFormat(o.datalist[n].creattime,"yyyy-MM-dd  hh:mm:ss"),o.datalist[n].asktime=o.datalist[n].asktime&&s.a.DateFormat(o.datalist[n].asktime,"yyyy-MM-dd  hh:mm:ss"),o.datalist[n].facktime=o.datalist[n].facktime&&s.a.DateFormat(o.datalist[n].facktime,"yyyy-MM-dd  hh:mm:ss");e.tableData=o.datalist,e.total=o.datacount,e.waitQuoteNum=o.unreadcount,t&&t.search&&("0"===a.orderstatus?e.activeName="0":"1"===a.orderstatus?e.activeName="1":e.activeName="all",e.$message.success("查询成功")),t&&t.refresh&&e.$message.success("刷新成功")}}else e.$message.error("服务端错误");e.throttles.search=!0,e.throttles.refresh=!0})}},watch:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(197),s=a.n(i),o=a(2),n=a(327),l=a.n(n),r=a(328),c=a.n(r);e.default={components:{"v-window":l.a,"v-importBox":c.a},data:function(){return{a:"嗨",InfoShow:!0,isShowImport:!1,baseData:{},activeName:"first",windowShow:!1,tableDataIndex:0,tableData:[],options:[{text:"13%",value:""}],dialogVisible:!1,dialogTitle:"",dialogData:{},pricenotaxIndex:0,isDeliverytime:!0,isImportPricenotax:!0,throttles:{refresh:!0,save:!0,quoted:!0,DownDrawing:!0},isSave:!1}},beforeCreate:function(){},created:function(){this.$store.state.adminleftnavnum="/EnquirySheet/enquirySheet",this.fetchData()},beforeUpdate:function(){},updated:function(){},beforeMount:function(){},beforeDestroy:function(){},destroyed:function(){},mounted:function(){var t=this;if(!parseInt(this.$route.query)){var e=this.$route.params;this.$api.inquiryorder.markreadbyid(e).then(function(e){200!=e.data.code&&t.$message.error("标记已读失败")})}},filters:{toFixed2:function(t){return parseFloat(t||0).toFixed(2)}},methods:{ClickRefresh:function(){this.isSaveFun()||this.throttles.refresh&&(this.throttles.refresh=!1,this.$message.closeAll(),this.fetchData({refresh:!0}))},ClickQuoted:function(){var t=this;if(!this.isSaveFun()&&this.throttles.quoted){this.throttles.quoted=!1,this.$message.closeAll();var e={inquiryorderid:this.$route.params.inquiryorderid};this.$api.inquiryorder.confirmwillorder(e).then(function(e){200==e.data.code?t.$message.success("报价成功"):t.$alert(e.data.message?e.data.message:"服务端错误","提示",{confirmButtonText:"确定"}),t.throttles.quoted=!0})}},ClickSave:function(){var t=this;if(this.throttles.save){this.throttles.save=!1,this.$message.closeAll();for(var e=this.tableData,a=0;a<e.length;a++)if(e[a].iscando)if(e[a].pricenotax&&"0"!=e[a].pricenotax){if(!e[a].deliverytime)return this.$message.error("能做的产品，请您填写货期"),void(this.throttles.save=!0)}else if(!e[a].deliverytime||!e[a].pricewithtax)return this.$message.error("能做的产品，请您填写货期和含税单价"),void(this.throttles.save=!0);e=[];for(var i=0;i<this.tableData.length;i++)if("object"===s()(this.tableData[i])){e[i]={};for(var o in this.tableData[i])e[i][o]="iscando"==o?this.tableData[i][o]?"1":"0":"issendcost"==o?this.tableData[i][o]?1:0:this.tableData[i][o]}var n={inquiryorderid:this.$route.params.inquiryorderid,detailList:e};this.$api.inquiryorder.updateinquiryorder(n).then(function(e){200==e.data.code?(t.fetchData(),t.$message.success("保存成功"),t.isSave=!1):t.$message.error(e.data.message),t.throttles.save=!0})}},ClickDownDrawing:function(){var t=this;if(this.throttles.DownDrawing){this.throttles.DownDrawing=!1,this.$message.closeAll();var e={inquiryorderid:this.$route.params.inquiryorderid};this.$api.inquiryorder.downloadattachment(e).then(function(e){200==e.data.code?location.href=e.data.data:t.$message.error(e.data.message?e.data.message:"服务器错误"),t.throttles.DownDrawing=!0})}},ClickProductcode:function(t){this.windowShow=!0,this.tableDataIndex=t},checkedStatu:function(t){return"0"===t?"待报价":"1"===t?"已报价":"2"===t?"已作废":void 0},handleClick:function(){},ClickPricenotax:function(t,e){this.dialogVisible=!0,this.pricenotaxIndex=e},ClickDialogConfirm:function(){var t=this.tableData,e=this.pricenotaxIndex;t[e].pricenotax=(parseFloat(t[e].materialcost)+parseFloat(t[e].workcost)+parseFloat(t[e].dealwithcost)).toFixed(2),t[e].pricewithtax=t[e].pricenotax*(1+t[e].taxrate/100),t[e].taxamount=parseFloat(t[e].pricewithtax)*t[e].orderamount,this.dialogVisible=!1},isImportDeliverytime:function(t){return this.isDeliverytime=t,t},isImportPricewithtaxFnc:function(t){return this.isImportPricenotax=t,t},handleClose:function(){this.dialogVisible=!1},handleSelectionChange:function(){},fetchData:function(t){var e=this,a={inquiryorderid:this.$route.params.inquiryorderid};t&&t.data&&(a=t.data),this.tableData=[],this.$api.inquiryorder.getinquiryorderbyid(a).then(function(a){if(200==a.data.code&&a.data.data){var i=a.data.data;i.creattime=i.creattime?o.a.DateFormat(i.creattime,"yyyy-MM-dd  hh:mm:ss"):"--",i.asktime=i.asktime?o.a.DateFormat(i.asktime,"yyyy-MM-dd  hh:mm:ss"):"--",i.facktime=i.facktime?o.a.DateFormat(i.facktime,"yyyy-MM-dd  hh:mm:ss"):"--",i.remindtime=i.remindtime?o.a.DateFormat(i.remindtime,"yyyy-MM-dd  hh:mm:ss"):"--",e.baseData=i,t&&t.method&&t.method();for(var s=0;s<i.detailList.length;s++)i.detailList[s].iscando="1"==i.detailList[s].iscando,i.detailList[s].issendcost="1"==i.detailList[s].issendcost,i.detailList[s].materialcost=i.detailList[s].materialcost?i.detailList[s].materialcost.toFixed(2):"0.00",i.detailList[s].workcost=i.detailList[s].workcost?i.detailList[s].workcost.toFixed(2):"0.00",i.detailList[s].dealwithcost=i.detailList[s].dealwithcost?i.detailList[s].dealwithcost.toFixed(2):"0.00",i.detailList[s].pricewithtax=i.detailList[s].pricewithtax?i.detailList[s].pricewithtax.toFixed(2):"0.00",i.detailList[s].pricenotax=i.detailList[s].pricenotax?i.detailList[s].pricenotax.toFixed(2):"0.00";e.tableData=i.detailList;for(var n=0;n<a.data.taxratelist.length;n++)a.data.taxratelist[n].text=a.data.taxratelist[n].value+"%";e.options=a.data.taxratelist,t&&t.refresh&&e.$message.success("刷新成功")}else e.$message.success(a.data.data);e.throttles.refresh=!0})},ClickImOutport:function(){this.isShowImport=!0},ChangeTaxrate:function(t,e){var a=this.tableData;a[e].pricewithtax=(parseFloat(a[e].pricenotax)*(1+t/100)).toFixed(2),a[e].taxamount=(parseFloat(a[e].pricewithtax)*a[e].orderamount).toFixed(2)},rowBackground:function(t,e){return"已作废"===t.statu?"rowBgColor-d":e%2?"rowBgColor":void 0},BlurPricewithtax:function(t,e){this.tableData[e].pricewithtax=t.target.value?parseFloat(parseFloat(t.target.value).toFixed(2)):"0.00"},BlurMaterialcost:function(t,e){this.tableData[e].materialcost=t.target.value?parseFloat(t.target.value).toFixed(2):"0.00"},BlurWorkcost:function(t,e){this.tableData[e].workcost=t.target.value?parseFloat(t.target.value).toFixed(2):"0.00"},BlurDealwithcost:function(t,e){this.tableData[e].dealwithcost=t.target.value?parseFloat(t.target.value).toFixed(2):"0.00"},KeydownNumber:function(t){var e=t.keyCode;t.returnValue=e>=48&&e<=57||e>=96&&e<=105||110==e||190==e||8==e||37==e||39==e},isSaveFun:function(){return!!this.isSave&&(this.$alert("修改内容未保存，请先保存","提示",{confirmButtonText:"确定"}),!0)}},computed:{},watch:{tableData:{handler:function(t,e){e.length?(this.isSave=!0,this.$store.commit("isSaveEnquirySheetDetailFun",{isSave:!0})):(this.isSave=!1,this.$store.commit("isSaveEnquirySheetDetailFun",{isSave:!1}))},deep:!0}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["inquiryorderid","windowShow","tableData","i","optionsRate","fetchData"],beforeUpdate:function(){},data:function(){return{isdo:!1,minNum:1,dayNum:1,ishan:!0,RateValue:0,input1:10,throttles:{save:!0}}},methods:{ClickDiv:function(){this.$emit("update:windowShow",!1)},BlurWorkcost:function(){this.tableData[this.i].workcost=event.target.value?Number(event.target.value).toFixed(2):"0.00",this.pricenotaxComputed(),this.pricewithtaxComputed(),this.taxamountComputed()},BlurMaterialcost:function(){this.tableData[this.i].materialcost=event.target.value?Number(event.target.value).toFixed(2):"0.00",this.pricenotaxComputed(),this.pricewithtaxComputed(),this.taxamountComputed()},BlurDealwithcost:function(){this.tableData[this.i].dealwithcost=event.target.value?Number(event.target.value).toFixed(2):"0.00",this.pricenotaxComputed(),this.pricewithtaxComputed(),this.taxamountComputed()},BlurPricewithtax:function(t){this.tableData[this.i].pricewithtax=t.target.value?Number(t.target.value).toFixed(2):"0.00",this.taxamountComputed()},KeydownNumber:function(t){var e=t.keyCode;t.returnValue=e>=48&&e<=57||e>=96&&e<=105||110==e||190==e||8==e||37==e||39==e},Save:function(){var t=this;if(this.throttles.save){this.throttles.save=!1,this.$emit("update:tableData",this.tableData);var e=this.tableData[this.i];if(e.iscando)if(e.pricenotax){if(!e.deliverytime)return this.$notify.info({title:"提示",message:"能做的产品，请您填写货期"}),void(this.throttles.save=!0)}else if(!e.deliverytime||!parseFloat(e.pricewithtax))return this.$notify.info({title:"提示",message:"能做的产品，请您填写货期和含税单价"}),void(this.throttles.save=!0);e={};for(var a in this.tableData[this.i])e[a]="iscando"==a?this.tableData[this.i][a]?"1":"0":"issendcost"==a?this.tableData[this.i][a]?1:0:this.tableData[this.i][a];var i={inquiryorderid:this.inquiryorderid,detailList:[e]};this.$api.inquiryorder.updateinquiryorder(i).then(function(e){200==e.data.code?(t.$message.success("保存成功"),t.$emit("update:windowShow",!1)):t.$message.error(e.data.data?e.data.data:"服务端错误"),t.throttles.save=!0})}},cancel:function(){this.$emit("update:windowShow",!1)},pricenotaxComputed:function(){this.tableData[this.i].pricenotax=(parseFloat(this.tableData[this.i].materialcost)+parseFloat(this.tableData[this.i].workcost)+parseFloat(this.tableData[this.i].dealwithcost)).toFixed(2)},pricewithtaxComputed:function(){this.tableData[this.i].pricewithtax=(parseFloat(this.tableData[this.i].pricenotax)*(1+this.tableData[this.i].taxrate/100)).toFixed(2)},taxamountComputed:function(){this.tableData[this.i].taxamount=(parseFloat(this.tableData[this.i].pricewithtax)*parseFloat(this.tableData[this.i].orderamount)).toFixed(2)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["inquiryorderid"],data:function(){return{importModelUrl:"",actionUrl:"/cloudfactory/inquiryorder/uploadorder",headers:{sessid_id:""},uploadPrams:{inquiryorderid:"",excelorder:""},fileList:[],disabled:!0}},created:function(){var t=sessionStorage.getItem("token");this.headers.sessid_id=t},methods:{ClickModel:function(){var t={inquiryorderid:this.inquiryorderid};this.$api.inquiryorder.downloadorder(t).then(function(t){location.href=t.data.data})},submitUpload:function(){this.$refs.upload.submit(),this.$emit("listenUploadorder",!1)},beforeAvatarUpload:function(t){var e=!1;"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==t.type&&"application/vnd.ms-excel"!==t.type||(e=!0),e||""!==t.type||"xls"!==t.name.split(".")[1]&&"xlsx"!==t.name.split(".")[1]||(e=!0);var a=t.size/1024/1024<5;return e||this.$message.error("文件格式错误，请选择Excel文件!"),a||this.$message.error("上传文件大小大小不能超过 5MB!"),e&&a},handleChange:function(t,e){this.uploadPrams.inquiryorderid=this.inquiryorderid,this.uploadPrams.excelorder=t.url,this.disabled=!1,e.length>1&&(this.fileList=e.slice(1))},handleremove:function(t,e){this.disabled=!0,this.fileList=e,document.querySelectorAll("input[name=excelorder]")[0].value=""},handleSuccess:function(t,e,a){var i=this;i.fileList=[],i.disabled=!0,200==e.response.code?this.$message({message:"上传成功",type:"success",duration:1500,onClose:function(){i.$emit("listenUploadorder",!1)}}):this.$message.error(e.response.message)},handleError:function(t,e,a){this.$alert("上传失败，请重新上传","提示",{confirmButtonText:"确定",callback:function(t){}})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{throttleVar:{search:!0},searchForm:{devicetype:"",devicename:"",suppliername:"",devicemodel:"",devicebrand:"",deviceprecision:"",deviceprecisiondegree:"",worktimestart:"",worktimeend:""},deviceprecision:[],deviceprecisiondegree:[],worktime:"",options:{devicetype:[{number:"",name:"全部"}],devicename:[{number:"C",name:"已审核"}],suppliername:[{number:"",name:"全部"}],forbidstatus:[{number:"",name:"全部"}],deviceprecision:[{number:"",name:"全部"}],deviceprecisiondegree:[{number:"",name:"全部"}]},activeName:"",tableData:[{number:"number",id:"4848484"}],open:!1,filters:[{value:"待报价",text:"待报价"},{value:"已报价",text:"已报价"},{value:"已询价",text:"已询价"},{value:"已作废",text:"已作废"}],form:{region:""},ruleForm:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},currentPage:1,pageSizes:[10,20,30,50,100,200,500,1e3],currentPageSize:10,totalCount:10,initPageIndex:1,initPageSize:10,throttles:{search:!0,refresh:!0,export:!0}}},beforeCreate:function(){},created:function(){var t=this;this.$store.state.adminleftnavnum="/List/equipmentList",this.$api.equipment.addSupplierdevice().then(function(e){e.data=JSON.parse(e.data),200==e.data.code&&(e.data.deviceName.unshift({name:"全部",number:""}),t.options.devicename=e.data.deviceName,e.data.devicetype.unshift({name:"全部",number:""}),t.options.devicetype=e.data.devicetype,t.options.deviceprecision=e.data.devicePrecision,t.options.deviceprecisiondegree=e.data.machiningprecision)}),this.fetchData()},beforeUpdate:function(){},updated:function(){},beforeMount:function(){},mounted:function(){},filters:{},methods:{changeWorktime:function(t){var e=t.split(" - ");this.searchForm.worktimestart=e[0],this.searchForm.worktimeend=e[1]},rowBackground:function(t,e){return"已作废"===t.statu?"rowBgColor-d":e%2?"rowBgColor":void 0},toCustomerDetail:function(t){this.$router.push({path:"/Manage/Customer/CustomerDetail/"+t})},handleSizeChange:function(t){this.currentPage=this.initPageIndex,this.currentPageSize=t,this.fetchData()},handleCurrentChange:function(t){this.currentPage=t,this.fetchData()},submitSearchForm:function(){this.throttles.search&&(this.throttles.search=!1,this.$message.closeAll(),this.fetchData({search:!0}))},resetSearchForm:function(t){this.$refs[t].resetFields(),this.worktime="",this.deviceprecision=[],this.deviceprecisiondegree=[]},handRefresh:function(){this.throttles.refresh&&(this.throttles.refresh=!1,this.$message.closeAll(),this.currentPage=this.initPageIndex,this.fetchData({refresh:!0}))},ClickExport:function(){var t=this;if(this.throttles.export){this.throttles.export=!1,this.$message.closeAll();var e=this.searchForm;this.$api.equipment.excelExp(e).then(function(e){200==e.data.code?location.href=e.data.code:t.$message.error(e.data.data?e.data.data:"服务端错误"),t.throttles.export=!0})}},fetchData:function(t){var e=this,a=this.searchForm;a.deviceprecision=this.deviceprecision.join(","),a.deviceprecisiondegree=this.deviceprecisiondegree.join(","),a.pageindex=this.currentPage,a.pagesize=this.currentPageSize,t&&t.params&&(a=t.params),this.$api.equipment.supplierdeviceList(a).then(function(a){if(200==a.data.code){for(var i=0;i<a.data.datalist.length;i++)a.data.datalist[i].worktime=a.data.datalist[i].worktime&&e.$util.DateFormat(a.data.datalist[i].worktime,"yyyy-MM-dd");e.tableData=a.data.datalist,e.totalCount=a.data.datasum,t&&t.search&&e.$message.success("查询成功"),t&&t.refresh&&e.$message.success("刷新成功")}else console.log(a),e.$message.error(a.data.data?a.data.data:"服务端错误");e.throttles.search=!0,e.throttles.refresh=!0})}},computed:{},watch:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["isShowImport","dialogVisible","ClickExport","disabled"],created:function(){var t=sessionStorage.getItem("token");this.Data.headers.sessid_id=t},data:function(){return{Data:{actionUrl:"/cloudfactory/supplierdevice/excelImp",headers:{sessid_id:""},uploadPrams:{device:""}},importModelUrl:"",fileList:[]}},methods:{submitUpload:function(){this.$refs.upload.submit()},beforeAvatarUpload:function(t){var e=!1;"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==t.type&&"application/vnd.ms-excel"!==t.type||(e=!0),e||""!==t.type||"xls"!==t.name.split(".")[1]&&"xlsx"!==t.name.split(".")[1]||(e=!0);var a=t.size/1024/1024<5;return e||this.$message.error("文件格式错误，请选择Excel文件!"),a||this.$message.error("上传文件大小大小不能超过 5MB!"),e&&a},handleChange:function(t,e){this.Data.uploadPrams.device=t.url,this.$emit("update:disabled",!1),e.length>1&&(this.fileList=e.slice(1))},handleremove:function(t,e){this.$emit("update:disabled",!0),this.fileList=e,document.querySelectorAll("input[name=excelorders]")[0].value=""},handleSuccess:function(t,e,a){this.fileList=[],this.$emit("update:disabled",!1),200==e.response.code?(this.$emit("update:isShowImport",!1),this.$message.success("上传成功")):(this.$emit("update:isShowImport",!1),this.$emit("update:ImportErrorTip",e.response.message),this.$emit("update:dialogVisible",!0))},handleError:function(t,e,a){this.$alert("上传失败，请重新上传","提示",{confirmButtonText:"确定",callback:function(t){}})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(2),s=a(330),o=a.n(s);e.default={components:{"v-Dialog":o.a},created:function(){this.fetchData(),this.getBaseOptions(),this.$store.state.adminleftnavnum="/Manage/equipment"},data:function(){return{keyword:"",closeIcon:"",tableData:[],multipleSelection:[],dialogTitle:"",dialogFormVisible:!1,dialogformData:{devicetype:"加工设备",devicename:"",devicemodel:"",devicebrand:"",deviceqty:"",deviceprecision:"",deviceprecisiondegree:"",worktime:""},rules:{devicename:[{required:!0,message:"请输入设备名称",trigger:"blur"}],deviceqty:[{type:"number",required:!0,message:"请输入设备台数",trigger:"blur"}]},options:{devicename:[],devicetype:[],deviceprecision:[],deviceprecisiondegree:[]},formLabelWidth:"90px",checkedTechnologys:[],Technologys:[],userid:"",pageSizes:[10,20,50,100,500],currentPageSize:10,currentPage:1,totalCount:10,initPageIndex:1,initPageSize:10,isShowImport:!1,pickerOptions1:{shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},dialogVisible:!1,ImportErrorTip:"导入错误提示",throttles:{refresh:!0,export:!0},disabled:!0}},watch:{$rotue:"fetchData"},methods:{handRefresh:function(){this.throttles.refresh&&(this.throttles.refresh=!1,this.$message.closeAll(),this.currentPage=this.initPageIndex,this.fetchData({refresh:!0}))},ClickImport:function(){this.isShowImport=!0},ClickExport:function(){var t=this;if(this.throttles.export){this.throttles.export=!1,this.$message.closeAll();var e={devicetype:"",devicename:"",suppliername:"",devicemodel:"",devicebrand:"",deviceprecision:"",deviceprecisiondegree:"",worktimestart:"",worktimeend:""};this.$api.equipment.deviceManageExp(e).then(function(e){200==e.data.code?location.href=JSON.parse(e.data.data).data:t.$message.error("服务端错误"),t.throttles.export=!0})}},Add:function(t){this.dialogTitle="新增设备",this.dialogformData={devicetype:"加工设备",devicename:"",devicemodel:"",devicebrand:"",deviceqty:"",deviceprecision:"",deviceprecisiondegree:"",worktime:""},this.dialogFormVisible=!0},Add_cancel:function(){this.dialogFormVisible=!1},Add_confirm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var a=e.dialogformData;a.worktime=a.worktime&&i.a.DateFormat(a.worktime,"yyyy-MM-dd"),e.$api.equipment.saveSupplierdevice(a).then(function(t){200==t.data.code?("新增设备"===e.dialogTitle&&e.$message.success("新增成功"),"编辑设备"===e.dialogTitle&&e.$message.success("编辑成功"),e.fetchData(),e.dialogFormVisible=!1):e.$message.error(t.data.message)})})},handleEdit:function(t,e){this.dialogTitle="编辑设备",this.dialogformData={id:this.tableData[t].id,devicetype:this.tableData[t].devicetype,devicename:this.tableData[t].devicename,devicemodel:this.tableData[t].devicemodel,devicebrand:this.tableData[t].devicebrand,deviceqty:this.tableData[t].deviceqty,deviceprecision:this.tableData[t].deviceprecision,deviceprecisiondegree:this.tableData[t].deviceprecisiondegree,worktime:this.tableData[t].worktime},this.dialogFormVisible=!0},handleDelete:function(t,e){var a=this,i=this.$createElement;this.$msgbox({title:"提示",message:i("p",null,[i("span",null,"删除后不可恢复，你确定要删除吗？")]),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(t,i,s){if("confirm"===t){i.confirmButtonLoading=!0,i.confirmButtonText="执行中...";var o={id:e.id};a.$api.equipment.delSupplierdevice(o).then(function(t){200==t.data.code&&(a.$message({message:"删除成功",type:"success"}),a.fetchData(),i.confirmButtonLoading=!1,s())})}else s()}})},handleSizeChange:function(t){this.currentPage=this.initPageIndex,this.currentPageSize=t,this.fetchData()},handleCurrentChange:function(t){this.currentPage=t,this.fetchData()},fetchData:function(t){var e=this,a={pageindex:this.currentPage,pagesize:this.currentPageSize};t&&t.params&&(a=t.params),this.$api.equipment.deviceManage(a).then(function(a){if(200==a.data.code){for(var s=0;s<a.data.datalist.length;s++)a.data.datalist[s].worktime=a.data.datalist[s].worktime&&i.a.DateFormat(a.data.datalist[s].worktime,"yyyy-MM-dd");e.tableData=a.data.datalist,e.totalCount=a.data.datasum,t&&t.refresh&&e.$message.success("刷新成功")}else e.$util.isError(a.data);e.throttles.refresh=!0})},handleSelectionChange:function(t){this.multipleSelection=t},getBaseOptions:function(){var t=this;this.$api.equipment.addSupplierdevice().then(function(e){var a=JSON.parse(e.data);200==a.code?(t.options.devicetype=a.devicetype,t.options.devicename=a.deviceName,t.options.deviceprecision=a.devicePrecision,t.dialogformData.devicename="普车",t.options.deviceprecisiondegree=a.machiningprecision):t.$util.isError(e.data)})},handleClose:function(){this.dialogVisible=!1},againImport:function(){this.dialogVisible=!1,this.isShowImport=!0,this.disabled=!0}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1);e.default={data:function(){return{username:"",companyname:""}},methods:{Logout:function(){var t=this;this.$confirm("确认退出吗?","提示",{}).then(function(){i.a.user.logout().then(function(e){sessionStorage.removeItem("token"),sessionStorage.removeItem("userInfo"),t.setCookie("sessionid"," ",-1),t.setCookie("userInfo"," ",-1),t.$router.push("/")})})},toHome:function(){this.$router.push("/Track/order")},setCookie:function(t,e,a){var i=new Date;i.setDate(i.getDate()+a),document.cookie=t+"="+escape(e)+(null==a?"":";expires="+i.toGMTString())}},created:function(){var t=JSON.parse(sessionStorage.getItem("userInfo"));null!=t&&" "!=t||this.$router.push("/Track/order"),this.username=t.username,this.companyname=t.companyname}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(61),s=a.n(i),o=a(62),n=a.n(o),l=a(1);e.default={data:function(){return{loginForm:{moblie:"",password:"",checked:!1},rules:{moblie:[{validator:function(t,e,a){if(!e)return a(new Error("手机号不能为空"));setTimeout(function(){/^1[34578]\d{9}$/.test(e)&&n()(e)?a():a(new Error("手机号有误，请重填"))},500)},trigger:"blur"}],password:[{validator:function(t,e,a){if(!e)return a(new Error("密码不能为空"));a()},trigger:"blur"}]},checked:!1,load:!1,fullscreenLoading:!1}},methods:{submit:function(t){var e=this,a=this;this.load=!0,this.$refs[t].validate(function(t){if(t){e.load=!1;var i={nameOrMobile:a.loginForm.moblie,password:a.loginForm.password,day:7};a.Login(i)}else e.load=!1})},Login:function(t){var e=this,a=this;l.a.user.login(t).then(function(t){if(200==t.data.code){a.fullscreenLoading=!1;var i={companyid:t.data.data.companyid,factoryid:t.data.data.factoryid,username:t.data.data.username,companyname:t.data.data.companyname};a.checked&&a.setCookie("sessionid",t.data.data.sessionid,7),sessionStorage.setItem("token",t.data.data.sessionid),sessionStorage.setItem("userInfo",s()(i)),a.setCookie("userInfo",s()(i),7),e.getAuthoritys()}else{var o="";switch(t.data.code){case"URC0002":o="用户名或手机号不存在";break;case"URC0003":o="该账户已禁用";break;case"URC0004":o="登录成功";break;case"URC0005":o="旧密码错误";break;case"URC0006":o="保存成功";break;case"URC0007":o="用户名不能为空";break;case"URC0008":o="手机号不能为空";break;case"URC0009":o="用户名已存在";break;case"URC0010":o="手机号已存在";break;case"URC0011":o="密码错误";break;case"URC0012":o="用户不存在"}a.$alert(o,"错误提示",{confirmButtonText:"确定"})}})},setCookie:function(t,e,a){var i=new Date;i.setDate(i.getDate()+a),document.cookie=t+"="+escape(e)+(null==a?"":";expires="+i.toGMTString())},getCookie:function(t){if(document.cookie.length>0){var e=document.cookie.indexOf(t+"=");if(-1!=e){e=e+t.length+1;var a=document.cookie.indexOf(";",e);return-1==a&&(a=document.cookie.length),unescape(document.cookie.substring(e,a))}}return""},checkCookie:function(){var t=this.getCookie("sessionid"),e=this.getCookie("userInfo");null!=t&&""!=t&&null!=e&&""!=e&&(sessionStorage.setItem("token",t),sessionStorage.setItem("userInfo",e),this.getAuthoritys())},getAuthoritys:function(){var t=this;l.a.user.getAuthoritys().then(function(e){if(200==e.data.code){var a=!0;t.$store.state.Authoritys=e.data.data;for(var i=0;i<e.data.data.length;i++)"Track/order"==e.data.data[i].url&&1==e.data.data[i].authority&&(a=!1,t.$router.push({path:"/Track/order"}));a&&t.$router.push({path:"/Manage/Customer"})}else t.$alert("获取权限信息失败","错误提示")})}},created:function(){var t=this;window.onkeydown=function(e){var a=e||(window.event?window.event:null);a&&13==a.keyCode&&t.submit("loginForm")},this.checkCookie()}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1);e.default={props:{sidebar:{type:Boolean}},data:function(){return{navselected:"/Track/order",iconList:[],Authoritys:[],enquirySheet:!0,quotation:!0,order:!0,Employee:!0,Customer:!0,SupplierList:!0,equipment:!0,equipmentList:!0,Profile:!0}},methods:{handleOpen:function(t,e){},handleClose:function(t,e){},getNavType:function(){this.navselected=this.$store.state.adminleftnavnum},selectItems:function(t){this.$store.state.adminleftnavnum=t},sidebar_btn:function(){var t=!this.sidebar;this.$emit("listenSidebar",t)},checkAuthoritys:function(t){for(var e=0;e<t.length;e++){this[t[e].url.split("/")[1]]=1==t[e].authority}}},watch:{"$store.state.adminleftnavnum":"getNavType"},created:function(){var t=this;if(0==this.$store.state.Authoritys.length)i.a.user.getAuthoritys().then(function(e){if(200==e.data.code){var a=e.data.data;t.$store.state.Authoritys=a,t.Authoritys=a,t.checkAuthoritys(a)}});else{var e=this.$store.state.Authoritys;this.checkAuthoritys(e)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(2);e.default={name:"orderFoot",props:{orderstatistics:{type:Array}},computed:{outputorder:function(){var t={};return t.totalmoney=i.a.outputdollars(this.orderstatistics[0].totalmoney.toString()),t.unsendmoney=i.a.outputdollars(this.orderstatistics[0].unsendmoney.toString()),t.totalcount=i.a.outputdollars(this.orderstatistics[0].totalcount.toString()),t.unsendcount=i.a.outputdollars(this.orderstatistics[0].unsendcount.toString()),t}},data:function(){return{show:!0}},watch:{"$store.state.footShow":"footShow"},methods:{footShow:function(){this.show=this.$store.state.footShow}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(61),s=a.n(i),o=a(1),n=a(139),l=a(334),r=a.n(l),c=a(341),u=a.n(c),d=a(340),p=a.n(d),m=a(86),h=a.n(m),f=a(2);e.default={data:function(){return{productmodelShow:!1,form:{productmodel:"",productname:"",clientname:"",outorderid:"",inorderid:"",ispicture:"",createtime:"",deliverydatetime:"",startcreatetime:null,endcreatetime:null,startdeliverydatetime:null,enddeliverydatetime:null,orderitemstatus:"",technologyname:"",technologystatus:"",minamount:"",maxamount:"",minmoney:"",maxmoney:"",remark:"",companyid:"",factoryid:"",sessionid:"",pageindex:"1",pagesize:"10"},icon:{productmodel:"",clientname:"",productname:"",outorderid:"",inorderid:"",technologyname:"",remark:"",minmoney:"",maxmoney:"",minamount:"",maxamount:""},technologystatusArry:[{value:"",label:"全部"},{value:"0",label:"待来料"},{value:"1",label:"待处理"},{value:"2",label:"进行中"},{value:"3",label:"已完成"}],technologyitemstatus:[{value:"0",label:"待来料"},{value:"1",label:"待处理"},{value:"2",label:"进行中"},{value:"3",label:"已完成"}],show:!1,optionData:[],checkedArr:[],defaultProps:{children:"children",label:"label"},showOption:!1,showTableCell:{},page_sizes:[10,20,30,50,100,200,500,1e3],Total:0,dialogUploadorder:!1,dialogTechnologyroute:!1,uploadPrams:{},tableData3:[],listLoading:!1,multipleSelection:[],pickerOptions:{},orderDate:"",EmptyTip:!0,TechnologyrouteInfo:null,footShow:!0,orderstatistics:[],productDetailData:{show:!1,currentTab:"first"},drawingData:{uploadRecord:[],ImgUrlArray:[]},progressData:{table01Data:[],table02Data:[]},recordData:{data:[]}}},computed:{orderEmptyTip:function(){return!this.listLoading&&0===this.tableData3.length}},methods:{querySearch:function(t,e){e([{value:"重复"},{value:"不重复"}])},createdateChange:function(t){if(!f.a.checkDateDaterange(t))return void this.$notify({title:"警告",message:"日期格式错误，请重新输入",type:"warning",duration:1500});var e=t.split(" - ");this.form.startcreatetime=e[0],this.form.endcreatetime=e[1]},deliverydateChange:function(t){if(!f.a.checkDateDaterange(t))return void this.$notify({title:"警告",message:"日期格式错误，请重新输入",type:"warning",duration:1500});var e=t.split(" - ");this.form.startdeliverydatetime=e[0],this.form.enddeliverydatetime=e[1]},onSubmit:function(){if(0==this.checkedParm()){var t={companyid:this.form.companyid,factoryid:this.form.factoryid};this.EmptyTip=!1,this.getOrderList(this.form,"查询成功"),this.footShow=!0,this.$store.state.footShow=!1,this.getorderstatistics(t)}},checkedParm:function(){var t=0,e="";return isNaN(this.form.minmoney)||isNaN(this.form.maxmoney)?(e+="总金额格式错误!",t++):parseFloat(this.form.minmoney)>parseFloat(this.form.maxmoney)&&(e+="起始总金额必须小于结束总金额!",t++),isNaN(this.form.minamount)||isNaN(this.form.maxamount)?(e+="订单数量格式错误!",t++):parseInt(this.form.minamount)>parseInt(this.form.maxamount)&&(e+="起始订单数量必须小于结束订单数量!",t++),t>0&&this.$notify({title:"温馨提示",message:e,type:"warning"}),t},onRest:function(t){this.form.minmoney="",this.form.maxmoney="",this.form.minamount="",this.form.maxamount="",this.$refs[t].resetFields(),this.getOrderList(this.form,"")},importVal:function(t){""!==this.form[t]?this.icon[t]="close":this.icon[t]=""},clearValue:function(){this.form.productmodel=""},clearValue2:function(t){this.form[t]=""},checkChange:function(t){for(var e=0;e<this.optionData.length;e++){if(this.optionData[e].id==t.id){this.optionData[e].checked=!this.optionData[e].checked;break}if(this.optionData[e].children)for(var a=0;a<this.optionData[e].children.length;a++)if(this.optionData[e].children[a].id==t.id){this.optionData[e].children[a].checked=!this.optionData[e].children[a].checked;break}}},optionConfirm:function(){window.localStorage.setItem("optionData",s()(this.optionData)),this.$message({message:"保存成功",type:"success",onClose:function(){location.reload()}})},handleSizeChange:function(t){this.form.pagesize=t,this.getOrderList(this.form,"")},handleCurrentChange:function(t){this.form.pageindex=t,this.getOrderList(this.form,"")},Uploadorder:function(t){this.dialogUploadorder=t,this.getOrderList(this.form,"")},Technologyroute:function(t){this.dialogTechnologyroute=!1,this.getOrderList(this.form,"")},exportExcel:function(){var t={productmodel:this.form.productmodel,productname:this.form.productname,clientname:this.form.clientname,outorderid:this.form.outorderid,inorderid:this.form.inorderid,ispicture:this.form.ispicture,orderitemstatus:this.form.orderitemstatus,technologyname:this.form.technologyname,technologystatus:this.form.technologystatus,companyid:this.form.companyid,factoryid:this.form.factoryid,pageindex:this.form.pageindex,pagesize:this.form.pagesize,startcreatetime:this.form.startcreatetime,endcreatetime:this.form.endcreatetime,startdeliverydatetime:this.form.startdeliverydatetime,enddeliverydatetime:this.form.enddeliverydatetime};o.a.order.downloadorders(t).then(function(t){200==t.data.code&&(window.location.href=t.data.data)})},printPage:function(){if(n.a.checkChoseorder(this.multipleSelection.length)){var t="";this.multipleSelection.map(function(e,a,i){a==i.length-1?t+="inorderid="+e.inorderid+"*productmodel="+e.productmodel+"*serialno="+e.serialno:t+="inorderid="+e.inorderid+"*productmodel="+e.productmodel+"*serialno="+e.serialno+"$"}),this.$router.push({path:"/Print/"+t})}},markUrgent:function(t){var e=this;if(n.a.checkChoseorder(this.multipleSelection.length)){var a={companyid:this.form.companyid,factoryid:this.form.factoryid,sessionid:this.form.sessionid,productmodel:this.multipleSelection[0].productmodel,serialno:this.multipleSelection[0].serialno,inorderid:this.multipleSelection[0].inorderid,isurgent:null};"true"===t?this.urgentTip("取消加急",function(){a.isurgent=0,e.updateorderforurgent(a)}):this.urgentTip("标记加急",function(){a.isurgent=1,e.updateorderforurgent(a)})}},updateorderforurgent:function(t){var e=this;o.a.order.updateorderforurgent(t).then(function(t){200==t.data.code&&e.$message({message:"更新成功",type:"success",onClose:function(){e.getOrderList(e.form,"")}})})},urgentTip:function(t,e){this.$confirm("确定要"+t+"所选产品吗?",t,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e()}).catch(function(){})},hardClosed:function(t){var e=this;if(n.a.checkChoseorder(this.multipleSelection.length)){var a={companyid:this.form.companyid,factoryid:this.form.factoryid,sessionid:this.form.sessionid,inorderid:this.multipleSelection[0].inorderid,productmodel:this.multipleSelection[0].productmodel,serialno:this.multipleSelection[0].serialno,orderitemstatus:0};"true"==t?this.urgentTip("强制关闭",function(){a.orderitemstatus=1,e.updateorderforstatus(a)}):this.urgentTip("取消关闭",function(){a.orderitemstatus=0,e.updateorderforstatus(a)})}},updateorderforstatus:function(t){var e=this;o.a.order.updateorderforstatus(t).then(function(t){200==t.data.code&&e.$message({message:"成功",type:"success",onClose:function(){e.getOrderList(e.form,"")}})})},saveData:function(){var t=this,e=this;if(n.a.checkChoseorder(this.multipleSelection.length)){if(!this.checkSelectionL()||isNaN(this.multipleSelection[0].price))return!1;var a={};a.companyid=this.form.companyid,a.factoryid=this.form.factoryid,a.inorderid=this.multipleSelection[0].inorderid,a.serialno=this.multipleSelection[0].serialno,a.productmodel=this.multipleSelection[0].productmodel,a.sequence=this.multipleSelection[0].sequence,a.technologyname=this.multipleSelection[0].technologyname;var i=new Date(this.multipleSelection[0].deliverydatetime);if(this.multipleSelection[0].deliverydatetime=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()+" "+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds(),a.orderamount=this.multipleSelection[0].orderamount,a.planamount=this.multipleSelection[0].planamount,a.qualifiedamount=this.multipleSelection[0].qualifiedamount,a.completeamount=this.multipleSelection[0].completeamount,a.qualifiedamount>a.completeamount)return void this.$notify({title:"温馨提示",message:"合格数量不能超过完成数量",type:"warning",duration:3e3,offset:60});a.price=this.multipleSelection[0].price,a.technologystatus=this.multipleSelection[0].technologystatus,a.technologyroute=this.multipleSelection[0].technologyroute,a.deliverydatetime=this.multipleSelection[0].deliverydatetime,a.remark=this.multipleSelection[0].remark,o.a.order.upodateorders(a).then(function(a){200==a.data.code?e.$message({message:"更新成功",type:"success",duration:1500,onClose:function(){e.getOrderList(e.form,"");var t={companyid:e.form.companyid,factoryid:e.form.factoryid};e.getorderstatistics(t)}}):t.$alert(a.data.data,"提示",{confirmButtonText:"确定",callback:function(t){}})})}},checkSelectionL:function(){return!(this.multipleSelection.length>1)||(this.$notify({title:"温馨提示",message:"目前只能操作单个订单，请重新选择",type:"warning",duration:3e3,offset:60}),!1)},handleSelectionChange:function(t){this.multipleSelection=t},handleSelectRow:function(t,e){},inputChange:function(t){this.$refs.multipleTable.clearSelection(),this.$refs.multipleTable.toggleRowSelection(t,!0)},showTechnologyroute:function(t){this.TechnologyrouteInfo={companyid:t.companyid,factoryid:t.factoryid,inorderid:t.inorderid,productmodel:t.productmodel,serialno:t.serialno,isproduct:0},this.dialogTechnologyroute=!0},checkPrice:function(t){isNaN(t)&&this.$notify({title:"警告",message:"单价格式错误，请重新输入",type:"warning",duration:1500})},deliverydatetimeChange:function(t){f.a.checkDateFormat(t)||this.$notify({title:"警告",message:"日期格式错误，请重新输入",type:"warning",duration:1500})},createtimeChange:function(t){f.a.checkDateFormat(t)||this.$notify({title:"警告",message:"日期格式错误，请重新输入",type:"warning",duration:1500})},getOrderList:function(t,e){var a=this,i=this;this.listLoading=!0,o.a.order.getorders(t).then(function(s){if(200==s.data.code){i.listLoading=!1;for(var o=s.data.datalist,l=0;l<o.length;l++){o[l].createtime=o[l].createtime.split(" ")[0],o[l].totle=100*o[l].price*o[l].orderamount/100,o[l].dateDiff=n.a.checkDateDiff(o[l]),o[l].sequenceShow="备料"==o[l].technologyname||"QC"==o[l].technologyname||"装配"==o[l].technologyname||"发货"==o[l].technologyname;var r=Math.round(o[l].qualifiedamount/o[l].orderamount*1e4)/100;r=r>=100?100:r,o[l].completePercent=isNaN(r)?"0":r+"%"}i.Total=s.data.datasum,i.tableData3=o,""!=e&&i.$message.success(e),a.$store.commit("setOrderListForm",t)}else i.$alert(s.data.errorMessage,"错误提示",{confirmButtonText:"确定"})})},checkList:function(t){for(var e=[],a={},i=0;i<t.length;i++)if(a[t[i].name]=t[i].checked,t[i].checked&&e.push(t[i].id),void 0!=t[i].children&&t[i].children.length>0)for(var s=0;s<t[i].children.length;s++)a[t[i].children[s].name]=t[i].children[s].checked,t[i].children[s].checked&&e.push(t[i].children[s].id);console.log(a),this.showTableCell=a,this.optionData=t,this.checkedArr=e},drawingShowFuc:function(t){var e=this;this.productDetailData={show:!0,currentTab:"first",inorderid:t.inorderid,productmodel:t.productmodel,productserialno:t.serialno,productname:t.productname,scrollFlag:!0};var a={inorderid:t.inorderid,productmodel:t.productmodel,productserialno:t.serialno,source:0,filetype:0,pageindex:1,pagesize:1e3};o.a.order.getdrawingsheetbyorderid(a).then(function(t){e.drawingData.ImgUrlArray=f.a.isArray(t.data.datalist),a.filetype=1,a.pageindex=1,a.pagesize=10,o.a.order.getdrawingsheetbyorderid(a).then(function(t){t.data.datalist=f.a.isArray(t.data.datalist),e.drawingData.uploadRecord=t.data.datalist.length?t.data.datalist.reverse():t.data.datalist,e.drawingData.uploadRecordDataSum=t.data.datasum,e.drawingData.uploadRecordPageIndex=1})})},preogressShowFuc:function(t){var e=this;if(t.technologyamount){this.productDetailData={show:!0,currentTab:"second",inorderid:t.inorderid,productmodel:t.productmodel,productserialno:t.serialno,productname:t.productname};var a={inorderid:t.inorderid,productmodel:t.productmodel,serialno:t.serialno};o.a.order.gettechnologysbyorderid(a).then(function(t){e.progressData.table01Data=f.a.isArray(t.data.data).sort(function(t,e){return t.sequence-e.sequence}),e.progressData.table02Data=[];var a=e.progressData.table01Data;if(a.length){var i={inorderid:a[0].inorderid,productmodel:a[0].productmodel,serialno:a[0].productserialno,sequence:a[0].sequence};o.a.order.getusertechnologysbyorderid(i).then(function(t){e.progressData.table02Data=f.a.isArray(t.data.data)})}})}},recordShowFuc:function(t){var e=this;this.productDetailData={show:!0,currentTab:"third",inorderid:t.inorderid,productmodel:t.productmodel,productserialno:t.serialno,productname:t.productname};var a={inorderid:t.inorderid,productmodel:t.productmodel,productserialno:t.serialno};a.pageindex=1,a.pagesize=10,o.a.order.getoperationlog(a).then(function(t){e.recordData.data=t.data.data.length?t.data.data.reverse():t.data.data,e.recordData.DataSum=t.data.datasum,e.recordData.PageIndex=1})},connect:function(t){this.productDetailData.show=!1,this.getOrderList(this.form)},getorderstatistics:function(t){var e=this;o.a.order.getorderstatistics(t).then(function(t){200==t.data.code&&(e.orderstatistics=t.data.data)})},moveRoute:function(){var t=document.getElementById("moveTitle"),e=document.getElementById("moveRouter");t.onmousedown=function(t){var a=t||event,i=a.clientX-e.offsetLeft,s=a.clientY-e.offsetTop;document.onmousemove=function(t){var a=t||event;e.style.left=a.clientX-i+"px",e.style.top=a.clientY-s+"px"},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}}}},created:function(){var t=this.form,e=JSON.parse(sessionStorage.getItem("userInfo"));if(null==e||" "==e)return void this.$router.push({path:"/"});this.form.companyid=e.companyid,this.form.factoryid=e.factoryid,this.uploadPrams=e,this.getOrderList(t),this.getorderstatistics({companyid:e.companyid,factoryid:e.factoryid}),null==localStorage.getItem("optionData")?this.checkList(n.a.checkList()):this.checkList(JSON.parse(localStorage.getItem("optionData"))),this.$store.state.adminleftnavnum="/Track/order"},mounted:function(){this.moveRoute()},filters:{formatLasttime:function(t){var e=t.split(":");return e.pop(),e.join(":")}},components:{"v-foot":r.a,"v-uploadorder":u.a,"v-technologyroute":p.a,"v-productDetail":h.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),s=a(2);e.default={props:["drawingData"],data:function(){return{LoadingText:"加载中...",Pagesize:10,ImgList:[{name:"hduiashgduidsauygsauydgasuygd",suffix:".png"}],listItem:"el-upload-list__item",uploadStatus:"is-ready",headersObj:{sessid_id:""},uploadData:{inorderid:"",productmodel:"",serialno:"",uploaddrawingsheet:"",source:0,filetype:0},uploadFileData:{inorderid:"",productmodel:"",serialno:"",uploaddrawingsheet:"",remark:"",source:0,filetype:1},replaceData:{inorderid:"",productmodel:"",productserialno:"",drawingsheet:"",uploaddrawingsheet:""},detelData:{inorderid:"",productmodel:"",serialno:"",drawingsheet:""},uploadImgList:[],uploadFileList:[],ImgUrlArray:[],CurrentImgIndex:0,FilePercentage:0}},beforeUpdate:function(){var t=this.drawingData;this.uploadData.inorderid=t.inorderid,this.uploadData.productmodel=t.productmodel,this.uploadData.serialno=t.productserialno,this.replaceData.inorderid=t.inorderid,this.replaceData.productmodel=t.productmodel,this.replaceData.productserialno=t.productserialno,this.detelData.inorderid=t.inorderid,this.detelData.productmodel=t.productmodel,this.detelData.serialno=t.productserialno,this.uploadFileData.inorderid=t.inorderid,this.uploadFileData.productmodel=t.productmodel,this.uploadFileData.serialno=t.productserialno},updated:function(){},created:function(){},mounted:function(){var t=this;document.querySelectorAll(".drawing-box")[0].addEventListener("scroll",function(e){if(e=e||window.event,e.target.scrollHeight-e.target.scrollTop-e.target.offsetHeight<10){if(t.drawingData.scrollFlag&&(t.drawingData.uploadRecordPageIndex=++t.drawingData.uploadRecordPageIndex,t.drawingData.scrollFlag=!1),t.drawingData.uploadRecordDataSum-t.drawingData.uploadRecordPageIndex*t.Pagesize<-10)return void setTimeout(function(){t.LoadingText="没有更多"},500);t.fetchAffixData(t.drawingData.uploadRecordPageIndex,t.Pagesize)}}),this.headersObj.sessid_id=sessionStorage.getItem("token")},filters:{formatDate:function(t){return s.a.DateFormat(t,"yyyy/MM/dd hh:mm:ss")},getImgName:function(t){var e=t.lastIndexOf("/")+1;return t.substring(e)},toInt:function(t){return parseInt(t)+"%"}},methods:{clickClose:function(t,e){this.uploadImgList.splice(e,1)},uploadActionUrl:function(){return"/cloudfactory/erp/order/uploaddrawingsheet"},uploadImgChange:function(t,e){this.uploadData.uploaddrawingsheet=t.url},uploadImgProgress:function(t,e,a){this.uploadImgList=a},uploadImgSuccess:function(t,e,a){var i=this;this.fetchDrawing("upload"),this.uploadStatus="is-success",setTimeout(function(){i.uploadImgList=[]},1e3)},uploadImgBefore:function(t){var e="image/jpeg"===t.type||"image/bmp"===t.type||"image/png"===t.type,a=t.size/1024/1024<5;return e||this.$message.error("图片格式支持jpg、png、bmp"),a||this.$message.error("上传图片大小不能超过 5M!"),e&&a},replaceActionUrl:function(){return"/cloudfactory/erp/order/replacedrawingsheetbyorderid"},replaceImgChange:function(t,e){var a=this.drawingData.ImgUrlArray[this.CurrentImgIndex].drawingsheet;this.replaceData.drawingsheet=a.substring(a.lastIndexOf("/")+1),this.replaceData.uploaddrawingsheet=t.url},replaceImgProgress:function(t,e,a){this.uploadImgList=a},replaceImgSuccess:function(t,e,a){var i=this;this.fetchDrawing(),setTimeout(function(){i.uploadImgList=[]},1e3)},replaceImgBefore:function(t){var e="image/jpeg"===t.type||"image/bmp"===t.type||"image/png"===t.type,a=t.size/1024/1024<5;return e||this.$message.error("图片格式支持jpg、png、bmp"),a||this.$message.error("上传图片大小不能超过 5MB!"),e&&a},DetelCurrentImg:function(){var t=this,e=this.drawingData.ImgUrlArray[this.CurrentImgIndex].drawingsheet;this.detelData.drawingsheet=e.substring(e.lastIndexOf("/")+1);var a=this.detelData;i.a.order.deletedrawingsheetbyorderid(a).then(function(e){t.fetchDrawing("Detel")})},ClickUploadFileBtn:function(){this.$refs.uploadFile.clearFiles()},uploadFileChange:function(t,e){this.FilePercentage=!t.percentage,this.uploadFileData.uploaddrawingsheet=t.url},uploadFileRemove:function(t,e){},uploadFileBefore:function(t){var e=t.size/1024/1024<10;return e||this.$message.error("上传图片大小不能超过 10MB!"),e},uploadFileProgress:function(t,e,a){},uploadFileSuccess:function(t,e,a){var i=this;this.fetchAffixData(1,10,!0),this.drawingData.uploadRecordPageIndex=1,this.FilePercentage=!!e.percentage,setTimeout(function(){i.$refs.uploadFile.clearFiles()},1e3)},uploadFileError:function(t,e,a){},publish:function(){this.$refs.uploadFile.submit()},fetchDrawing:function(t){var e=this,a=this.drawingData,o={inorderid:a.inorderid,productmodel:a.productmodel,productserialno:a.productserialno,source:0,filetype:0};i.a.order.getdrawingsheetbyorderid(o).then(function(a){e.drawingData.ImgUrlArray=s.a.isArray(a.data.datalist),"upload"===t&&(e.CurrentImgIndex=e.drawingData.ImgUrlArray&&e.drawingData.ImgUrlArray.length-1),"Detel"===t&&e.CurrentImgIndex>=e.drawingData.ImgUrlArray.length-1&&(e.CurrentImgIndex=e.drawingData.ImgUrlArray.length-1)})},fetchAffixData:function(t,e,a){var o=this,n=this.drawingData,l={inorderid:n.inorderid,productmodel:n.productmodel,productserialno:n.productserialno,source:0,filetype:1,pageindex:t,pagesize:e};i.a.order.getdrawingsheetbyorderid(l).then(function(t){var e=s.a.isArray(t.data.datalist);o.drawingData.uploadRecord=a?e.reverse():o.drawingData.uploadRecord.concat(e.reverse()),o.drawingData.uploadRecordDataSum=t.data.datasum,o.drawingData.scrollFlag=!0})},printImg:function(){var t=this.drawingData.ImgUrlArray[this.CurrentImgIndex].drawingsheet;this.$router.push({path:"/PrintImg",params:{userId:123},query:{imgUrl:t}})},choseCurrentImg:function(t,e){this.CurrentImgIndex=e}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(52),s=a.n(i);e.default={data:function(){return{show:!0,imgUrl:"http://static.cnbetacdn.com/thumb/article/2017/0627/c2c8178a18051a9.jpg"}},created:function(){this.imgUrl=this.$route.query.imgUrl},mounted:function(){},components:{"v-header":s.a},methods:{printImg:function(){var t=this;this.show=!1,setTimeout(function(){window.print(),t.show=!0},500)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(336),s=a.n(i),o=a(338),n=a.n(o),l=a(339),r=a.n(l),c=a(2),u=a(1);e.default={props:["productDetailData","drawingData","progressData","recordData","Obj"],data:function(){return{}},components:{"v-progress":n.a,"v-drawing":s.a,"v-record":r.a},beforeCreate:function(){},created:function(){},beforeUpdate:function(){var t=this.productDetailData;this.drawingData.inorderid=t.inorderid,this.drawingData.productmodel=t.productmodel,this.drawingData.productserialno=t.productserialno,this.drawingData.scrollFlag=t.scrollFlag,this.progressData.inorderid=t.inorderid,this.progressData.productmodel=t.productmodel,this.progressData.productserialno=t.productserialno,this.recordData.inorderid=t.inorderid,this.recordData.productmodel=t.productmodel,this.recordData.productserialno=t.productserialno},updated:function(){},beforeMount:function(){},mounted:function(){},computed:{},methods:{handleClick:function(t,e){var a=this,i=this.productDetailData;if(i.inorderid){var s={inorderid:i.inorderid,productmodel:i.productmodel,productserialno:i.productserialno};if("drawing"===t.$el.id&&(s.source=0,s.filetype=0,u.a.order.getdrawingsheetbyorderid(s).then(function(t){a.drawingData.ImgUrlArray=c.a.isArray(t.data.datalist),s.filetype=1,s.pageindex=1,s.pagesize=10,u.a.order.getdrawingsheetbyorderid(s).then(function(t){t.data.datalist=c.a.isArray(t.data.datalist),a.drawingData.uploadRecord=t.data.datalist.length?t.data.datalist.reverse():t.data.datalist,a.drawingData.uploadRecordDataSum=t.data.datasum,a.drawingData.uploadRecordPageIndex=1})})),"progress"===t.$el.id){var o={inorderid:i.inorderid,productmodel:i.productmodel,serialno:i.productserialno};u.a.order.gettechnologysbyorderid(o).then(function(t){var e=c.a.isArray(t.data.data).sort(function(t,e){return t.sequence-e.sequence});if(a.progressData.table01Data=e,a.progressData.table02Data=[],e.length){var i={inorderid:e[0].inorderid,productmodel:e[0].productmodel,serialno:e[0].productserialno,sequence:e[0].sequence};u.a.order.getusertechnologysbyorderid(i).then(function(t){a.progressData.table02Data=c.a.isArray(t.data.data)})}})}"record"===t.$el.id&&(s.pageindex=1,s.pagesize=10,u.a.order.getoperationlog(s).then(function(t){a.recordData.data=t.data.data.length?t.data.data.reverse():t.data.data,a.recordData.DataSum=t.data.datasum,a.recordData.PageIndex=1}))}},CloseProductDetail:function(){this.$emit("connect")}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),s=a(2),o=void 0;e.default={props:["progressData","Obj"],data:function(){return{SaveParam:{inorderid:"",productmodel:"",serialno:"",headstr:[],detailstr:[]},table01CurrentIndex:0,isCheck01:!1,isCheck02:!1,isCheck03:!1,isCheck04:!1}},created:function(){},beforeUpdate:function(){this.SaveParam.inorderid=this.progressData.inorderid,this.SaveParam.productmodel=this.progressData.productmodel,this.SaveParam.serialno=this.progressData.productserialno},updated:function(){},methods:{table01RowClick:function(t,e,a){var s=this;this.SaveParam.inorderid=t.inorderid,this.SaveParam.productmodel=t.productmodel,this.SaveParam.serialno=t.productserialno,this.setHeadstr(t,t.technologystatus);var o={inorderid:t.inorderid,productmodel:t.productmodel,serialno:t.productserialno,sequence:t.sequence};i.a.order.getusertechnologysbyorderid(o).then(function(t){s.progressData.table02Data=t.data.data})},currentRowChange:function(t,e){t&&t.sequence?this.table01CurrentIndex=t.sequence:this.table01CurrentIndex=0},blurCompleteamount:function(t,e,a){t.qualifiedamount>t.completeamount?(this.isCheck01=!0,o&&o.close(),o=this.$notify({title:"警告",message:"同一流程必须满足【完成数量】≥【合格数量】，请重新修改！",type:"error",duration:8e3})):(this.isCheck01=!1,e?this.setHeadstr(t,t.technologystatus,a):this.setdetailstr(t,a))},blurPlanworkhours:function(t,e,a){isNaN(t.planworkhours)?(this.isCheck04=!0,o&&o.close(),o=this.$notify({title:"警告",message:"预计工时输入错误",type:"error",duration:8e3})):(this.isCheck04=!1,e?this.setHeadstr(t,t.technologystatus,a):this.setdetailstr(t,a))},blurQualifiedamount:function(t,e,a){t.qualifiedamount>t.completeamount?(this.isCheck01=!0,o&&o.close(),o=this.$notify({title:"警告",message:"同一流程必须满足【完成数量】≥【合格数量】，请重新修改！",type:"error",duration:8e3})):(this.isCheck01=!1,e?this.setHeadstr(t,t.technologystatus,a):this.setdetailstr(t,a))},selectChange:function(t,e,a){this.setHeadstr(t,t.technologystatus,a)},setHeadstr:function(t,e,a){t.qualifiedamount>t.completeamount?this.isCheck01=!0:this.isCheck01=!1;var i=t.sequence+"*"+t.completeamount+"*"+t.qualifiedamount+"*"+t.planworkhours+"*"+e+"$";this.SaveParam.headstr[t.sequence]=i},setdetailstr:function(t,e){t.qualifiedamount>t.completeamount?this.isCheck01=!0:this.isCheck01=!1,e&&(this.progressData.table02Data[e-1]&&t.completeamount>this.progressData.table02Data[e-1].completeamount?this.isCheck02=!0:this.isCheck02=!1);var a=t.sequence+"*"+t.completeamount+"*"+t.qualifiedamount+"*"+t.owner+"$";this.SaveParam.detailstr[t.sequence]=a},tableRowClassName:function(t,e){if(e==this.table01CurrentIndex)return"current-row"},Save:function(){var t=this;if(this.isCheck01)return o&&o.close(),void(o=this.$notify({title:"警告",message:"同一流程必须满足【完成数量】≥【合格数量】，请重新修改！",type:"error",duration:8e3}));if(this.isCheck04)return o&&o.close(),void(o=this.$notify({title:"警告",message:"预计工时输入错误",type:"error",duration:8e3}));this.SaveParam.headstr=this.SaveParam.headstr.join(""),this.SaveParam.detailstr=this.SaveParam.detailstr.join("");var e=this.SaveParam;i.a.order.updatetechnologyroute(e).then(function(a){t.$message({message:"保存成功",type:"success"}),t.SaveParam={inorderid:"",productmodel:"",serialno:"",headstr:[],detailstr:[]},t.Obj(t.$store.state.orderList.form),e={inorderid:t.progressData.inorderid,productmodel:t.progressData.productmodel,serialno:t.progressData.productserialno},i.a.order.gettechnologysbyorderid(e).then(function(e){var a=s.a.isArray(e.data.data).sort(function(t,e){return t.sequence-e.sequence});if(t.progressData.table01Data=a,t.progressData.table02Data=[],a.length){var o={inorderid:a[t.table01CurrentIndex].inorderid,productmodel:a[t.table01CurrentIndex].productmodel,serialno:a[t.table01CurrentIndex].productserialno,sequence:a[t.table01CurrentIndex].sequence};i.a.order.getusertechnologysbyorderid(o).then(function(e){t.progressData.table02Data=s.a.isArray(e.data.data)})}})})}},filters:{},watch:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(2),s=a(1);e.default={props:["recordData"],data:function(){return{RecordPageIndex:1,RecordLoadingText:"加载中..."}},created:function(){},mounted:function(){document.querySelectorAll(".record-box")[0].addEventListener("scroll",function(t){t=t||window.event,t.target.scrollHeight,t.target.scrollTop,t.target.offsetHeight})},beforeUpdate:function(){},updated:function(){},filters:{formatDate:function(t){return i.a.DateFormat(t,"yyyy/MM/dd hh:mm:ss")}},methods:{fetchRecordData:function(t,e){var a=this,i=this.recordData,o={inorderid:i.inorderid,productmodel:i.productmodel,productserialno:i.productserialno,pageindex:t,pagesize:e};s.a.order.getdrawingsheetbyorderid(o).then(function(t){a.drawingData.uploadRecord=a.drawingData.uploadRecord.concat(t.data.datalist.reverse()),a.drawingData.uploadRecordDataSum=t.data.datasum})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(2),s=a(1);e.default={name:"technologyroute",props:{TechnologyrouteInfo:{type:Object}},data:function(){return{loading:!1,keyword:"",technologyData:[],addTechnologyArr:[],ind:"",addInd:"",addIndError:""}},methods:{result:function(){this.$emit("listenTechnologyroute","result")},saveRoute:function(){var t=this,e=this.checkPlanworkhours(),a=this.TechnologyrouteInfo;a.technolognames=e,s.a.order.updatetechnologybyorderid(a).then(function(e){200==e.data.code?(t.$message({message:"操作成功",type:"success"}),t.$emit("listenTechnologyroute","result")):t.$message({message:e.data.data,type:"warning"})})},checkPlanworkhours:function(){var t="";this.addIndError="";for(var e=0;e<this.addTechnologyArr.length;e++){if(isNaN(this.addTechnologyArr[e].planworkhours)||this.addTechnologyArr[e].planworkhours<0){this.addIndError=e;break}e===this.addTechnologyArr.length-1?t+=this.addTechnologyArr[e].technologyname+"*"+e+"*"+this.addTechnologyArr[e].planworkhours+"*"+this.addTechnologyArr[e].isout:t+=this.addTechnologyArr[e].technologyname+"*"+e+"*"+this.addTechnologyArr[e].planworkhours+"*"+this.addTechnologyArr[e].isout+"$"}return""===this.addIndError&&t},handleIconClick:function(t){},inputChange:function(t){},planwordChange:function(t){isNaN(t)&&this.$message("请输入正确的数字")},dialogVisible:function(){},choseTec:function(t,e){this.ind=e===this.ind?"":e},choseAddTec:function(t){this.addInd=t===this.addInd?"":t},addTechnologyChange:function(){},moveRight:function(){var t=this.ind;if(""!==t){var e={};e.technologyfullname=this.technologyData[t].technologyname,e.planworkhours=0,e.isout=0,this.addTechnologyArr.push(e)}else this.$message("请选择要添加的工艺名称")},moveUp:function(){0!==this.addInd&&(""!==this.addInd?(this.addTechnologyArr=i.a.swapItems(this.addTechnologyArr,this.addInd-1,this.addInd),this.addInd--):this.$message("请选择要移动的工艺名称"))},moveDown:function(){this.addInd!==this.addTechnologyArr.length-1&&(""!==this.addInd?(this.addTechnologyArr=i.a.swapItems(this.addTechnologyArr,this.addInd,this.addInd+1),this.addInd++):this.$message("请选择要移动的工艺名称"))},datele:function(){""!==this.addInd?(this.addTechnologyArr.splice(this.addInd,1),this.addInd=""):this.$message("请选择要删除的工艺名称")}},computed:{technologyArr:function(){var t=this,e=this.technologyData;return e.map(function(e,a,i){e.show=!0,e.technologyname.indexOf(t.keyword)<0&&(e.show=!1)}),e}},filters:{},created:function(){var t=this;this.loading=!0;var e=this,a=0;s.a.order.gettechnologys(this.TechnologyrouteInfo).then(function(i){a++,t.loading=2!==a,200==i.data.code?t.technologyData=i.data.data:e.$alert(i.data.errorMessage,"错误提示",{confirmButtonText:"确定"})}),s.a.order.gettechnologysbyorderid(this.TechnologyrouteInfo).then(function(i){a++,t.loading=2!==a,200==i.data.code?t.addTechnologyArr=i.data.data:e.$alert(i.data.errorMessage,"错误提示",{confirmButtonText:"确定"})})}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{uploadPrams:{type:Object}},data:function(){return{actionUrl:"/cloudfactory/erp/order/uploadordersfile",fileList3:[],disabled:!0,uploadExl:"/uploads/orders.xls",headers:""}},methods:{submitUpload:function(){this.$refs.upload.submit(),this.$emit("listenUploadorder",!1)},beforeAvatarUpload:function(t){var e=!1;"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==t.type&&"application/vnd.ms-excel"!==t.type||(e=!0),e||""!==t.type||"xls"!==t.name.split(".")[1]&&"xlsx"!==t.name.split(".")[1]||(e=!0);var a=t.size/1024/1024<5;return e||this.$message.error("文件格式错误，请选择Excel文件!"),a||this.$message.error("上传文件大小大小不能超过 5MB!"),e&&a},handleChange:function(t,e){this.disabled=!1,e.length>1&&(this.fileList3=e.slice(1))},handleremove:function(t,e){this.disabled=!0,this.fileList3=e,document.querySelectorAll("input[name=excelorders]")[0].value=""},handleSuccess:function(t,e,a){var i=this;i.fileList3=[],200==e.response.code?this.$message({message:"上传成功",type:"success",duration:1500,onClose:function(){i.disabled=!0}}):this.$alert(t.data,"提示",{confirmButtonText:"确定",callback:function(t){}})},handleError:function(t,e,a){this.$alert("上传失败，请重新上传","提示",{confirmButtonText:"确定",callback:function(t){}})}},created:function(){var t=sessionStorage.getItem("token");this.headers={sessid_id:t}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(52),s=a.n(i),o=a(1),n=a(2);e.default={data:function(){return{loading:!1,show:!0,list:[],moveList:[]}},computed:{},methods:{movedown:function(){this.moveList.length>=7?this.moveList=[]:this.moveList.push({})},moveup:function(){this.moveList.length&&this.moveList.shift()},print:function(){var t=this;this.show=!1,setTimeout(function(){window.print(),t.show=!0},500)}},filters:{formattime:function(t){var e=n.a.formatDate.getDate(t);return e=e.split(" ")[0]}},components:{"v-header":s.a},created:function(){var t=this,e=JSON.parse(sessionStorage.getItem("userInfo")),a={};a.companyid=e.companyid,a.factoryid=e.factoryid,a.detailinfo=this.$route.params.detailinfo,o.a.order.getorderdetail(a).then(function(e){t.list=e.data.data})}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{scollTop:{type:Boolean}},methods:{goTop:function(){window.scrollTo(0,0)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),s=a(10),o=a.n(s),n=a(344),l=a.n(n),r=a(345),c=a.n(r),u=a(346),d=a.n(u),p=a(2);e.default={data:function(){return{focus:!1,InfoShow:!0,supplierName:"",id:"",supplierid:"",Name:"",supplierNameShow:!1,supplierData:[],listLoading:!1,dutyRate:[],orderstatus:"",linkname:"",telephone:"",creattime:"",asktime:"",remindtime:"",facktime:"",tableData:[],dialogTitle:"",dialogVisible:!1,formPricenotax:{materialcost:"",workcost:"",dealwithcost:""},maxlength8:8,maxlength11:11,row:{},dialogUploadorder:!1,uploadPrams:{},quotationDetailObject:{},quotationDetailShow:!1}},methods:{stop:function(){},handleFocus:function(){this.supplierNameShow=!0},handleBlur:function(){this.supplierName=this.Name},checkValue:function(t,e){var a=t.target.value;(isNaN(a)||""!=a)&&(this.formPricenotax[e]=a.replace(/[^\d|.]/g,""))},blur:function(t,e){var a=t.target.value;""==a||isNaN(a)||(a>99999999&&(a=99999999),this.formPricenotax[e]=parseFloat(a).toFixed(2))},Quotation:function(){var t=this.getParms(),e=this;return""==this.Name?(this.$notify({title:"温馨提示",message:"请填写供应商名称",type:"warning",duration:3e3}),!1):this.checkedData()?(this.$notify({title:"温馨提示",message:"已勾选能做的明细行货期（天）、含税单价必须填写",type:"warning",duration:3e3}),!1):void o.a.post("cloudfactory/inquiryorder/addsupplierquote",t).then(function(t){200==t.data.code?e.$message({message:"报价成功",type:"success"}):e.$alert(t.data.message,"报价失败",{confirmButtonText:"确定"})})},getParms:function(){var t={};t.willorderid=this.$route.params.demandNumber,t.suppliername=this.Name,t.supplierid=this.supplierid,t.detailList=[];for(var e=0;e<this.tableData.length;e++){var a={};a.willorderdetailid=this.tableData[e].willorderdetailid,a.iscando=parseInt(this.tableData[e].iscando),a.minamount=this.tableData[e].minamount,a.materialcost=this.tableData[e].materialcost,a.deliverytime=this.tableData[e].deliverytime,a.materialcost=this.tableData[e].materialcost,a.workcost=this.tableData[e].workcost,a.dealwithcost=this.tableData[e].dealwithcost,a.taxrate=this.tableData[e].taxrate,a.pricewithtax=this.tableData[e].pricewithtax,a.taxprice=this.tableData[e].taxprice,a.issendcost=this.tableData[e].issendcost,a.remark=this.tableData[e].remark,t.detailList.push(a)}return t},checkedData:function(){for(var t=!1,e=0;e<this.tableData.length;e++)if(1==this.tableData[e].iscando&&(null==this.tableData[e].deliverytime||this.tableData[e].deliverytime<=0||this.tableData[e].pricewithtax<=0)){t=!0;break}return t},handleImport:function(){this.uploadPrams.willorderid=this.$route.params.demandNumber,this.dialogUploadorder=!0},Uploadorder:function(t){this.dialogUploadorder=!1,t||this.getNewsupplierquote()},handleDownload:function(){var t=this,e=this.$route.params.demandNumber;i.a.willorders.downloadattachment({willorderid:e}).then(function(e){200==e.data.code?location.href=e.data.data:t.$alert(e.data.message,"提示")})},handleSelectionChange:function(){},openpricenotax:function(t){this.row=t,this.dialogTitle=t.productcode+"价格组成",this.dialogVisible=!0},changeTate:function(t){t.pricewithtax=t.pricenotax*(1+t.taxrate/100),t.pricewithtax=t.pricewithtax.toFixed(2)},Result:function(){for(var t=this.tableData,e=0;e<t.length;e++)t[e]==this.row&&(t[e].materialcost=parseFloat(this.formPricenotax.materialcost),t[e].workcost=parseFloat(this.formPricenotax.workcost),t[e].dealwithcost=parseFloat(this.formPricenotax.dealwithcost),t[e].pricenotax=(1e4*this.formPricenotax.materialcost+1e4*this.formPricenotax.dealwithcost+1e4*this.formPricenotax.workcost)/1e4,t[e].pricewithtax=t[e].pricenotax*(1+t[e].taxrate/100),t[e].pricewithtax=t[e].pricewithtax.toFixed(2));this.dialogVisible=!1},handleClose:function(){this.dialogVisible=!1},close:function(t){this[t]=!this[t],p.a.forbiddenScroll(!1)},listenquotationDetail:function(){this.quotationDetailShow=!this.quotationDetailShow,p.a.forbiddenScroll(!1)},showaddDetail:function(t){this.quotationDetailShow=!this.quotationDetailShow,null==t.cando&&(t.cando=1),null==t.taxrate&&(t.taxrate=17),this.quotationDetailObject=t,p.a.forbiddenScroll(!0)},listenSupplierList:function(t){this.supplierNameShow=!1,this.supplierName=t.name,this.Name=t.name,this.supplierid=t.id},getNewsupplierquote:function(){var t=this,e=this.$route.params.demandNumber;i.a.inquiryorder.newsupplierquote({willorderid:e}).then(function(e){if(200==e.data.code){t.orderstatus=e.data.data.orderstatus,t.linkname=e.data.data.linkname,t.telephone=e.data.data.telephone,void 0!=e.data.data.creattime&&(t.creattime=p.a.DateFormat(e.data.data.creattime,"yyyy-MM-dd hh:mm:ss")),void 0!=e.data.data.asktime&&(t.asktime=p.a.DateFormat(e.data.data.asktime,"yyyy-MM-dd hh:mm:ss")),void 0!=e.data.data.remindtime&&(t.remindtime=p.a.DateFormat(e.data.data.remindtime,"yyyy-MM-dd hh:mm:ss")),void 0!=e.data.data.facktime&&(t.facktime=p.a.DateFormat(e.data.data.facktime,"yyyy-MM-dd hh:mm:ss"));for(var a=0;a<e.data.data.detailList.length;a++)e.data.data.detailList[a].taxrate=null==e.data.data.detailList[a].taxrate?17:e.data.data.detailList[a].taxrate;t.tableData=e.data.data.detailList}})}},filters:{Formatstatus:function(t){var e="";switch(t){case"0":e="待报价";break;case"1":e="已向供应商询价";break;case"2":e="供应商已报价";break;case"3":e="已筛选供应商报价";break;case"4":e="已确认建议售价";break;case"5":e="已作废"}return e},checkNull:function(t){return t=null==t||""==t?"--":t}},created:function(){var t=this;this.$store.state.adminleftnavnum="/Quotation/quotation",this.getNewsupplierquote(),i.a.supplier.getDictByTypeNumbers({typenumbers:"TaxRate"}).then(function(e){if(200==e.data.code){for(var a=0;a<e.data.data.TaxRate.length;a++)e.data.data.TaxRate[a].name=parseInt(e.data.data.TaxRate[a].name),e.data.data.TaxRate[a].text=e.data.data.TaxRate[a].name+"%";t.dutyRate=e.data.data.TaxRate}})},components:{"v-uploadorder":l.a,"v-addquotationDetail":c.a,"v-supplierList":d.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1);e.default={props:{uploadPrams:{type:Object}},data:function(){return{actionUrl:"/cloudfactory/inquiryorder/uploadorderbywillorderid",fileList3:[],disabled:!0,headers:{}}},methods:{downloadorder:function(t){var e=this;i.a.inquiryorder.downloadorderbywillorderid({willorderid:t}).then(function(t){200==t.data.code?(window.location.href=t.data.data,e.$emit("listenaddUploadorder",!1)):e.$alert(t.data.message,"错误提示",{confirmButtonText:"确定",callback:function(t){e.$emit("listenaddUploadorder",!0)}})})},submitUpload:function(){this.$refs.upload.submit()},beforeAvatarUpload:function(t){var e=!1;"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==t.type&&"application/vnd.ms-excel"!==t.type||(e=!0),e||""!==t.type||"xls"!==t.name.split(".")[1]&&"xlsx"!==t.name.split(".")[1]||(e=!0);var a=t.size/1024/1024<5;return e||this.$message.error("文件格式错误，请选择Excel文件!"),a||this.$message.error("上传文件大小大小不能超过 5MB!"),e&&a},handleChange:function(t,e){this.disabled=!1,e.length>1&&(this.fileList3=e.slice(1))},handleremove:function(t,e){this.disabled=!0},handleSuccess:function(t,e,a){var i=this;i.fileList3=[],i.disabled=!0,200==e.response.code?(i.$emit("listenaddUploadorder",!1),this.$message({message:"上传成功",type:"success",duration:1500})):this.$alert(e.response.message,"提示",{confirmButtonText:"确定",callback:function(t){}})},handleError:function(t,e,a){this.$alert("上传失败，请重新上传","提示",{confirmButtonText:"确定",callback:function(t){}})}},created:function(){var t=sessionStorage.getItem("token");this.headers={sessid_id:t}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1);e.default={name:"addquotationDetail",props:{quotationDetailObject:{type:Object}},watch:{price:function(t){var e=t*(1+this.quotationDetailObject.taxrate/100);this.quotationDetailObject.taxprice=e.toFixed(2)}},data:function(){return{taxrates:[],supplierShow:!1,maxlength8:8,maxlength11:11}},computed:{price:function(){var t=(1e4*this.quotationDetailObject.materialcost+1e4*this.quotationDetailObject.dealwithcost+1e4*this.quotationDetailObject.workcost)/1e4;return t=isNaN(t)?"0":t,t}},methods:{checkValue:function(t,e){var a=t.target.value;(isNaN(a)||""!=a)&&(this.quotationDetailObject[e]=a.replace(/[^\d|.]/g,""))},blur:function(t,e){var a=t.target.value;""==a||isNaN(a)||(a>99999999&&(a=99999999),this.quotationDetailObject[e]=parseFloat(a).toFixed(2))},handleChange:function(t){if(this.price>0){var e=this.price*(1+this.quotationDetailObject.taxrate/100);this.quotationDetailObject.taxprice=e.toFixed(2)}var a=this.quotationDetailObject.taxprice*this.quotationDetailObject.orderamount;this.quotationDetailObject.taxamount=a.toFixed(2)},computTaxamount:function(t){if(!isNaN(t)){var e=t*this.quotationDetailObject.orderamount;this.quotationDetailObject.taxamount=e.toFixed(2)}},save:function(){this.$emit("listenquotationDetail","")},close:function(){this.$emit("listenquotationDetail","")}},filters:{checkNull:function(t){return t=null==t||""==t?"--":t}},created:function(){var t=this,e={typenumbers:"TaxRate"};i.a.supplier.getDictByTypeNumbers(e).then(function(e){if(200==e.data.code){for(var a=0;a<e.data.data.TaxRate.length;a++)e.data.data.TaxRate[a].name=parseInt(e.data.data.TaxRate[a].name),e.data.data.TaxRate[a].text=e.data.data.TaxRate[a].name+"%";t.taxrates=e.data.data.TaxRate}})}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1);e.default={name:"supplierList",props:{supplierData:{type:String}},watch:{supplierData:function(t){this.form.supplier=t,this.getsuppliers()}},data:function(){return{page_sizes:[10,20,30],Total:0,loading:!1,tableData:[],form:{pageindex:1,pagesize:10,supplier:""}}},methods:{clickStop:function(){},handleSizeChange:function(t){this.form.pagesize=t,this.getsuppliers()},handleCurrentChange:function(t){this.form.pageindex=t,this.getsuppliers()},Chose:function(t){var e={name:t.name,id:t.id};this.$emit("listenKeyWord",e)},bodyClick:function(t){var e={name:this.supplierData,id:""};this.$emit("listenKeyWord",e)},getsuppliers:function(){var t=this,e=this;this.loading=!0,i.a.supplier.getsuppliers(this.form).then(function(a){t.loading=!1,200==a.data.code&&(e.tableData=a.data.data.datalist,e.Total=a.data.data.datacount)})}},created:function(){document.querySelectorAll("body")[0].addEventListener("click",this.bodyClick,!1),this.getsuppliers()},beforeDestroy:function(){document.querySelectorAll("body")[0].removeEventListener("click",this.bodyClick,!1)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),s=a(2);e.default={data:function(){return{form:{companyid:"",factoryid:"",willorderid:"",quotationid:"",status:"",inquiryData:"",endinquirytime:null,startinquirytime:null,engineer:"",buyer:"",productmodel:"",pageindex:1,pagesize:10},statuOptions:[{value:"",label:"全部"},{value:"0",label:"待报价"},{value:"1",label:"已向供应商询价"},{value:"2",label:"供应商已报价"},{value:"3",label:"已筛选供应商报价"},{value:"4",label:"已确认建议售价"},{value:"5",label:"已作废"}],show:!1,activeName:"first",tableData:[],filters:[{value:"0",text:"待报价"},{value:"1",text:"已向供应商询价"},{value:"2",text:"供应商已报价"},{value:"3",text:"已筛选供应商报价"},{value:"4",text:"已确认建议售价"},{value:"5",text:"已作废"}],filters2:[],defaultSort:{prop:"date",order:"descending"},count1:0,count2:0,listLoading:!1,multipleSelection:[],page_sizes:[10,20,30,50,100,200,500,1e3],Total:100,dialogVisible:!1,dialogVisible2:!1,iconTitle:!0,quoteDetail:!1,quoteDetail2:!1,TipTotal:"",TipTotal2:"",SuccessList:[],SuccessList2:[],FailList:[]}},methods:{inquiryDataChange:function(t){if(!s.a.checkDateDaterange(t))return void this.$notify({title:"警告",message:"日期格式错误，请重新输入",type:"warning",duration:1500});var e=t.split(" - ");this.form.startinquirytime=e[0],this.form.endinquirytime=e[1]},search:function(){this.form.pageindex=1,this.getWillorders(this.form,"查询成功"),this.activeName="first"},resetForm:function(t){this.form.pageindex=1,this.$refs[t].resetFields()},handleClick:function(t,e){this.$refs.form.resetFields(),0==t.index?this.form.status="":1==t.index?this.form.status="0":this.form.status="2",this.form.pageindex=1,this.getWillorders(this.form,"")},handleSelectionChange:function(t){this.multipleSelection=t},filterTag:function(t,e){return e.status===t},filterTag2:function(t,e){return e.engineer===t},toquotationDetail:function(t){this.$router.push({path:"/Quotation/quotationDetail/"+t})},selectable:function(t,e){return"已作废"!==t.statusTxt&&"待报价"!==t.statusTxt},handRefresh:function(){this.getWillorders(this.form,"刷新成功")},handTipSupplier:function(){if(this.multipleSelection.length<1)this.$notify({title:"温馨提示",message:"请勾选报价需求单",type:"warning",duration:1500,offset:60});else{for(var t=[],e=0;e<this.multipleSelection.length;e++)t.push(this.multipleSelection[e].willorderdetailid);this.remindsupplier(t)}},remindsupplier:function(t){var e=this;i.a.willorders.remindsupplier({detailIdList:t}).then(function(t){200==t.data.code?e.remindData(t.data.data):e.$alert("提示失败","提示")})},remindData:function(t){var e={},a={};e.number=0,e.data=[],a.number=0,a.data=[];for(var i=0;i<t.length;i++){var s={name:"",detail:[]};t[i].isSuccess?(e.number++,s.name=t[i].data.suppliername,s.detail=this.CheckDetail(t[i].data.detailList),e.data.push(s)):(a.number++,s.name=t[i].data.suppliername,s.detail=this.CheckDetail(t[i].data.detailList),s.message=t[i].message,a.data.push(s))}0==e.number?(this.dialogVisible=!0,this.iconTitle=!1,this.TipTotal="提醒供应商报价失败"):0==a.number?(this.dialogVisible=!0,this.iconTitle=!0,this.TipTotal="已成功提醒"+e.number+"家供应商报价",this.SuccessList=e.data):(this.dialogVisible2=!0,this.TipTotal2="已成功提醒"+e.number+"家供应商报价,"+a.number+"家失败",this.SuccessList2=e.data,this.FailList=a.data)},CheckDetail:function(t){for(var e="",a=[],i=0;i<t.length;i++)t[i].willorderid=null==t[i].willorderid?"无报价单号":t[i].willorderid,t[i].productcode=null==t[i].productcode?"无产品编码":t[i].productcode,e=t[i].willorderid+" - "+t[i].productcode,a.push({text:e});return a},tableRowClassName:function(t,e){if("已作废"===t.statusTxt||"待报价"===t.statusTxt)return"info-row-color";for(var a="",i=0;i<this.multipleSelection.length;i++)if(this.multipleSelection[i]==t){a="info-row-9ed";break}return a},handleSizeChange:function(t){this.form.pagesize=t,this.getWillorders(this.form,"")},handleCurrentChange:function(t){this.form.pageindex=t,this.getWillorders(this.form,"")},handleClose:function(){this.dialogVisible=!1},handleClose2:function(){this.dialogVisible2=!1},quotedStatu:function(t){return"待报价"===t?"icon-statu-a":"供应商已报价"===t||"已向供应商询价"===t?"icon-statu-b":"已筛选供应商报价"===t||"已确认建议售价"===t?"icon-statu-c":"icon-statu-d"},getWillorders:function(t,e){var a=this,s=this;this.listLoading=!0,i.a.willorders.getwillorders(t).then(function(t){if(200==t.data.code){s.listLoading=!1;var i=s.check_Willorders(t.data.datalist);s.tableData=i.tableData,s.filters2=i.personArr,s.Total=t.data.datacount,t.data.statuscount.length>0&&t.data.statuscount.map(function(t,e,a){0==t.status?s.count1=t.count:2==t.status&&(s.count2=t.count)}),""!=e&&a.$message.success(e)}})},check_Willorders:function(t){var e=[];return t.map(function(t,a,i){var o="";switch(t.inquirytime=s.a.DateFormat(t.inquirytime,"yyyy-MM-dd hh:mm:ss"),null==t.remindtime?t.remindtime="--":t.remindtime=s.a.DateFormat(t.remindtime,"yyyy-MM-dd hh:mm:ss"),e.push(t.engineer),t.status){case"0":o="待报价";break;case"1":o="已向供应商询价";break;case"2":o="供应商已报价";break;case"3":o="已筛选供应商报价";break;case"4":o="已确认建议售价";break;case"5":o="已作废"}t.statusTxt=o}),e=s.a.arrayToHeavy(e),e=this.check_person(e),{tableData:t,personArr:e}},check_person:function(t){var e=[];return t.map(function(t,a,i){e.push({text:t,value:t})}),e}},computed:{},created:function(){var t=JSON.parse(sessionStorage.getItem("userInfo"));null==t&&this.$router.push("/login"),this.form.companyid=t.companyid,this.form.factoryid=t.factoryid;var e={companyid:t.companyid,factoryid:t.factoryid};this.getWillorders(e,""),this.$store.state.adminleftnavnum="/Quotation/quotation"}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1);e.default={name:"getSupplierList",props:{getsuppliersParms:{type:Object}},data:function(){return{brandFrom:{willorderid:"",detailIdList:[],suppliernumber:"",suppliername:"",pagesize:10,pageindex:1},skiphasquote:!0,Total:0,page_sizes:[10,20,30,40],brandList:[],loading:!1,multipleSelection:[]}},methods:{onSubmit:function(){this.getsuppliers(this.brandFrom)},Result:function(){var t=this;if(this.multipleSelection.length>0){var e={};e.willorderid=this.brandFrom.willorderid,e.skiphasquote=this.skiphasquote,e.detailIdList=this.brandFrom.detailIdList,e.supplierIdList=this.getSupplierIdList(),i.a.willorders.buildsupplierquote(e).then(function(e){t.$emit("listenSuppliers","true"),200==e.data.code?t.$message({message:"操作成功",type:"success"}):t.$alert(e.data.message,"操作失败",{confirmButtonText:"确定"})})}else this.$notify({title:"温馨提示",message:"请勾选供应商",type:"warning",duration:3e3,offset:60})},getSupplierIdList:function(){for(var t=[],e=0;e<this.multipleSelection.length;e++)t.push(this.multipleSelection[e].id);return t},handleClickChange:function(t){this.$refs.singleTable.toggleRowSelection(t)},handleSelectionChange:function(t){this.multipleSelection=t},handleSizeChange:function(t){this.brandFrom.pagesize=t,this.getsuppliers(this.brandFrom)},handleCurrentChange:function(t){this.brandFrom.pageindex=t,this.getbrandslist(this.brandFrom)},getsuppliers:function(t){var e=this;i.a.willorders.getsuppliers(t).then(function(t){200==t.data.code&&(e.brandList=t.data.datalist)})}},created:function(){this.brandFrom.willorderid=this.getsuppliersParms.willorderid,this.brandFrom.detailIdList=this.getsuppliersParms.detailIdList;var t=this.brandFrom;this.getsuppliers(t)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),s=a(2);e.default={name:"historyQuotation",props:{historyQuotationObject:{type:Object}},data:function(){return{loading:!1,data:[]}},methods:{close:function(){this.$emit("listenhistoryDetail","historyQuotationShow")},result:function(){for(var t={willorderdetailid:this.historyQuotationObject.willorderdetailid,inquiryorderdetailid:""},e=0;e<this.data.length;e++)this.data[e].checked&&(t.inquiryorderdetailid=this.data[e].inquiryorderdetailid);this.usesupplierquote(t)},usesupplierquote:function(t){var e=this;i.a.willorders.usehistorysupplierquote(t).then(function(t){e.$emit("listenhistoryDetail","historyQuotationShow"),200==t.data.code?e.$message({message:"操作成功",type:"success"}):e.$alert(t.data.message,"提示")})}},filters:{formdata:function(t){var e=new Date(t);return s.a.formatDate.format(e,"yyyy-MM-dd hh:mm:ss")},checkNull:function(t){return t=null==t?"--":t}},created:function(){var t=this,e=this.historyQuotationObject;this.loading=!0,i.a.inquiryorder.getinquiryordershistory(e).then(function(e){t.loading=!1,200==e.data.code&&(t.data=e.data.data)})}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(353),s=a.n(i),o=a(354),n=a.n(o),l=a(351),r=a.n(l),c=a(349),u=a.n(c),d=a(348),p=a.n(d),m=a(1),h=a(10),f=a.n(h),v=a(2);e.default={name:"quotationDetail",data:function(){return{data:{willorderid:"",quotationid:"",inquirytime:"",buyer:"",seller:"",engineer:"",remark:"",createuser:"",modifyuser:"",confirmuser:"",feedbacktime:"",createtime:"",modifytime:"",confirmtime:"",quoter:""},maxlength11:11,maxlength8:8,count:0,activeName:"first",activeName2:"first",InfoShow:!0,showTipbtn:!1,showChosebtn:!1,listLoading:!1,filters:[{value:"0",text:"待报价"},{value:"1",text:"已向供应商询价"},{value:"2",text:"供应商已报价"},{value:"3",text:"已筛选供应商报价"},{value:"4",text:"已确认建议售价"},{value:"5",text:"已作废"}],tableData:[],willorderTotal:100,multipleSelection:[],tableDataSupplier:[],inquiryorderTotal:100,multipleSelection2:[],dialogUploadorder:!1,dialogSupplierVisible:!1,uploadPrams:{},dialogVisible:!1,dutyRate:[],willoaderObject:{id:""},productcodeShow:!1,supplierDetailObject:{id:""},supplierDetailShow:!1,historyQuotationObject:{},historyQuotationShow:!1,getsuppliersParms:{willorderid:"",detailIdList:[]},tipbox_dialogVisible:!1,tipbox_dialogVisible2:!1,iconTitle:!0,quoteDetail:!1,quoteDetail2:!1,TipTotal:"",TipTotal2:"",SuccessList:[],SuccessList2:[],FailList:[]}},methods:{handleConfirm:function(){var t=this;this.QuotationRequre(function(e){m.a.willorders.confirmwillorder({detailIdList:e}).then(function(e){200==e.data.code?t.$message({message:"操作成功",type:"success"}):t.$alert(e.data.message,"操作失败",{confirmButtonText:"确定"})})})},Save:function(){var t=this,e=this;if(!this.checkChoseorder(this.multipleSelection.length>0))return!1;var a=this.getParms();if(a.maxtaxprice>0)return this.$notify({title:"温馨提示",message:"建议含税售价未必填项",type:"warning",duration:3e3,offset:60}),!1;f.a.post("cloudfactory/willorder/updatewillorder",a).then(function(a){200==a.data.code?(e.$message({message:"保存成功",type:"success"}),t.listenUpdate(!0)):e.$alert(a.data.message,"保存失败",{confirmButtonText:"确定"})})},getParms:function(){var t={};t.willorderid=this.$route.params.demandNumber,t.detailList=[],t.maxtaxprice=0;for(var e=0;e<this.multipleSelection.length;e++){var a={};a.willorderdetailid=this.multipleSelection[e].willorderdetailid,a.serialno=this.multipleSelection[e].serialno,a.productmodel=this.multipleSelection[e].productmodel,a.mintaxprice=this.multipleSelection[e].mintaxprice,(null==this.tableData[e].maxtaxprice||""==this.tableData[e].maxtaxprice||this.tableData[e].maxtaxprice<=0)&&t.maxtaxprice++,a.maxtaxprice=this.multipleSelection[e].maxtaxprice,null!=this.multipleSelection[e].cando&&(a.cando=parseInt(this.multipleSelection[e].cando)),a.startqty=this.multipleSelection[e].startqty,a.deliverytime=this.multipleSelection[e].deliverytime,a.taxprice=this.multipleSelection[e].taxprice,a.containfreight=parseInt(this.multipleSelection[e].containfreight),a.confirmremark=this.multipleSelection[e].confirmremark,t.detailList.push(a)}return t},Refresh:function(){var t={},e=JSON.parse(sessionStorage.getItem("userInfo"));t.willorderid=this.$route.params.demandNumber,t.companyid=e.companyid,t.factoryid=e.factoryid,this.getWillorders(t,!0)},handleClick:function(t,e){},handleClick2:function(t,e){var a=this;"second"==t.name&&this.count>0&&m.a.inquiryorder.markreadbywillorderid({willorderid:this.$route.params.demandNumber}).then(function(t){200==t.data.code&&(a.count=0)})},blurSupplier:function(){this.showTipbtn=!1},QuotainBlur:function(){this.showChosebtn=!1},checkMaxtaxprice:function(t){null!=t.maxtaxprice&&""!=t.maxtaxprice&&(isNaN(t.maxtaxprice)&&(t.maxtaxprice=t.maxtaxprice.replace(/[^\d|.]/g,"")),t.maxtaxprice>99999999&&(t.maxtaxprice=99999999),t.maxtaxprice=""==t.maxtaxprice?"":parseFloat(t.maxtaxprice).toFixed(2),t.mintaxprice>t.maxtaxprice&&(t.maxtaxprice="",this.tipTaxprice()))},checkMintaxprice:function(t){null!=t.mintaxprice&&""!=t.mintaxprice&&(isNaN(t.mintaxprice)&&(t.mintaxprice=t.mintaxprice.replace(/[^\d|.]/g,"")),t.mintaxprice>99999999&&(t.mintaxprice=99999999),t.mintaxprice=""==t.mintaxprice?"":parseFloat(t.mintaxprice).toFixed(2),t.mintaxprice>t.maxtaxprice&&(t.mintaxprice="",this.tipTaxprice()))},checkTaxprice:function(t){null!=t.taxprice&&""!=t.taxprice&&(isNaN(t.taxprice)&&(t.taxprice=t.taxprice.replace(/[^\d|.]/g,"")),t.taxprice>99999999&&(t.taxprice=99999999),t.taxprice=""==t.taxprice?"":parseFloat(t.taxprice).toFixed(2))},tipTaxprice:function(){this.$notify({title:"温馨提示",message:"建议最低含税售价必须小于建议含税售价",type:"warning",duration:3e3,offset:60})},handleQuotainExcellent:function(){var t=this;this.QuotationRequre(function(e){m.a.willorders.usebestsupplierquote({detailIdList:e}).then(function(e){t.checkData(e)})})},handleQuotainNear:function(){var t=this;this.QuotationRequre(function(e){m.a.willorders.uselastsupplierquote({detailIdList:e}).then(function(e){t.checkData(e)})})},handleQuotainLow:function(){var t=this;this.QuotationRequre(function(e){m.a.willorders.useminsupplierquote({detailIdList:e}).then(function(e){t.checkData(e)})})},QuotationRequre:function(t){if(this.checkChoseorder(this.multipleSelection.length>0)){t(this.getWillorderdetailidList(this.multipleSelection))}},checkData:function(t){200==t.data.code?this.$message({message:t.data.data,type:"success"}):this.$alert(t.data.message,"提示",{confirmButtonText:"确定"})},handleImport:function(){this.uploadPrams.willorderid=this.$route.params.demandNumber,this.dialogUploadorder=!0},handleDownload:function(){var t=this,e=this.$route.params.demandNumber;m.a.willorders.downloadattachment({willorderid:e}).then(function(e){200==e.data.code?location.href=e.data.data:t.$alert(e.data.message,"提示")})},resultSuppliers:function(){this.checkChoseorder(this.multipleSelection.length>0)&&(this.dialogSupplierVisible=!0,this.getsuppliersParms.willorderid=this.$route.params.demandNumber,this.getsuppliersParms.detailIdList=this.getWillorderdetailidList(this.multipleSelection))},listenSuppliers:function(t){this.dialogSupplierVisible=!1,window.location.reload()},listenwilloaderDetail:function(t){this[t]=!1,v.a.forbiddenScroll(!1),this.listenUpdate(!0)},listensupplierDetail:function(t){this[t]=!1,v.a.forbiddenScroll(!1),this.listenUpdate(!1)},listenhistoryDetail:function(t){this[t]=!1,v.a.forbiddenScroll(!1),this.listenUpdate(!0)},listenUpdate:function(t){var e={},a=JSON.parse(sessionStorage.getItem("userInfo"));e.willorderid=this.$route.params.demandNumber,e.companyid=a.companyid,e.factoryid=a.factoryid,t?this.getWillorders(e):this.getordersbywillorderid(e)},handleTipsupplier:function(){var t=this,e=this;if(this.checkChoseorder(this.multipleSelection.length>0)){var a=this.getWillorderdetailidList(this.multipleSelection);m.a.willorders.remindsupplier({detailIdList:a}).then(function(a){200==a.data.code?e.remindData(a.data.data):t.$alert(a.data.message,"提示")})}},handleTipSupplier2:function(){var t=this,e=this;if(this.checkChoseorder(this.multipleSelection2.length>0)){var a=this.getWillorderdetailidList2(this.multipleSelection2);m.a.willorders.remindsupplier({detailIdList:a}).then(function(a){200==a.data.code?e.remindData(a.data.data):t.$alert(a.data.message,"提示")})}},remindData:function(t){var e={},a={};e.number=0,e.data=[],a.number=0,a.data=[];for(var i=0;i<t.length;i++){var s={name:"",detail:[]};t[i].isSuccess?(e.number++,s.name=t[i].data.suppliername,s.detail=this.CheckDetail(t[i].data.detailList),e.data.push(s)):(a.number++,s.name=t[i].data.suppliername,s.detail=this.CheckDetail(t[i].data.detailList),s.message=t[i].message,a.data.push(s))}0==e.number?(this.tipbox_dialogVisible=!0,this.iconTitle=!1,this.TipTotal="提醒供应商报价失败"):0==a.number?(this.tipbox_dialogVisible=!0,this.iconTitle=!0,this.TipTotal="已成功提醒"+e.number+"家供应商报价",this.SuccessList=e.data):(this.tipbox_dialogVisible2=!0,this.TipTotal2="已成功提醒"+e.number+"家供应商报价,"+a.number+"家失败",this.SuccessList2=e.data,this.FailList=a.data)},CheckDetail:function(t){for(var e="",a=[],i=0;i<t.length;i++)t[i].willorderid=null==t[i].willorderid?"无报价单号":t[i].willorderid,t[i].productcode=null==t[i].productcode?"无产品编码":t[i].productcode,e=t[i].willorderid+" - "+t[i].productcode,a.push({text:e});return a},handleClose:function(){this.tipbox_dialogVisible=!1},handleClose2:function(){this.tipbox_dialogVisible2=!1},getWillorderdetailidList:function(t){var e=[];return t.map(function(t,a,i){e.push(t.willorderdetailid)}),e},getWillorderdetailidList2:function(t){var e=[];return t.map(function(t,a,i){e.push(t.inquiryorderdetailid)}),e},checkChoseorder:function(t){return!!t||(this.$notify({title:"温馨提示",message:"请勾选订单",type:"warning",duration:3e3,offset:60}),!1)},showQuotationDetail:function(t){null==t.cando&&(t.cando=1),null==t.taxrate&&(t.taxrate=17),this.willoaderObject=t,this.willoaderObject.dutyRate=this.dutyRate,this.productcodeShow=!this.productcodeShow,v.a.forbiddenScroll(!0)},showSupplierDetail:function(t){this.supplierDetailShow=!this.supplierDetailShow,this.supplierDetailObject=t,v.a.forbiddenScroll(!0)},close:function(t){this[t]=!this[t],v.a.forbiddenScroll(!1)},tableRowClassName:function(t,e){if(this.multipleSelection.length>0){for(var a="",i=0;i<this.multipleSelection.length;i++)if(this.multipleSelection[i]==t){a="info-row-9ed";break}if(""!=a)return a}return e%2==0?"info-row-bg":"positive-row-bg"},handleSelectionChange:function(t){this.multipleSelection=t},handleSelectionChange2:function(t){this.multipleSelection2=t},Checkquotation:function(t,e,a){this.historyQuotationShow=!this.historyQuotationShow,this.historyQuotationObject.productbrand=t,this.historyQuotationObject.productmodel=e,this.historyQuotationObject.willorderdetailid=a,v.a.forbiddenScroll(!0)},quotedStatu:function(t){return"1"===t?"icon-statu-a":"2"===t?"icon-statu-b":"3"===t?"icon-statu-c":"icon-statu-d"},Uploadorder:function(t){this.dialogUploadorder=!1,this.listenUpdate(!0),t&&(this.dialogVisible=!0)},handleUseSupplier:function(){var t=this;if(this.checkChoseorder(this.multipleSelection2.length>0)){if(!this.checkDerdetailid())return this.$notify({title:"温馨提示",message:"只能采用一家供应商报价，请重新选择",type:"warning",duration:3e3,offset:60}),!1;var e=this.getWillorderdetailidList2(this.multipleSelection2);m.a.willorders.usesupplierquote({inquiryDetailIdList:e}).then(function(e){200==e.data.code?t.$message({message:"操作成功",type:"success"}):t.$alert(e.data.message,"提示")})}},checkDerdetailid:function(){for(var t={},e=!0,a=0;a<this.multipleSelection2.length;a++)t[this.multipleSelection2[a].willorderdetailid]&&(e=!1,t[this.multipleSelection2[a].willorderdetailid]=!0);return e},handleAdd:function(){var t=this.$route.params.demandNumber;this.$router.push({path:"/Quotation/addSupplierQuotation/"+t})},handleSizeChange1:function(){},handleCurrentChange1:function(){},handleSizeChange2:function(){},handleCurrentChange2:function(){},getWillorders:function(t,e){var a=this;this.listLoading=!0;var i=this;m.a.willorders.getwillorderbyid(t).then(function(t){if(a.listLoading=!1,200==t.data.code){var s=t.data.data;i.tableData=s.detailList,i.data.willorderid=s.willorderid,i.data.quotationid=s.quotationid,i.data.inquirytime=v.a.DateFormat(s.inquirytime,"yyyy-MM-dd hh:mm:ss"),i.data.buyer=s.buyer,i.data.seller=s.seller,i.data.engineer=s.engineer,i.data.remark=s.remark,i.data.createuser=s.createuser,i.data.modifyuser=s.modifyuser,i.data.confirmuser=s.confirmuser,i.data.feedbacktime=s.feedbacktime,i.data.createtime=v.a.DateFormat(s.createtime,"yyyy-MM-dd hh:mm:ss"),void 0!=s.modifytime&&(i.data.modifytime=v.a.DateFormat(s.modifytime,"yyyy-MM-dd hh:mm:ss")),void 0!=s.confirmtime&&(i.data.confirmtime=v.a.DateFormat(s.confirmtime,"yyyy-MM-dd hh:mm:ss")),i.data.quoter=s.quoter}e&&a.$message.success("刷新成功")})},getordersbywillorderid:function(t){var e=this;m.a.inquiryorder.getordersbywillorderid(t).then(function(t){200==t.data.code&&(e.tableDataSupplier=t.data.datalist,e.count=t.data.datasum)})},inputChange:function(t){this.$refs.multipleTable.toggleRowSelection(t,!0)}},filters:{Formatstatus:function(t){var e="";switch(t){case"0":e="待报价";break;case"1":e="已向供应商询价";break;case"2":e="供应商已报价";break;case"3":e="已筛选供应商报价";break;case"4":e="已确认建议售价";break;case"5":e="已作废"}return e},checkNull:function(t){return t=null==t||""==t?"--":t}},created:function(){var t=this,e={},a=JSON.parse(sessionStorage.getItem("userInfo"));e.willorderid=this.$route.params.demandNumber,e.companyid=a.companyid,e.factoryid=a.factoryid,this.getWillorders(e),this.getordersbywillorderid(e),this.$store.state.adminleftnavnum="/Quotation/quotation",m.a.supplier.getDictByTypeNumbers({typenumbers:"TaxRate"}).then(function(e){if(200==e.data.code){for(var a=0;a<e.data.data.TaxRate.length;a++)e.data.data.TaxRate[a].name=parseInt(e.data.data.TaxRate[a].name),e.data.data.TaxRate[a].text=e.data.data.TaxRate[a].name+"%";t.dutyRate=e.data.data.TaxRate}})},watch:{},components:{"v-uploadorder":s.a,"v-willoaderInfo":n.a,"v-supplierDetail":r.a,"v-historyQuotation":u.a,"v-getSupplierList":p.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1);e.default={name:"supplierDetail",props:{supplierDetailObject:{type:Object}},data:function(){return{issendcost:"0",iscando:"1"}},methods:{close:function(){this.$emit("listensupplierDetail","supplierDetailShow")},result:function(){var t=this,e=[];e.push(this.supplierDetailObject.inquiryorderdetailid),i.a.willorders.usesupplierquote({inquiryDetailIdList:e}).then(function(e){t.$emit("listensupplierDetail","supplierDetailShow"),200==e.data.code?t.$message({message:"操作成功",type:"success"}):t.$alert(e.data.message,"提示")})}},filters:{checkNull:function(t){return t=null==t?"--":t}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1);e.default={name:"supplierList",props:{keyword:{type:String}},watch:{keyword:function(t){this.form.supplier=t,this.getsuppliers()}},data:function(){return{page_sizes:[10,20,30],Total:0,loading:!1,tableData:[],form:{pageindex:1,pagesize:10,supplier:""}}},methods:{clickStop:function(){},handleSizeChange:function(t){this.form.pagesize=t,this.getsuppliers()},handleCurrentChange:function(t){this.form.pageindex=t,this.getsuppliers()},Chose:function(t){var e={name:t.name,id:t.id};this.$emit("listenSupplierName",e)},bodyClick:function(t){var e={name:this.keyword,id:""};this.$emit("listenSupplierName",e)},getsuppliers:function(){var t=this,e=this;this.loading=!0,i.a.supplier.getsuppliers(this.form).then(function(a){t.loading=!1,200==a.data.code&&(e.tableData=a.data.data.datalist,e.Total=a.data.data.datacount)})}},created:function(){document.querySelectorAll("body")[0].addEventListener("click",this.bodyClick,!1),this.getsuppliers()},beforeDestroy:function(){document.querySelectorAll("body")[0].removeEventListener("click",this.bodyClick,!1)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1);e.default={props:{uploadPrams:{type:Object}},data:function(){return{actionUrl:"/cloudfactory/willorder/uploadorder",fileList3:[],disabled:!0,headers:{}}},methods:{downloadorder:function(t){var e=this;i.a.willorders.downloadorder({willorderid:t}).then(function(t){200==t.data.code?(window.location.href=t.data.data,e.$emit("listenUploadorder",!0)):e.$alert(t.data.message,"错误提示",{confirmButtonText:"确定",callback:function(t){e.$emit("listenUploadorder",!0)}})})},submitUpload:function(){this.$refs.upload.submit()},beforeAvatarUpload:function(t){var e=!1;"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==t.type&&"application/vnd.ms-excel"!==t.type||(e=!0),e||""!==t.type||"xls"!==t.name.split(".")[1]&&"xlsx"!==t.name.split(".")[1]||(e=!0);var a=t.size/1024/1024<5;return e||this.$message.error("文件格式错误，请选择Excel文件!"),a||this.$message.error("上传文件大小大小不能超过 5MB!"),e&&a},handleChange:function(t,e){this.disabled=!1,e.length>1&&(this.fileList3=e.slice(1))},handleremove:function(t,e){this.disabled=!0},handleSuccess:function(t,e,a){var i=this;i.fileList3=[],i.disabled=!0,200==e.response.code?(i.$emit("listenUploadorder",!1),this.$message({message:"上传成功",type:"success",duration:1500})):this.$alert(e.response.message,"提示",{confirmButtonText:"确定",callback:function(t){}})},handleError:function(t,e,a){this.$alert("上传失败，请重新上传","提示",{confirmButtonText:"确定",callback:function(t){}})}},created:function(){var t=sessionStorage.getItem("token");this.headers={sessid_id:t}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(10),s=a.n(i),o=a(352),n=a.n(o);e.default={name:"willorderInfo",props:{willoaderObject:{type:Object}},data:function(){return{supplierShow:!1,name:"",maxlength8:8,maxlength11:11}},computed:{price:function(){var t=(1e4*this.willoaderObject.materialcost+1e4*this.willoaderObject.dealwithcost+1e4*this.willoaderObject.workcost)/1e4;return t=isNaN(t)?"0":t,t},dutyRateList:function(){return this.willoaderObject.dutyRate?(this.willoaderObject.dutyRate.map(function(t,e,a){t.name=parseInt(t.name)}),this.willoaderObject.dutyRate):[]},disable:function(){return 4==this.willoaderObject.status||5==this.willoaderObject.status}},methods:{stop:function(){},handleFocus:function(){this.supplierShow=!0},handleBlur:function(){this.willoaderObject.supplier=this.name},listenSupplierName:function(t){this.supplierShow=!1,this.willoaderObject.supplier=t.name,this.name=t.name},checkValue:function(t,e){var a=t.target.value;(isNaN(a)||""!=a)&&(this.willoaderObject[e]=a.replace(/[^\d|.]/g,""))},blur:function(t,e){var a=t.target.value;""==a||isNaN(a)||(a<0&&(a=Math.abs(a)),a>99999999&&(a=99999999),this.willoaderObject[e]=parseFloat(a).toFixed(2))},computTaxamount:function(t){if(!isNaN(t)){var e=this.willoaderObject.confirmstartqty>=this.willoaderObject.orderamount?this.willoaderObject.confirmstartqty:this.willoaderObject.orderamount,a=t*e;this.willoaderObject.taxamount=a.toFixed(2)}},dutyRateChange:function(t){if(this.price>0){var e=this.price*(1+this.willoaderObject.taxrate/100);this.willoaderObject.taxprice=e.toFixed(2)}var a=this.willoaderObject.taxprice*this.willoaderObject.confirmstartqty;this.willoaderObject.taxamount=a.toFixed(2)},save:function(){var t=this,e=this,a=this.getParms();this.checkParms()&&s.a.post("cloudfactory/willorder/updateorderdetail",a).then(function(a){t.$emit("listenwilloaderDetail","productcodeShow"),200==a.data.code||"处理成功"==a.data.message?e.$message({message:"保存成功",type:"success"}):e.$alert(a.data.message,"保存失败",{confirmButtonText:"确定"})})},close:function(){this.$emit("listenwilloaderDetail","productcodeShow")},getParms:function(){var t={};return t.willorderdetailid=this.willoaderObject.willorderdetailid,t.willorderid=this.willoaderObject.willorderid,t.cando=parseInt(this.willoaderObject.cando),t.startqty=this.willoaderObject.startqty,t.deliverytime=this.willoaderObject.deliverytime,t.diffmessage=this.willoaderObject.diffmessage,t.confirmcando=parseInt(this.willoaderObject.confirmcando),t.confirmstartqty=this.willoaderObject.confirmstartqty,t.confirmdeliverytime=this.willoaderObject.confirmdeliverytime,t.confirmremark=this.willoaderObject.confirmremark,t.mintaxprice=this.willoaderObject.mintaxprice,t.maxtaxprice=this.willoaderObject.maxtaxprice,t.supplier=this.willoaderObject.supplier,t.containfreight=parseInt(this.willoaderObject.containfreight),t.materialcost=this.willoaderObject.materialcost,t.workcost=this.willoaderObject.workcost,t.dealwithcost=this.willoaderObject.dealwithcost,t.taxrate=this.willoaderObject.taxrate,t.taxprice=this.willoaderObject.taxprice,t.remark=this.willoaderObject.remark,t},checkParms:function(){var t="";return this.willoaderObject.maxtaxprice||(t+="建议含税售价为必填项、"),this.willoaderObject.deliverytime||(t+="货期为必填项、"),this.willoaderObject.taxprice||(t+="含税单价为必填项、"),console.log(t),""==t||(this.$notify.info({title:"提示",message:t}),!1)}},components:{"v-suppliertable":n.a},filters:{checkNull:function(t){return t=null==t||""==t?"--":t}},watch:{price:function(t){var e=t*(1+this.willoaderObject.taxrate/100);this.willoaderObject.taxprice=e.toFixed(2)}},created:function(){}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(1),s=a(10),o=a.n(s);e.default={name:"business",props:{supplierbusiness:{type:Object},supplierbusinessList:{type:Array}},watch:{supplierbusiness:function(t){for(var e="",a="",i="",s="",o=0;o<t.supplierbrands.length;o++)o==t.supplierbrands.length-1?(e+=t.supplierbrands[o].brandid,a+=t.supplierbrands[o].brandname):(e+=t.supplierbrands[o].brandid+",",a+=t.supplierbrands[o].brandname+",");for(var n=0;n<t.productcategories.length;n++)n==t.productcategories.length-1?(i+=t.productcategories[n].categoryid,s+=t.productcategories[n].categoryname):(i+=t.productcategories[n].categoryid+",",s+=t.productcategories[n].categoryname+",");t.businesstrade=void 0==t.businesstrade?[]:t.businesstrade.split(" "),this.brandids=e,this.sellbrand=a,this.categoryid=i,this.categoryname=s;var l=this.categoryid.toUpperCase().split(",");this.$refs.tree2.setCheckedKeys(l)}},data:function(){return{sellproduct:"",brandids:"",sellbrand:"",categoryname:"",categoryid:"",tableShowproduct:0,tableData:[],sellproductList:[],suppliertradesList:[],AllCusttrades:[],businessChoseList:[],dialogTableVisible:!1,sellproductShow:!1,targetBrand:!0,loading:!1,brandList:[],currentRow:[],brandFrom:{simply:"",name:"",pageindex:1,pagesize:10},Total:0,page_sizes:[15,20,25,50],form:{pageindex:1,pagesize:15}}},computed:{},methods:{handleChange:function(t){console.log(t)},selectable:function(t,e){return!t.disable},Showbrandslist:function(){this.dialogTableVisible=!0,this.getbrandslist(this.brandFrom)},checkProduct:function(t){var e=this.$refs[t].currentValue;this.$refs.tree2.filter(e)},filterNode:function(t,e){return!t||-1!==e.text.indexOf(t)},handleSelect:function(t){},querySearchAsync:function(t,e){var a=[];i.a.customer.getCustomerByName({name:t}).then(function(t){200==t.data.code&&(a=t.data.data),e(a)})},businessSelectionChange:function(t){this.businessChoseList=t},Showsellproduct:function(){this.sellproductShow=!0},bodyClick:function(){this.sellproductShow=!1},checkChange:function(){this.categoryname="",this.categoryid="";for(var t=this.$refs.tree2.getCheckedNodes(),e="",a=0;a<t.length;a++)a==t.length-1?(e+=t[a].text,this.categoryid+=t[a].id):(e+=t[a].text+",",this.categoryid+=t[a].id+",");this.categoryname=e},addRow:function(){var t={partnername:"",brandname:"",industryid:""};this.supplierbusinessList.push(t)},removeRow:function(){if(this.businessChoseList.length>0)for(var t=0;t<this.supplierbusinessList.length;t++)for(var e=0;e<this.businessChoseList.length;e++){var a=this.businessChoseList[e];this.supplierbusinessList[t]==a&&this.supplierbusinessList.splice(t,1)}else this.$notify({title:"警告",message:"无可删除行",type:"warning"})},save:function(){var t={},e=this;t.brandids=this.brandids,t.productcatetoryids=this.categoryid,t.tradesid=this.supplierbusiness.businesstrade.join(","),t.supplierpartnerInputs=this.supplierbusinessList,t.supplierid=this.$route.params.supplierCode,o.a.post("cloudfactory/supplierbusiness/save",t).then(function(t){200==t.data.code?e.$message({message:"保存成功",type:"success",duration:1500,onClose:function(){location.reload()}}):e.$alert("保存失败","提示")})},onSubmit:function(){this.getbrandslist(this.brandFrom)},onResult:function(){if(null==this.currentRow)this.$notify({title:"警告",message:"请勾选供应商",type:"warning"});else{this.dialogTableVisible=!1;for(var t="",e=[],a=0;a<this.currentRow.length;a++)a==this.currentRow.length-1?(t+=this.currentRow[a].name,e+=this.currentRow[a].id):(t+=this.currentRow[a].name+",",e+=this.currentRow[a].id+",");this.sellbrand=t,this.brandids=e}},handleClickChange:function(t){this.$refs.singleTable.toggleRowSelection(t)},handleSelectionChange:function(t){this.currentRow=t},handleSizeChange:function(t){this.brandFrom.pagesize=t,this.getbrandslist(this.brandFrom)},handleCurrentChange:function(t){this.brandFrom.pageindex=t,this.getbrandslist(this.brandFrom)},getbrandslist:function(t){var e=this;this.loading=!0,i.a.supplier.getbrandslist(t).then(function(t){e.loading=!1,200==t.data.code&&(e.brandList=t.data.data.rows,e.Total=t.data.data.totalCount)})},formateSellProduct:function(t){for(var e=0;e<t.length;e++);}},created:function(){var t=this;i.a.supplier.productcatalog().then(function(e){200==e.data.code&&(t.sellproductList=e.data.data[0].children[0].children||[])}),i.a.supplier.suppliertrades().then(function(e){t.suppliertradesList=e.data.data[0].children||[]}),i.a.customer.getAllCusttrades().then(function(e){200==e.data.code&&(t.AllCusttrades=e.data.data)}),document.querySelectorAll("body")[0].addEventListener("click",this.bodyClick,!1)},beforeDestroy:function(){document.querySelectorAll("body")[0].removeEventListener("click",this.bodyClick,!1)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"contact",props:{suppliercontacts:{type:Array}},data:function(){return{}},filters:{checkSex:function(t){return"SEX02_SYS"==t?"男":"SEX01_SYS"==t?"女":""}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"financial",props:{supplierfinance:{type:Object},supplierfinanceBase:{type:Object},supplierfinanceList:{type:Array}},data:function(){return{tableData:[],formInline:{}}},filters:{}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"identification",props:{cardauthenticate:{type:Object},structauthenticate:{type:Object}},data:function(){return{actionUrl:"",dialogVisible:!1,dialogImageUrl:""}},methods:{handleRemove:function(t,e){console.log(t,e)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"infomation",props:{supplierBase:{type:Object},BasedataInfo:{type:Object}},data:function(){return{}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(90),s=a.n(i),o=a(355),n=a.n(o),l=a(87),r=a.n(l),c=a(88),u=a.n(c),d=a(89),p=a.n(d),m=a(1),h=a(2),f=a(53),v=a.n(f);e.default={name:"supplierDetail",data:function(){return{supplierName:"",supplierBase:{},suppliercontacts:[],supplierfinance:{},supplierfinanceList:[],supplierfinanceBase:{PayCurrency:[],SettleType:[],PaymentCondition:[],TaxClassify:[],TaxRate:[]},supplierbusiness:{},supplierbusinessList:[],cardauthenticate:{Businesslicense:{name:"",url:""},AgentCard:{name:"",url:""},CardOther:{name:"",url:""}},structauthenticate:{},BasedataInfo:{},focus:1,scollTop:!1}},methods:{handletabs:function(t,e){this.focus=t;var a=this.$refs[e].offsetTop;this.ScollFn(a-70)},ScollFn:function(t){window.scrollTo(0,t)},getSupplierDeital:function(t){var e=this;m.a.supplier.getSupplierDeital(t).then(function(t){200==t.data.code&&(e.supplierName=t.data.data.supplier.name,e.getSupplierBase(t.data.data),e.getSuppliercontacts(t.data.data.suppliercontacts),e.getSupplierfinance(t.data.data),e.getSupplierbusiness(t.data.data),e.getSupplierauthenticate(t.data.data))})},getSupplierBase:function(t){this.supplierBase=null==t.supplierbase?{}:t.supplierbase,this.supplierBase.companyName=t.supplier.name,this.supplierBase.shortname=t.supplier.shortname,this.supplierBase.founddate=h.a.formatDate.getDate(this.supplierBase.founddate),""!=this.supplierBase.province&&void 0!=this.supplierBase.province&&(this.supplierBase.area=this.supplierBase.province+"/"+this.supplierBase.city)},getSuppliercontacts:function(t){this.suppliercontacts=t},getSupplierfinance:function(t){var e={paycurrency:"",paymenttype:"",paycondition:"",settlename:"",taxtype:"",taxregistercode:"",invoicetype:"",taxrate:""};this.supplierfinance=null==t.supplierfinance?e:t.supplierfinance,this.supplierfinanceList=t.supplierbanks},getSupplierbusiness:function(t){this.supplierbusiness=null==t.supplierbusiness?{}:t.supplierbusiness,this.supplierbusiness.supplierbrands=t.supplierbrands,this.supplierbusiness.productcategories=t.supplierproductcategories,this.supplierbusinessList=t.supplierpartners;var e={supplierid:this.$route.params.supplierCode};this.getTeamworkCustomer(e)},getSupplierauthenticate:function(t){var e=this;if(null!=t.supplierauthenticate){JSON.parse(t.supplierauthenticate.cardauthenticate).map(function(t,a,i){"Businesslicense"==t.AuthenticateName&&(e.cardauthenticate.Businesslicense={name:t.NameCN,url:t.ImgUrl}),"AgentCard"==t.AuthenticateName&&(e.cardauthenticate.AgentCard={name:t.NameCN,url:t.ImgUrl}),"CardOther"==t.AuthenticateName&&(e.cardauthenticate.CardOther={name:t.NameCN,url:t.ImgUrl})})}},getDictByTypeNumbers:function(t){var e=this;m.a.supplier.getDictByTypeNumbers(t).then(function(t){200==t.data.code&&(e.BasedataInfo={CompanyClassify:t.data.data.CompanyClassify,CompanyNature:t.data.data.CompanyNature,CompanyScale:t.data.data.CompanyScale},e.supplierfinanceBase={PayCurrency:t.data.data.Currency,SettleType:t.data.data.SettleType,PaymentCondition:t.data.data.PaymentCondition,TaxClassify:t.data.data.TaxClassify,TaxRate:t.data.data.TaxRate})})},getTeamworkCustomer:function(t){var e=this;m.a.supplier.getTeamworkCustomer(t).then(function(t){if(200==t.data.code){for(var a=0;a<t.data.data.length;a++)t.data.data[a].disable=!0;e.supplierbusinessList=e.supplierbusinessList.concat(t.data.data)}})}},components:{"v-Information":s.a,"v-Business":n.a,"v-Contact":r.a,"v-Financial":u.a,"v-Identification":p.a,"v-backtop":v.a},created:function(){var t=this,e={supplierid:this.$route.params.supplierCode},a={typenumbers:"Currency,SettleType,PaymentCondition,TaxClassify,TendType,TaxRate,CompanyClassify,CompanyNature,CompanyScale"};this.getSupplierDeital(e),this.getDictByTypeNumbers(a),this.$store.state.adminleftnavnum="/Supplier/SupplierList",window.onscroll=function(){var e=document.documentElement.scrollTop||document.body.scrollTop;t.scollTop=e>=600}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(10),s=a.n(i);e.default={name:"supplierList",data:function(){return{form:{numbers:"",supplierName:"",supplierShortName:"",documentStatus:"",forbidStatus:"",createdate:null,createTimeFrom:null,createTimeTo:null,approverdate:null,approverDateFrom:null,approverDateTo:null,pageindex:1,pagesize:100},show:!1,tableData:[],loading:!1,page_sizes:[100,200,300,400],Total:100}},methods:{creatDataChange:function(t){var e=t.split(" - ");this.form.createTimeFrom=e[0],this.form.createTimeTo=e[1]},approverDataChange:function(t){var e=t.split(" - ");this.form.approverDateFrom=e[0],this.form.approverDateTo=e[1]},search:function(){this.getsupplierlist(this.form,"查询成功")},resetForm:function(t){this.form.pageindex=1,this.$refs[t].resetFields(),this.getsupplierlist(this.form,"")},reload:function(){this.getsupplierlist(this.form,"刷新成功")},toSupplierDetail:function(t){this.$router.push({path:"/Supplier/SupplierDetail/"+t})},handleSizeChange:function(t){this.form.pagesize=t,this.getsupplierlist(this.form,"")},handleCurrentChange:function(t){this.form.pageindex=t,this.getsupplierlist(this.form,"")},getsupplierlist:function(t,e){var a=this;this.loading=!0,s.a.post("cloudfactory/supplier/getsupplierlist",t).then(function(t){a.loading=!1,200==t.data.code&&(a.tableData=a.supplierData(t.data.data.rows),a.Total=t.data.data.totalCount),""!=e&&a.$message({message:e,type:"success"})})},supplierData:function(t){if(null==t)return[];for(var e=0;e<t.length;e++){var a=[];null!=t[e].contact&&""!=t[e].contact&&(a=t[e].contact.split("$")),t[e].contactName=a[0],t[e].contactSex=a[1],t[e].contactPost=a[2],t[e].contactTel=a[3],t[e].contactMobile=a[4],t[e].contactFax=a[5],t[e].contactEmail=a[6],t[e].contactIm=a[7]}return t}},created:function(){this.$store.state.adminleftnavnum="/Supplier/SupplierList",this.getsupplierlist(this.form,"")}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,function(t,e,a){function i(t){a(260)}var s=a(0)(a(142),a(363),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(261)}var s=a(0)(a(143),a(364),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(285)}var s=a(0)(a(144),a(388),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(291)}var s=a(0)(a(145),a(394),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(270)}var s=a(0)(a(146),a(373),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(264)}var s=a(0)(a(147),a(367),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(272)}var s=a(0)(a(148),a(375),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(299)}var s=a(0)(a(149),a(402),i,"data-v-b1adb73e",null);t.exports=s.exports},function(t,e,a){function i(t){a(274)}var s=a(0)(a(150),a(377),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(296)}var s=a(0)(a(151),a(399),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(268)}var s=a(0)(a(152),a(371),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(277)}var s=a(0)(a(153),a(380),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(281)}var s=a(0)(a(154),a(384),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(265)}var s=a(0)(a(155),a(368),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(294)}var s=a(0)(a(156),a(397),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(295)}var s=a(0)(a(157),a(398),i,"data-v-7c0b4e69",null);t.exports=s.exports},function(t,e,a){function i(t){a(289)}var s=a(0)(a(158),a(392),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(278)}var s=a(0)(a(159),a(381),i,"data-v-4c94eb87",null);t.exports=s.exports},function(t,e,a){function i(t){a(259)}var s=a(0)(a(160),a(362),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(301)}var s=a(0)(a(162),a(404),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(282)}var s=a(0)(a(163),a(385),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(292)}var s=a(0)(a(164),a(395),i,"data-v-746e9843",null);t.exports=s.exports},function(t,e,a){function i(t){a(284)}var s=a(0)(a(165),a(387),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(305)}var s=a(0)(a(166),a(408),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(263)}var s=a(0)(a(167),a(366),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(300)}var s=a(0)(a(169),a(403),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(304)}var s=a(0)(a(170),a(407),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(293)}var s=a(0)(a(171),a(396),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(255)}var s=a(0)(a(172),a(358),i,"data-v-00548a75",null);t.exports=s.exports},function(t,e,a){function i(t){a(286)}var s=a(0)(a(173),a(389),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(298)}var s=a(0)(a(175),a(401),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(262)}var s=a(0)(a(176),a(365),i,"data-v-14406929",null);t.exports=s.exports},function(t,e,a){function i(t){a(306)}var s=a(0)(a(177),a(409),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(303)}var s=a(0)(a(178),a(406),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(276)}var s=a(0)(a(179),a(379),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(257)}var s=a(0)(a(180),a(360),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(269)}var s=a(0)(a(181),a(372),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(279)}var s=a(0)(a(182),a(382),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(275)}var s=a(0)(a(183),a(378),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(258)}var s=a(0)(a(184),a(361),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(280)}var s=a(0)(a(185),a(383),i,"data-v-4fafa7ca",null);t.exports=s.exports},function(t,e,a){function i(t){a(273)}var s=a(0)(a(186),a(376),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(290)}var s=a(0)(a(187),a(393),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(256)}var s=a(0)(a(192),a(359),i,null,null);t.exports=s.exports},function(t,e,a){function i(t){a(266)}var s=a(0)(a(193),a(369),i,null,null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-box"},[t._m(0),t._v(" "),a("div",{staticClass:"upload-step"},[a("h3",{staticClass:"upload-step-title"},[t._v("第一步：下载模版")]),t._v(" "),a("p",{staticClass:"upload-step-des"},[t._v("将要导入的数据填充到数据导入模板文件中，不可改变模板的格式")]),t._v(" "),a("a",{attrs:{href:t.uploadExl}},[t._v("点击下载导入数据模板 ")])]),t._v(" "),a("div",{staticClass:"upload-step"},[a("h3",{staticClass:"upload-step-title"},[t._v("第二步：选择并上传文件")]),t._v(" "),a("p",{staticClass:"upload-step-des"},[t._v("选择填充好数据的模版文件，选中后文件将自动上传")]),t._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{headers:t.headers,data:t.uploadPrams,name:"excelorders","on-change":t.handleChange,action:t.actionUrl,"on-success":t.handleSuccess,"on-error":t.handleError,"on-remove":t.handleremove,"file-list":t.fileList3,"before-upload":t.beforeAvatarUpload,"auto-upload":!1}},[a("el-button",{attrs:{type:"primary"},slot:"trigger"},[t._v("上传文件")]),t._v(" "),a("div",{staticClass:"el-upload__tip",slot:"tip"})],1)],1),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"upload-start"},[a("el-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:t.submitUpload}},[t._v("开始导入")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"upload-tip"},[a("i",{staticClass:"el-icon-information icon-info"}),t._v("提示：一次最多只能导入1000条产品资料，若产品资料数超出1000条，请分成多次导入。")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-step"},[a("h3",{staticClass:"upload-step-title"},[t._v("第三步：开始导入")]),t._v(" "),a("p",{staticClass:"upload-step-des"},[t._v("文件上传完成后，点击下面的“开始导入”按钮开始导入")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"supplierdetail-box"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"nav"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/Supplier/SupplierList"}}},[t._v("供应商列表")]),t._v(" "),a("el-breadcrumb-item",[t._v(t._s(t.supplierName))])],1)],1)]),t._v(" "),a("div",{staticClass:"supplier-tabs"},[a("el-button",{staticClass:"tabs-btn",class:[1==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("1","information")}}},[t._v("基本信息")]),t._v(" "),a("el-button",{staticClass:"tabs-btn",class:[2==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("2","linkname")}}},[t._v("联系人")]),t._v(" "),a("el-button",{staticClass:"tabs-btn",class:[3==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("3","business")}}},[t._v("商务信息")]),t._v(" "),a("el-button",{staticClass:"tabs-btn",class:[4==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("4","financial")}}},[t._v("财务信息")]),t._v(" "),a("el-button",{staticClass:"tabs-btn",class:[5==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("5","identification")}}},[t._v("认证信息")])],1),t._v(" "),a("div",{staticClass:"supplier-info-box"},[a("h3",{ref:"information"},[t._v("基本信息")]),t._v(" "),a("div",{staticClass:"supplierList-warper"},[a("v-Information",{attrs:{supplierBase:t.supplierBase,BasedataInfo:t.BasedataInfo}})],1)]),t._v(" "),a("div",{staticClass:"supplier-info-box"},[a("h3",{ref:"linkname"},[t._v("联系人")]),t._v(" "),a("div",{staticClass:"supplierList-warper"},[a("v-Contact",{attrs:{suppliercontacts:t.suppliercontacts}})],1)]),t._v(" "),a("div",{staticClass:"supplier-info-box"},[a("h3",{ref:"business"},[t._v("商务信息")]),t._v(" "),a("div",{staticClass:"supplierList-warper"},[a("v-Business",{attrs:{supplierbusiness:t.supplierbusiness,supplierbusinessList:t.supplierbusinessList}})],1)]),t._v(" "),a("div",{staticClass:"supplier-info-box"},[a("h3",{ref:"financial"},[t._v("财务信息")]),t._v(" "),a("div",{staticClass:"supplierList-warper"},[a("v-Financial",{attrs:{supplierfinanceList:t.supplierfinanceList,supplierfinance:t.supplierfinance,supplierfinanceBase:t.supplierfinanceBase}})],1)]),t._v(" "),a("div",{staticClass:"supplier-info-box"},[a("h3",{ref:"identification"},[t._v("认证信息")]),t._v(" "),a("div",{staticClass:"supplierList-warper"},[a("v-Identification",{attrs:{cardauthenticate:t.cardauthenticate,structauthenticate:t.structauthenticate}})],1)]),t._v(" "),a("v-backtop",{attrs:{scollTop:t.scollTop}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"brand-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.brandFrom}},[a("el-form-item",{attrs:{label:"供应商编码"}},[a("el-input",{staticClass:"input-w184",attrs:{placeholder:"请输入"},model:{value:t.brandFrom.suppliernumber,callback:function(e){t.brandFrom.suppliernumber=e},expression:"brandFrom.suppliernumber"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"供应商名称","label-width":"85px"}},[a("el-input",{staticClass:"input-w184",attrs:{placeholder:"请输入名称"},model:{value:t.brandFrom.suppliername,callback:function(e){t.brandFrom.suppliername=e},expression:"brandFrom.suppliername"}})],1),t._v(" "),a("el-form-item",{staticClass:"brand-btn-box"},[a("el-button",{staticClass:"brand-btn marL30",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1),t._v(" "),a("el-form-item",{staticClass:"brand-btn-box"},[a("el-button",{staticClass:"brand-btn",attrs:{type:"primary"},on:{click:t.Result}},[t._v("确认询价")]),t._v(" "),a("el-checkbox",{staticClass:"brand-check",model:{value:t.skiphasquote,callback:function(e){t.skiphasquote=e},expression:"skiphasquote"}},[t._v("跳过半年内有历史报价的供应商")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"singleTable",staticClass:"brand-list",attrs:{data:t.brandList,"max-height":"400",border:"","highlight-current-row":""},on:{"row-click":t.handleClickChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"number",label:"供应商编码",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"供应商名称",width:"248",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"brandsimply",label:"品牌",width:"125",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"description",label:"备注",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"span-font"},[t._v(t._s(e.row.description))])]}}])})],1),t._v(" "),a("div",{staticClass:"page-warrpe"},[a("el-pagination",{staticClass:"page-box",attrs:{"current-page":t.brandFrom.pageindex,"page-sizes":t.page_sizes,layout:"prev, pager, next,sizes, jumper",total:t.Total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"supplierName-warper",on:{click:function(e){e.stopPropagation(),t.clickStop(e)}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",height:"340","empty-text":"无相关供应商"},on:{"row-click":t.Chose}},[a("el-table-column",{attrs:{type:"index",width:"40",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"number",label:"供应商编码",width:"160",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"供应商名称",width:"500",align:"center"}})],1),t._v(" "),a("div",{staticClass:"page-warrpe"},[a("el-pagination",{staticClass:"page-box",attrs:{"current-page":t.form.pageindex,"page-sizes":t.page_sizes,"page-size":t.page_sizes[0],layout:"prev, pager, next,sizes, jumper",total:t.Total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"equipment-container"},[a("div",{staticStyle:{position:"relative","min-width":"1000px"}},[a("el-button",{staticClass:"button",on:{click:t.handRefresh}},[t._v("刷新")]),t._v(" "),a("el-button",{staticClass:"button mg-b30",attrs:{type:"primary"},on:{click:function(e){t.Add("dialogformData")}}},[t._v("新增")]),t._v(" "),a("el-button",{staticClass:"button",on:{click:t.ClickImport}},[t._v("导入")]),t._v(" "),a("el-button",{staticClass:"button",on:{click:t.ClickExport}},[t._v("导出")]),t._v(" "),a("el-table",{ref:"multipleTable",staticClass:"table content-table",staticStyle:{"min-height":"594px"},attrs:{data:t.tableData,border:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center","label-class-name":"tableIndex","class-name":"tableIndex","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.$index-t.currentPageSize+1+t.currentPage*t.currentPageSize))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"devicetype",label:"设备类型","min-width":"138",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.devicetype?e.row.devicetype:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"devicename",label:"设备名称","min-width":"128",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.devicename?e.row.devicename:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"devicemodel",label:"设备型号","min-width":"142",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.devicemodel?e.row.devicemodel:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"devicebrand",label:"设备品牌","min-width":"146",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.devicebrand?e.row.devicebrand:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"deviceqty",label:"设备台数","min-width":"146",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.deviceqty?e.row.deviceqty:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"deviceprecision",label:"设备精度","min-width":"146",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.deviceprecision?e.row.deviceprecision:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"deviceprecisiondegree",label:"加工精密度","min-width":"146",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.deviceprecisiondegree?e.row.deviceprecisiondegree:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"worktime",label:"启用日期","min-width":"146",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.worktime?e.row.worktime:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"b",label:"操作","min-width":"218",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"28px"},attrs:{type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"page-style text-right"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.currentPageSize,layout:"total, prev, pager, next, sizes, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogFormVisible,size:"tiny"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dialogformData",staticClass:"dialogform",attrs:{model:t.dialogformData,rules:t.rules}},[a("el-form-item",{staticClass:"dialogform-item",attrs:{label:"设备类型",prop:"devicetype","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.dialogformData.devicetype,callback:function(e){t.dialogformData.devicetype=e},expression:"dialogformData.devicetype"}},t._l(t.options.devicetype,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{staticClass:"dialogform-item",attrs:{label:"设备名称",prop:"devicename","label-width":t.formLabelWidth},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.dialogformData.devicename,callback:function(e){t.dialogformData.devicename=e},expression:"dialogformData.devicename"}},t._l(t.options.devicename,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))]}}])}),t._v(" "),a("el-form-item",{staticClass:"dialogform-item",attrs:{label:"设备型号",prop:"devicemodel","label-width":t.formLabelWidth}},[a("el-input",{attrs:{maxlength:36,"auto-complete":"off"},model:{value:t.dialogformData.devicemodel,callback:function(e){t.dialogformData.devicemodel=e},expression:"dialogformData.devicemodel"}})],1),t._v(" "),a("el-form-item",{staticClass:"dialogform-item",attrs:{label:"设备品牌",prop:"devicebrand","label-width":t.formLabelWidth}},[a("el-input",{attrs:{maxlength:36,"auto-complete":"off"},model:{value:t.dialogformData.devicebrand,callback:function(e){t.dialogformData.devicebrand=e},expression:"dialogformData.devicebrand"}})],1),t._v(" "),a("el-form-item",{staticClass:"dialogform-item",attrs:{label:"设备台数",prop:"deviceqty","label-width":t.formLabelWidth}},[a("el-input-number",{attrs:{min:1,max:999999,debounce:0,controls:!1},model:{value:t.dialogformData.deviceqty,callback:function(e){t.dialogformData.deviceqty=e},expression:"dialogformData.deviceqty"}})],1),t._v(" "),a("el-form-item",{staticClass:"dialogform-item",attrs:{label:"设备精度",prop:"deviceprecision","label-width":t.formLabelWidth},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.dialogformData.deviceprecision,callback:function(e){t.dialogformData.deviceprecision=e},expression:"dialogformData.deviceprecision"}},t._l(t.options.deviceprecision,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))]}}])}),t._v(" "),a("el-form-item",{staticClass:"dialogform-item",attrs:{label:"加工精密度",prop:"deviceprecisiondegree","label-width":t.formLabelWidth},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.dialogformData.deviceprecisiondegree,callback:function(e){t.dialogformData.deviceprecisiondegree=e},expression:"dialogformData.deviceprecisiondegree"}},t._l(t.options.deviceprecisiondegree,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))]}}])}),t._v(" "),a("el-form-item",{staticClass:"dialogform-itemlast",attrs:{label:"启用日期",prop:"worktime","label-width":t.formLabelWidth}},[a("el-date-picker",{attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions1},model:{value:t.dialogformData.worktime,callback:function(e){t.dialogformData.worktime=e},expression:"dialogformData.worktime"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.Add_cancel()}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Add_confirm("dialogformData")}}},[t._v(t._s("新增设备"==t.dialogTitle?"新增":"修改"))])],1)],1)],1),t._v(" "),a("transition",{attrs:{name:"el-fade-in-linear"}},[a("el-dialog",{staticClass:"dialog-upload",attrs:{title:"导入订单",visible:t.isShowImport,dialogVisible:t.dialogVisible},on:{"update:visible":function(e){t.isShowImport=e},"update:dialogVisible":function(e){t.dialogVisible=e}}},[a("v-Dialog",{attrs:{isShowImport:t.isShowImport,dialogVisible:t.dialogVisible,ImportErrorTip:t.ImportErrorTip,ClickExport:t.ClickExport,disabled:t.disabled},on:{"update:isShowImport":function(e){t.isShowImport=e},"update:dialogVisible":function(e){t.dialogVisible=e},"update:ImportErrorTip":function(e){t.ImportErrorTip=e},"update:disabled":function(e){t.disabled=e}}})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"导入错误提示",visible:t.dialogVisible,size:"tiny","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",[t._v(t._s(t.ImportErrorTip))]),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.againImport}},[t._v("重新导入")])],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notfound"},[a("h2",{staticClass:"title"},[t._v("404错误：")]),t._v(" "),a("p",[t._v("您访问的页面被删除或不存在，您可以 "),a("span",{staticClass:"link",on:{click:t.back}},[t._v("返回上一级页面")]),t._v("或者\r\n    "),a("router-link",{staticClass:"link",attrs:{to:"/Track/order"}},[t._v("回到首页")])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"business"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.BusinessData,"label-position":"left"}},[a("div",{staticClass:"left"},[a("el-form-item",{attrs:{label:"收款条件","label-width":"83px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"",disabled:""},model:{value:t.BusinessData.reccondition,callback:function(e){t.BusinessData.reccondition=e},expression:"BusinessData.reccondition"}},t._l(t.option,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"默认税率","label-width":"83px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"",disabled:""},model:{value:t.BusinessData.taxrate,callback:function(e){t.BusinessData.taxrate=e},expression:"BusinessData.taxrate"}},t._l(t.option,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"定性等级","label-width":"83px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:""},model:{value:t.BusinessData.qualitativegradeid,callback:function(e){t.BusinessData.qualitativegradeid=e},expression:"BusinessData.qualitativegradeid"}},t._l(t.BusinessOptions.custqualitativegrade,function(t){return a("el-option",{key:t.id,attrs:{label:t.grade,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"默认折扣率","label-width":"83px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"",disabled:""},model:{value:t.BusinessData.purchaseuse,callback:function(e){t.BusinessData.purchaseuse=e},expression:"BusinessData.purchaseuse"}},t._l(t.option,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1)],1),t._v(" "),a("div",{staticClass:"right"},[a("el-form-item",{staticClass:"product-item",attrs:{label:"大客户经理","label-width":"83px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"",disabled:""},model:{value:t.BusinessData.customermanagernumber,callback:function(e){t.BusinessData.customermanagernumber=e},expression:"BusinessData.customermanagernumber"}},t._l(t.option,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"定量等级","label-width":"83px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:""},model:{value:t.BusinessData.quantifygradeid,callback:function(e){t.BusinessData.quantifygradeid=e},expression:"BusinessData.quantifygradeid"}},t._l(t.BusinessOptions.custquantifygrade,function(t){return a("el-option",{key:t.id,attrs:{label:t.grade,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"信用等级","label-width":"83px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"",disabled:""},model:{value:t.BusinessData.purchaseuse,callback:function(e){t.BusinessData.purchaseuse=e},expression:"BusinessData.purchaseuse"}},t._l(t.option,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"折扣率","label-width":"83px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:""},model:{value:t.BusinessData.discountid,callback:function(e){t.BusinessData.discountid=e},expression:"BusinessData.discountid"}},t._l(t.BusinessOptions.custdiscount,function(t){return a("el-option",{key:t.id,attrs:{label:t.discount,value:t.id}})}))],1)],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-box"},[a("div",{staticClass:"upload-step"},[a("h3",{staticClass:"upload-step-title"},[t._v("第一步：导出明细")]),t._v(" "),a("p",{staticClass:"upload-step-des"},[t._v("第一步：导出明细 填充要导入的数据，不可改变导出的文件格式 ")]),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.downloadorder(t.$route.params.demandNumber)}}},[t._v("点击下载导入数据模板 ")])]),t._v(" "),a("div",{staticClass:"upload-step"},[a("h3",{staticClass:"upload-step-title"},[t._v("第二步：选择并上传文件")]),t._v(" "),a("p",{staticClass:"upload-step-des"},[t._v("选择填充好数据的模版文件，选中后文件将自动上传")]),t._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{headers:t.headers,data:t.uploadPrams,name:"excelorder","on-change":t.handleChange,action:t.actionUrl,"on-success":t.handleSuccess,"on-error":t.handleError,"on-remove":t.handleremove,"file-list":t.fileList3,"before-upload":t.beforeAvatarUpload,"auto-upload":!1}},[a("el-button",{attrs:{size:"small",type:"primary"},slot:"trigger"},[t._v("上传文件")]),t._v(" "),a("div",{staticClass:"el-upload__tip",slot:"tip"})],1)],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"upload-start"},[a("el-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:t.submitUpload}},[t._v("开始导入")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-step"},[a("h3",{staticClass:"upload-step-title"},[t._v("第三步：开始导入")]),t._v(" "),a("p",{staticClass:"upload-step-des"},[t._v("文件上传完成后，点击下面的“开始导入”按钮开始导入")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"printImg-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[a("v-header")],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"header"},[a("el-button",{on:{click:function(e){t.printImg()}}},[t._v("打印图纸")])],1),t._v(" "),a("div",{staticClass:"printImg-box"},[a("img",{attrs:{src:t.imgUrl}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"financial"},[a("div",{staticClass:"bussiness-table"},[a("el-table",{attrs:{data:t.custbusinesslist,border:"","max-height":"600"}},[a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"50","label-class-name":"tableIndex","class-name":"tableIndex"}}),t._v(" "),a("el-table-column",{attrs:{prop:"number",align:"center",label:"编码","min-width":"167"}}),t._v(" "),a("el-table-column",{attrs:{prop:"businessnumber",align:"center",label:"事业部","min-width":"168","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"sellername",align:"center",label:"销售员","min-width":"168","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"quotename",align:"center",label:"报价员","min-width":"168","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"isdefault",align:"center",label:"默认","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{attrs:{disabled:""},model:{value:e.row.isdefault,callback:function(t){e.row.isdefault=t},expression:"scope.row.isdefault"}}),t._v(" 是\n        ")]}}])})],1)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"enquirySheetDetail-container"},[a("div",{staticClass:"header-panel"},[a("div",{staticClass:"header-title jc-start ai-center c5e6d82"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"fs14",attrs:{to:{path:"/EnquirySheet/enquirySheet"}}},[t._v("询价单")]),t._v(" "),a("el-breadcrumb-item",{staticClass:"fs16"},[t._v(t._s(t.$route.params.inquiryorderid))])],1),t._v(" "),parseInt(t.baseData.isurgent)?a("div",{staticClass:"urgent urgent-A"},[t._v("加急")]):t._e(),t._v(" "),parseInt(t.baseData.ismark)?a("span",{staticClass:"flag redflag"}):t._e()],1),t._v(" "),a("div",{staticClass:"header-BtnGroup relative"},[a("el-button",{on:{click:t.ClickRefresh}},[t._v("刷新")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.ClickQuoted}},[t._v("报价")]),t._v(" "),a("el-button",{on:{click:t.ClickSave}},[t._v("保存")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.InfoShow,expression:"!InfoShow"}],staticClass:"icon-slide icon-silde-down",on:{click:function(e){t.InfoShow=!t.InfoShow}}},[a("span",[t._v("展开")]),t._v(" "),a("i",{staticClass:"icon-silde-arrow el-icon-d-arrow-left"})])],1)]),t._v(" "),a("div",{staticClass:"content-panel"},[a("transition",{attrs:{name:"el-zoom-in-top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.InfoShow,expression:"InfoShow"}],staticClass:"baseInfo"},[a("div",{staticClass:"info-title"},[a("span",{staticClass:"inblock text-center"},[t._v("基础信息")])]),t._v(" "),a("div",{staticClass:"tabs-box"},[a("div",{staticClass:"tabs-box-card"},[a("div",{staticClass:"info-box info-box-lh"},[a("ul",{staticClass:"info-lists"},[a("li",{staticClass:"info-list"},[a("span",[t._v("询价单号：")]),t._v(" "),a("span",[t._v(t._s(t.baseData.inquiryorderid))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("状态：")]),t._v(" "),a("span",[t._v(t._s(t.checkedStatu(t.baseData.orderstatus)))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("联系人：")]),t._v(" "),a("span",[t._v(t._s(t.baseData.linkname))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("联系电话：")]),t._v(" "),a("span",[t._v(t._s(t.baseData.telephone))])])]),t._v(" "),a("ul",{staticClass:"info-lists"},[a("li",{staticClass:"info-list"},[a("span",[t._v("询价时间：")]),t._v(" "),a("span",[t._v(t._s(t.baseData.creattime))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("要求报价时间：")]),t._v(" "),a("span",[t._v(t._s(t.baseData.asktime))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("提醒报价时间：")]),t._v(" "),a("span",[t._v(t._s(t.baseData.remindtime))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("实际报价时间：")]),t._v(" "),a("span",[t._v(t._s(t.baseData.facktime))])])])])]),t._v(" "),a("span",{staticClass:"icon-slide icon-silde-up",on:{click:function(e){t.InfoShow=!t.InfoShow}}},[t._v("收起\n            "),a("i",{staticClass:"icon-silde-arrow el-icon-d-arrow-right"})])])])]),t._v(" "),a("div",{staticClass:"detailInfo mg-t20"},[t._m(0),t._v(" "),a("div",{staticClass:"mg-b30"},[a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.ClickImOutport}},[t._v("导入导出")]),t._v(" "),a("el-button",{staticClass:"button",on:{click:t.ClickDownDrawing}},[t._v("下载图纸")])],1),t._v(" "),a("el-table",{ref:"multipleTable",staticClass:"content-table",staticStyle:{width:"100%","min-height":"594px"},attrs:{data:t.tableData,border:"",resizable:"","tooltip-effect":"dark",strip:!0,"row-class-name":t.rowBackground,"highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{fixed:"",type:"index",label:"序号",width:"65",align:"center","class-name":"sequenceColumn"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"productcode",label:"产品编码",width:"153",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"c20a0ff pointer",on:{click:function(a){t.ClickProductcode(e.$index)}}},[t._v(t._s(e.row.productcode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"productname",label:"产品名称","min-width":"153",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.productname?e.row.productname:"--")+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"询价单位","min-width":"120",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.unit?e.row.unit:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"orderamount",label:"询价数量","min-width":"120",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.orderamount?e.row.orderamount:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"iscando",label:"是否能做",width:"135",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{model:{value:e.row.iscando,callback:function(t){e.row.iscando=t},expression:"scope.row.iscando"}},[t._v("能做")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"最小订购量","min-width":"137",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-input-number",{staticClass:"center-input",attrs:{min:0,max:9999,controls:!1,debounce:0},model:{value:t.row.minamount,callback:function(e){t.row.minamount=e},expression:"scope.row.minamount"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{"label-class-name":"deliverytime",prop:"deliverytime",label:"货期（天）","min-width":"137",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{class:{"center-input":!0,"required-input":e.row.iscando&&!e.row.deliverytime?t.isImportDeliverytime(!0):t.isImportDeliverytime(!1)},attrs:{min:0,max:9999,controls:!1,debounce:0},model:{value:e.row.deliverytime,callback:function(t){e.row.deliverytime=t},expression:"scope.row.deliverytime"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"pricenotax",label:"未税单价(元)","min-width":"138",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"el-input__inner va-middle lh28",on:{click:function(a){t.ClickPricenotax(e.row,e.$index)}}},[t._v(t._s(e.row.pricenotax))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"税率","min-width":"78",align:"center","class-name":"rateColumn"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{on:{change:function(a){t.ChangeTaxrate(e.row.taxrate,e.$index)}},model:{value:e.row.taxrate,callback:function(t){e.row.taxrate=t},expression:"scope.row.taxrate"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"pricewithtax",label:"含税单价","min-width":"137",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[parseFloat(e.row.pricenotax)?a("span",[t._v(t._s(t._f("toFixed2")(e.row.pricewithtax)))]):a("input",{directives:[{name:"model",rawName:"v-model",value:e.row.pricewithtax,expression:"scope.row.pricewithtax"}],staticClass:"text-center el-input__inner",class:{"required-input":e.row.iscando&&!parseFloat(e.row.pricewithtax)?t.isImportPricewithtaxFnc(!0):t.isImportPricewithtaxFnc(!1)},attrs:{type:"text"},domProps:{value:e.row.pricewithtax},on:{blur:function(a){t.BlurPricewithtax(a,e.$index)},keydown:function(e){t.KeydownNumber(e)},input:function(t){t.target.composing||(e.row.pricewithtax=t.target.value)}}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"含税金额","min-width":"137",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("toFixed2")(e.row.taxamount)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"issendcost",label:"是否包含运费","min-width":"137",align:"center","class-name":"freightColumn"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{model:{value:e.row.issendcost,callback:function(t){e.row.issendcost=t},expression:"scope.row.issendcost"}},[t._v("包含")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"260",align:"center","show-overflow-tooltip":"","class-name":"remarkColumn"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{height:"36px"},attrs:{type:"textarea"},model:{value:t.row.remark,callback:function(e){t.row.remark=e},expression:"scope.row.remark"}})]}}])})],1)],1)],1),t._v(" "),a("transition",{attrs:{name:"slide-fade"}},[a("v-window",{directives:[{name:"show",rawName:"v-show",value:t.windowShow,expression:"windowShow"}],attrs:{inquiryorderid:t.$route.params.inquiryorderid,windowShow:t.windowShow,tableData:t.tableData,i:t.tableDataIndex,optionsRate:t.options,fetchData:t.fetchData},on:{"update:windowShow":function(e){t.windowShow=e},"update:tableData":function(e){t.tableData=e},"update:optionsRate":function(e){t.options=e}}})],1),t._v(" "),a("transition",{attrs:{name:"el-fade-in-linear"}},[a("el-dialog",{staticClass:"dialog-upload",attrs:{title:"导入订单",visible:t.isShowImport},on:{"update:visible":function(e){t.isShowImport=e}}},[a("v-importBox",{attrs:{inquiryorderid:t.$route.params.inquiryorderid}})],1)],1),t._v(" "),a("transition",{attrs:{name:"el-fade-in-linear"}},[t.tableData.length>0?a("el-dialog",{attrs:{title:t.dialogTitle+"价格组成",visible:t.dialogVisible,size:"tiny","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"bg-f8f8f8 pd-tb20 dialogContent"},[a("div",{staticClass:"mg-b10"},[a("span",{staticClass:"inblock w90 text-right"},[t._v("材料费")]),t._v(" "),a("el-input",{staticClass:"w200 mg-lr10",attrs:{size:"small",maxlength:6},on:{blur:function(e){t.BlurMaterialcost(e,t.pricenotaxIndex)}},nativeOn:{keydown:function(e){t.KeydownNumber(e)}},model:{value:t.tableData[t.pricenotaxIndex].materialcost,callback:function(e){t.tableData[t.pricenotaxIndex].materialcost=e},expression:"tableData[pricenotaxIndex].materialcost"}}),t._v("元\n\n          ")],1),t._v(" "),a("div",{staticClass:"mg-b10"},[a("span",{staticClass:"inblock w90 text-right"},[t._v("加工费")]),t._v(" "),a("el-input",{staticClass:"w200 mg-lr10",attrs:{size:"small",maxlength:6},on:{blur:function(e){t.BlurWorkcost(e,t.pricenotaxIndex)}},nativeOn:{keydown:function(e){t.KeydownNumber(e)}},model:{value:t.tableData[t.pricenotaxIndex].workcost,callback:function(e){t.tableData[t.pricenotaxIndex].workcost=e},expression:"tableData[pricenotaxIndex].workcost"}}),t._v("元\n\n          ")],1),t._v(" "),a("div",[a("span",{staticClass:"inblock w90 text-right"},[t._v("表面处理费")]),t._v(" "),a("el-input",{staticClass:"w200 mg-lr10",attrs:{size:"small",maxlength:6},on:{blur:function(e){t.BlurDealwithcost(e,t.pricenotaxIndex)}},nativeOn:{keydown:function(e){t.KeydownNumber(e)}},model:{value:t.tableData[t.pricenotaxIndex].dealwithcost,callback:function(e){t.tableData[t.pricenotaxIndex].dealwithcost=e},expression:"tableData[pricenotaxIndex].dealwithcost"}}),t._v("元\n\n          ")],1)]),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.ClickDialogConfirm}},[t._v("确 定")])],1)]):t._e()],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info-title"},[a("span",{staticClass:"inblock text-center"},[t._v("明细信息")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"supplierList-box"},[a("div",{staticClass:"search-box"},[a("el-form",{ref:"form",staticClass:"form-wrap",attrs:{inline:!0,model:t.form}},[a("div",{staticClass:"search-left",class:[t.show?"search-left-w":""]},[a("el-form-item",{staticClass:"search-item",attrs:{label:"供应商编码",prop:"numbers","label-width":"84px"}},[a("el-input",{staticClass:"quotation-input",attrs:{placeholder:"请输入"},model:{value:t.form.numbers,callback:function(e){t.form.numbers=e},expression:"form.numbers"}})],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"供应商简称",prop:"supplierShortName","label-width":"140px"}},[a("el-input",{staticClass:"quotation-input",attrs:{placeholder:"请输入"},model:{value:t.form.supplierShortName,callback:function(e){t.form.supplierShortName=e},expression:"form.supplierShortName"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"search-item",attrs:{label:"供应商名称",prop:"supplierName","label-width":"144px"}},[a("el-input",{staticClass:"quotation-input",attrs:{placeholder:"请输入"},model:{value:t.form.supplierName,callback:function(e){t.form.supplierName=e},expression:"form.supplierName"}})],1),t._v(" "),a("el-collapse-transition",[t.show?a("div",[a("el-form-item",{staticClass:"search-item",attrs:{label:"单据状态",prop:"documentStatus","label-width":"84px"}},[a("el-select",{staticClass:"quotation-input",attrs:{placeholder:"请选择"},model:{value:t.form.documentStatus,callback:function(e){t.form.documentStatus=e},expression:"form.documentStatus"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"创建",value:"A"}}),t._v(" "),a("el-option",{attrs:{label:"审核中",value:"B"}}),t._v(" "),a("el-option",{attrs:{label:"已审核",value:"C"}}),t._v(" "),a("el-option",{attrs:{label:"重新审核",value:"D"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"禁用状态",prop:"forbidStatus","label-width":"140px"}},[a("el-select",{staticClass:"quotation-input",attrs:{placeholder:"请选择"},model:{value:t.form.forbidStatus,callback:function(e){t.form.forbidStatus=e},expression:"form.forbidStatus"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"是",value:"B"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"A"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"创建时间",prop:"createdate","label-width":"144px"}},[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期范围"},on:{change:t.creatDataChange},model:{value:t.form.createdate,callback:function(e){t.form.createdate=e},expression:"form.createdate"}})],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"审核时间",prop:"approverdate","label-width":"84px"}},[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期范围"},on:{change:t.approverDataChange},model:{value:t.form.approverdate,callback:function(e){t.form.approverdate=e},expression:"form.approverdate"}})],1)],1):t._e()])],1),t._v(" "),a("div",{staticClass:"search-right va-middle"},[a("el-form-item",{staticClass:"search-item"},[a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:t.search}},[t._v("查询")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"resetbtn",on:{click:function(e){t.resetForm("form")}}},[t._v("重置")]),t._v(" "),a("el-button",{staticClass:"spreadbtn",attrs:{type:"text"},on:{click:function(e){t.show=!t.show}}},[t._v(t._s(t.show?"收起":"展开")),a("i",{staticClass:"el-icon-d-arrow-left icon-spread",class:[t.show?"icon-arrow-up":"icon-arrow-down"]})])],1)],1)])],1),t._v(" "),a("el-button",{staticClass:"reload-btn",attrs:{type:"primary"},on:{click:t.reload}},[t._v("刷新")]),t._v(" "),a("div",{staticClass:"supplierList-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"supplierTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",height:"600"}},[a("el-table-column",{attrs:{type:"selection",fixed:"",width:"45"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",fixed:"",align:"center",label:"序号",width:"66"}}),t._v(" "),a("el-table-column",{attrs:{prop:"number",fixed:"",align:"center",label:"供应商编码",width:"133"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.toSupplierDetail(e.row.id)}}},[t._v(t._s(e.row.number))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"shortname",align:"center",label:"供应商简称",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"span-font"},[t._v(t._s(e.row.shortname))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"供应商名称",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"span-font"},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"documentstatus",align:"center",label:"单据状态",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"paymentcondition",align:"center",label:"付款条件",width:"136"}}),t._v(" "),a("el-table-column",{attrs:{prop:"forbidstatus",align:"center",label:"禁用状态",width:"117"}},[t._v(">")]),t._v(" "),a("el-table-column",{attrs:{prop:"suppliertrades",align:"center",label:"主营行业",width:"117"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contactName",align:"center",label:"联系人",width:"138"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contactSex",align:"center",label:"性别",width:"78"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contactPost",align:"center",label:"职务",width:"137"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contactTel",align:"center",label:"电话",width:"165"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contactMobile",align:"center",label:"手机",width:"153"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contactFax",align:"center",label:"传真",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contactEmail",align:"center",label:"电子邮箱",width:"214"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contactIm",align:"center",label:"QQ",width:"144"}})],1)],1),t._v(" "),a("div",{staticClass:"page-warrpe"},[a("el-pagination",{staticClass:"page-box",attrs:{"current-page":t.form.pageindex,"page-sizes":t.page_sizes,layout:"prev, pager, next,sizes, jumper",total:t.Total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"el-fade-in-linear"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.scollTop,expression:"scollTop"}],staticClass:"fix-Top",on:{click:t.goTop}},[a("i",{staticClass:"icon iconfont icon-totop"})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"businesss"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.supplierbusiness,"label-position":"left"}},[a("div",{staticClass:"left"},[a("el-form-item",{attrs:{label:"主营品牌","label-width":"83px"}},[a("div",{on:{click:t.Showbrandslist}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",readonly:!0},model:{value:t.sellbrand,callback:function(e){t.sellbrand=e},expression:"sellbrand"}})],1)]),t._v(" "),a("el-form-item",{attrs:{label:"主营行业","label-width":"83px"}},[a("el-cascader",{staticClass:"info-cascader",attrs:{options:t.suppliertradesList,filterable:!0,clearable:!0,"change-on-select":"",props:{value:"id",label:"text",children:"children"}},on:{change:t.handleChange},model:{value:t.supplierbusiness.businesstrade,callback:function(e){t.supplierbusiness.businesstrade=e},expression:"supplierbusiness.businesstrade"}})],1)],1),t._v(" "),a("div",{staticClass:"right"},[a("el-form-item",{staticClass:"product-item-product",attrs:{label:"主营产品","label-width":"83px",id:"product-item-product"}},[a("div",{on:{click:function(e){e.stopPropagation(),t.Showsellproduct(e)}}},[a("el-input",{ref:"product",staticClass:"info-input-textarea",attrs:{type:"textarea",autosize:"",autosize:{minRows:1,maxRows:7}},nativeOn:{keyup:function(e){t.checkProduct("product")}},model:{value:t.categoryname,callback:function(e){t.categoryname=e},expression:"categoryname"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.sellproductShow,expression:"sellproductShow"}],staticClass:"sellproduct-box"},[a("el-tree",{ref:"tree2",staticClass:"sellproduct-tree",attrs:{data:t.sellproductList,"node-key":"id","show-checkbox":"","filter-node-method":t.filterNode,accordion:!0,props:{label:"text",children:"children"}},on:{"check-change":t.checkChange}})],1)])],1)]),t._v(" "),a("div",{staticClass:"bussiness-table"},[a("el-table",{staticStyle:{width:"1130px"},attrs:{data:t.supplierbusinessList,border:"","max-height":"600"},on:{"selection-change":t.businessSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"linkname",align:"center",label:"客户名称",width:"330"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-autocomplete",{staticClass:"info-input",attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:"请输入客户名称",props:{value:"name",label:"name"}},on:{select:t.handleSelect},model:{value:e.row.partnername,callback:function(t){e.row.partnername=t},expression:"scope.row.partnername"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"businesstrade",align:"center",label:"客户行业",width:"330"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.row.industryid,callback:function(t){e.row.industryid=t},expression:"scope.row.industryid"}},t._l(t.AllCusttrades,function(t){return a("el-option",{key:t.id,staticClass:"info-cascader",attrs:{label:t.name,value:t.id}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"department",align:"center",label:"客户主营产品",width:"349"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"info-input-textarea",attrs:{type:"textarea",autosize:"",autosize:{minRows:1,maxRows:7},placeholder:"请输入客户主营产品"},model:{value:t.row.brandname,callback:function(e){t.row.brandname=e},expression:"scope.row.brandname"}})]}}])})],1),t._v(" "),a("div",{staticClass:"table-btn"},[a("el-button",{staticClass:"btn-w30",attrs:{type:"text"},on:{click:t.addRow}},[a("i",{staticClass:"icon iconfont icon-tianjia"}),t._v(" 添加行")]),t._v(" "),a("el-button",{staticClass:"btn-w30",attrs:{type:"text"},on:{click:t.removeRow}},[a("i",{staticClass:"icon iconfont icon-shanchu4"}),t._v(" 删除行")])],1),t._v(" "),a("div",{staticClass:"table-btn"},[a("el-button",{staticClass:"btn-w80",attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1),t._v(" "),a("div",{staticClass:"dialog"},[a("el-dialog",{attrs:{title:"选择品牌",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("div",{staticClass:"brand-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.brandFrom}},[a("el-form-item",{attrs:{label:"简称"}},[a("el-input",{attrs:{placeholder:"请输入简称"},model:{value:t.brandFrom.simply,callback:function(e){t.brandFrom.simply=e},expression:"brandFrom.simply"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"名称","label-width":"50px"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:t.brandFrom.name,callback:function(e){t.brandFrom.name=e},expression:"brandFrom.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"brand-btn-box"},[a("el-button",{staticClass:"brand-btn",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")]),t._v(" "),a("el-button",{staticClass:"brand-btn",attrs:{type:"primary"},on:{click:t.onResult}},[t._v("确定")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"singleTable",staticClass:"brand-list",attrs:{data:t.brandList,"max-height":"400",border:"","highlight-current-row":""},on:{"row-click":t.handleClickChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",width:"45",label:"序号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"simply",label:"简称",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"名称",width:"110",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"company",label:"经营公司",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"state",label:"状态",width:"55",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.state))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"website",label:"网站",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:"http://"+e.row.website,target:"_blank"}},[t._v(t._s(e.row.website))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"introduction",label:"介绍",width:"118",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"brand-introduction",attrs:{type:"textarea",rows:2,readonly:!0,value:t.row.introduction}})]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"logo",label:"logo",width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{directives:[{name:"show",rawName:"v-show",value:null!=t.row.logo,expression:"scope.row.logo != null"}],attrs:{src:t.row.logo,alt:"",width:"120",height:"40"}})]}}])})],1),t._v(" "),a("div",{staticClass:"page-warrpe"},[a("el-pagination",{staticClass:"page-box",attrs:{"current-page":t.brandFrom.pageindex,"page-sizes":t.page_sizes,layout:"prev, pager, next,sizes, jumper",total:t.Total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"willorderInfo-box history-box"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中"}},[a("h3",{staticClass:"willorderInfo-title"},[t._v(t._s(t.historyQuotationObject.productmodel))]),t._v(" "),a("div",{staticClass:"btn-box"},[a("el-button",{staticClass:"btn-w80",attrs:{type:"primary"},on:{click:t.result}},[t._v("采用报价")]),t._v(" "),a("el-button",{staticClass:"btn-w80",on:{click:t.close}},[t._v("取消")])],1),t._v(" "),t._l(t.data,function(e,i){return a("div",{staticClass:"history-item"},[a("div",{staticClass:"history-title disable-bg"},[a("span",{staticClass:"title-check"},[a("el-checkbox",{attrs:{disabled:0==e.iscando},model:{value:e.checked,callback:function(t){e.checked=t},expression:"item.checked"}})],1),t._v(" "),a("span",{staticClass:"title-inquiryorderid"},[t._v(t._s(e.inquiryorderid))]),t._v(" "),a("span",{staticClass:"title-line"},[t._v("/")]),t._v(" "),a("span",{staticClass:"title-suppliername"},[a("el-tooltip",{attrs:{effect:"dark",content:e.suppliername,placement:"top"}},[a("span",[t._v(t._s(e.suppliername))])])],1),t._v(" "),a("span",{staticClass:"title-line"},[t._v("/")]),t._v(" "),a("span",{staticClass:"title-facktime"},[t._v(t._s(t._f("formdata")(e.facktime)))]),t._v(" "),a("span",{staticClass:"title-line"},[t._v("/")]),t._v(" "),a("span",{staticClass:"title-linkname"},[a("el-tooltip",{attrs:{effect:"dark",content:e.linkname,placement:"top",disabled:null==e.linkname}},[a("span",[t._v(t._s(null==e.linkname?"--":e.linkname))])])],1),t._v(" "),a("span",{staticClass:"title-line"},[t._v("/")]),t._v(" "),a("span",{staticClass:"title-telephone"},[t._v(t._s(e.telephone))])]),t._v(" "),a("div",{staticClass:"history-list-box"},[a("ul",{staticClass:"history-list"},[a("li",[a("span",[t._v("是否能做：")]),a("span",{staticClass:"font-color"},[a("el-checkbox",{attrs:{"true-label":"1",disabled:!0,"false-label":"0"},model:{value:e.iscando,callback:function(t){e.iscando=t},expression:"item.iscando"}},[t._v("能做")])],1)]),t._v(" "),a("li",[a("span",[t._v("最小订购量：")]),a("span",{staticClass:"font-color"},[t._v(t._s(t._f("checkNull")(e.minamount)))])]),t._v(" "),a("li",[a("span",[t._v("货期（天）：")]),a("span",{staticClass:"font-color"},[t._v(t._s(t._f("checkNull")(e.deliverytime)))])]),t._v(" "),a("li",[a("span",[t._v("未税单价：")]),a("span",{staticClass:"font-color"},[t._v(t._s(t._f("checkNull")(e.pricenotax)))])])]),t._v(" "),a("ul",{staticClass:"history-list"},[a("li",[a("span",[t._v("材料费：")]),a("span",{staticClass:"font-color"},[t._v(t._s(t._f("checkNull")(e.materialcost)))])]),t._v(" "),a("li",[a("span",[t._v("加工费：")]),a("span",{staticClass:"font-color"},[t._v(t._s(t._f("checkNull")(e.workcost)))])]),t._v(" "),a("li",[a("span",[t._v("表面处理费：")]),a("span",{staticClass:"font-color"},[t._v(t._s(t._f("checkNull")(e.dealwithcost)))])]),t._v(" "),a("li",[a("span",[t._v("税率：")]),a("span",{staticClass:"font-color"},[t._v(t._s(e.taxrate)+"%")])])]),t._v(" "),a("ul",{staticClass:"history-list"},[a("li",[a("span",[t._v("含税单价：")]),a("span",{staticClass:"font-color"},[t._v(t._s(t._f("checkNull")(e.pricewithtax)))])]),t._v(" "),a("li",[a("span",[t._v("含税金额：")]),a("span",{staticClass:"font-color"},[t._v(t._s(t._f("checkNull")(e.taxamount)))])]),t._v(" "),a("li",[a("span",[t._v("是否包含运费：")]),a("span",{staticClass:"font-color"},[a("el-checkbox",{attrs:{disabled:!0,"true-label":"1","false-label":"0"},model:{value:e.issendcost,callback:function(t){e.issendcost=t},expression:"item.issendcost"}},[t._v("包含")])],1)])]),t._v(" "),a("ul",{staticClass:"history-list"},[a("li",{staticClass:"history-list-remark"},[a("span",[t._v("备注：")]),a("span",{staticClass:"font-color"},[t._v(t._s(t._f("checkNull")(e.remark)))])])])])])})],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"CustomerDetail-box"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"nav"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/Manage/Customer"}}},[t._v("客户列表")]),t._v(" "),a("el-breadcrumb-item",[t._v(t._s(t.$route.query.name))])],1)],1)]),t._v(" "),a("div",{staticClass:"supplier-tabs"},[a("el-button",{staticClass:"tabs-btn",class:[1==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("1","information")}}},[t._v("基本信息")]),t._v(" "),a("el-button",{staticClass:"tabs-btn",class:[2==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("2","Industry")}}},[t._v("行业信息")]),t._v(" "),a("el-button",{staticClass:"tabs-btn",class:[3==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("3","business")}}},[t._v("商务信息")]),t._v(" "),a("el-button",{staticClass:"tabs-btn",class:[4==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("4","financial")}}},[t._v("业务信息")]),t._v(" "),a("el-button",{staticClass:"tabs-btn",class:[5==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("5","linkname")}}},[t._v("联系人")]),t._v(" "),a("el-button",{staticClass:"tabs-btn",class:[6==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("6","address")}}},[t._v("地址")])],1),t._v(" "),a("div",{staticClass:"supplier-info-box"},[a("h3",{ref:"information"},[t._v("基本信息")]),t._v(" "),a("div",{staticClass:"supplier-warper"},[a("v-Information",{attrs:{BaseInfo:t.BaseInfo,BaseOptions:t.BaseOptions}})],1)]),t._v(" "),a("div",{staticClass:"supplier-info-box Industry-content"},[a("h3",{ref:"Industry"},[t._v("行业信息")]),t._v(" "),a("div",{staticClass:"supplier-warper"},[a("el-form",{ref:"IndustryData",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.IndustryData,rules:t.IndustryDataRules}},[a("div",{staticClass:"mg-b10"},[a("el-form-item",{staticClass:"w442 Industry-label",attrs:{label:"所属行业",id:"a",prop:"custtradesid"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"请选择"},model:{value:t.IndustryData.custtradesid,callback:function(e){t.IndustryData.custtradesid=e},expression:"IndustryData.custtradesid"}},t._l(t.options.IndustryInfo,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{staticClass:"info-textarea Industry-label",attrs:{label:"行业标杆",prop:"contacttarget"}},[a("el-input",{staticStyle:{width:"260px"},attrs:{type:"textarea",placeholder:"多个标杆企业时，用，隔开",autosize:{minRows:1,maxRows:4}},nativeOn:{keyup:function(e){t.keyupContacttarget()},click:function(e){e.stopPropagation(),t.clickContacttarget(e)}},model:{value:t.IndustryData.contacttarget,callback:function(e){t.IndustryData.contacttarget=e},expression:"IndustryData.contacttarget"}}),t._v(" "),a("el-tree",{directives:[{name:"show",rawName:"v-show",value:t.contacttargetListShow,expression:"contacttargetListShow"}],ref:"contacttargetTree",attrs:{data:t.contacttargetFilter,"show-checkbox":"","node-key":"id",props:{label:"name"}},on:{"node-click":t.contacttargeClick,"check-change":t.contacttargeChange}})],1)],1),t._v(" "),a("div",{staticClass:"mg-b10"},[a("el-form-item",{staticClass:"w442 Industry-label",attrs:{label:"主营产品",prop:"mainproduct"}},[a("el-input",{staticClass:"info-textarea",staticStyle:{width:"260px"},attrs:{type:"textarea",placeholder:"多个主营产品时，用，隔开",autosize:{minRows:1,maxRows:4}},model:{value:t.IndustryData.mainproduct,callback:function(e){t.IndustryData.mainproduct=e},expression:"IndustryData.mainproduct"}})],1),t._v(" "),a("el-form-item",{staticClass:"Industry-label",attrs:{label:"竞争对手",prop:"competitor"}},[a("el-input",{staticClass:"info-textarea",staticStyle:{width:"260px"},attrs:{type:"textarea",placeholder:"多个竞争对手时，用，隔开",autosize:{minRows:1,maxRows:4}},nativeOn:{keyup:function(e){t.keyupCompetitor()},click:function(e){e.stopPropagation(),t.clickCompetitor(e)}},model:{value:t.IndustryData.competitor,callback:function(e){t.IndustryData.competitor=e},expression:"IndustryData.competitor"}}),t._v(" "),a("el-tree",{directives:[{name:"show",rawName:"v-show",value:t.competitorListShow,expression:"competitorListShow"}],ref:"competitorTree",attrs:{data:t.competitorFilter,"show-checkbox":"","node-key":"id",props:{label:"name"}},on:{"node-click":t.competitorClick,"check-change":t.competitorChange}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.SaveIndustryInfo}},[t._v("保存")])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"supplier-info-box"},[a("h3",{ref:"business"},[t._v("商务信息")]),t._v(" "),a("div",{staticClass:"supplier-warper"},[a("v-Business",{attrs:{BusinessData:t.BusinessData,BusinessOptions:t.BusinessOptions}})],1)]),t._v(" "),a("div",{staticClass:"supplier-info-box"},[a("h3",{ref:"financial"},[t._v("业务信息")]),t._v(" "),a("div",{staticClass:"supplier-warper"},[a("v-Financial",{attrs:{custbusinesslist:t.custbusinesslist}})],1)]),t._v(" "),a("div",{staticClass:"supplier-info-box"},[a("h3",{ref:"linkname"},[t._v("联系人")]),t._v(" "),a("div",{staticClass:"supplier-warper"},[a("v-Contact",{attrs:{custcontactlist:t.custcontactlist}})],1)]),t._v(" "),a("div",{staticClass:"supplier-info-box"},[a("h3",{ref:"address"},[t._v("地址")]),t._v(" "),a("div",{staticClass:"supplier-warper"},[a("v-address",{attrs:{AddressTableData:t.AddressTableData,goTop:t.goTop}})],1)]),t._v(" "),a("v-backtop",{attrs:{scollTop:t.scollTop,id:"fix-top"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"financial"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.supplierfinance,"label-position":"left"}},[a("div",{staticClass:"left"},[a("el-form-item",{attrs:{label:"结算币别","label-width":"80px"}},[a("el-select",{staticClass:"info-select",attrs:{disabled:""},model:{value:t.supplierfinance.paycurrency,callback:function(e){t.supplierfinance.paycurrency=e},expression:"supplierfinance.paycurrency"}},t._l(t.supplierfinanceBase.PayCurrency,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"结算方式","label-width":"80px"}},[a("el-select",{staticClass:"info-select",attrs:{disabled:""},model:{value:t.supplierfinance.paymenttype,callback:function(e){t.supplierfinance.paymenttype=e},expression:"supplierfinance.paymenttype"}},t._l(t.supplierfinanceBase.SettleType,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"付款条件","label-width":"80px"}},[a("el-select",{staticClass:"info-select",attrs:{disabled:""},model:{value:t.supplierfinance.paycondition,callback:function(e){t.supplierfinance.paycondition=e},expression:"supplierfinance.paycondition"}},t._l(t.supplierfinanceBase.PaymentCondition,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"结算方","label-width":"80px"}},[a("el-select",{staticClass:"info-select",attrs:{disabled:""},model:{value:t.supplierfinance.settlename,callback:function(e){t.supplierfinance.settlename=e},expression:"supplierfinance.settlename"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"info-item-address",attrs:{label:"描述","label-width":"80px"}},[a("el-input",{staticClass:"info-input info-input-address",attrs:{type:"textarea",rows:2,disabled:!0,placeholder:""},model:{value:t.supplierfinance.financedesc,callback:function(e){t.supplierfinance.financedesc=e},expression:"supplierfinance.financedesc"}})],1)],1),t._v(" "),a("div",{staticClass:"right"},[a("el-form-item",{attrs:{label:"税分类","label-width":"83px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"活动区域",disabled:""},model:{value:t.supplierfinance.taxtype,callback:function(e){t.supplierfinance.taxtype=e},expression:"supplierfinance.taxtype"}},t._l(t.supplierfinanceBase.TaxClassify,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"税务登记号","label-width":"83px"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.supplierfinance.taxregistercode,callback:function(e){t.supplierfinance.taxregistercode=e},expression:"supplierfinance.taxregistercode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"发票类型","label-width":"83px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"活动区域",disabled:""},model:{value:t.supplierfinance.invoicetype,callback:function(e){t.supplierfinance.invoicetype=e},expression:"supplierfinance.invoicetype"}},[a("el-option",{attrs:{label:"增值税专用发票",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"普通发票",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"无",value:"3"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"默认税率","label-width":"83px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"活动区域",disabled:""},model:{value:t.supplierfinance.taxrate,callback:function(e){t.supplierfinance.taxrate=e},expression:"supplierfinance.taxrate"}},t._l(t.supplierfinanceBase.TaxRate,function(t){return a("el-option",{key:t.number,attrs:{label:t.desc,value:t.number}})}))],1)],1)]),t._v(" "),a("div",{staticClass:"bussiness-table"},[a("el-table",{staticStyle:{width:"1130px"},attrs:{data:t.supplierfinanceList,border:"","max-height":"600"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"country",align:"center",label:"国家",width:"106"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"开户银行",width:"214"}}),t._v(" "),a("el-table-column",{attrs:{prop:"code",align:"center",label:"银行账户",width:"185"}}),t._v(" "),a("el-table-column",{attrs:{prop:"holder",align:"center",label:"账户名称",width:"250"}}),t._v(" "),a("el-table-column",{attrs:{prop:"currency",align:"center",label:"币种",width:"125"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticClass:"table-currency-select",attrs:{disabled:""},model:{value:e.row.currency,callback:function(t){e.row.currency=t},expression:"scope.row.currency"}},t._l(t.supplierfinanceBase.PayCurrency,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"isdefault",align:"center",label:"默认",width:"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{disabled:""},model:{value:t.row.isdefault,callback:function(e){t.row.isdefault=e},expression:"scope.row.isdefault"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"description",align:"center",label:"描述 ",width:"300"}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"infomation"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.BaseInfo,"label-position":"left"}},[a("div",{staticClass:"left"},[a("el-form-item",{attrs:{label:"客户名称","label-width":"110px"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.BaseInfo.name,callback:function(e){t.BaseInfo.name=e},expression:"BaseInfo.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"客户简称","label-width":"110px"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.BaseInfo.shortname,callback:function(e){t.BaseInfo.shortname=e},expression:"BaseInfo.shortname"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"纳税登记号","label-width":"110px"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.BaseInfo.taxregistercode,callback:function(e){t.BaseInfo.taxregistercode=e},expression:"BaseInfo.taxregistercode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"员工总数","label-width":"110px"}},[a("el-input-number",{staticClass:"info-input info-input-number",attrs:{disabled:!0},model:{value:t.BaseInfo.staffcount,callback:function(e){t.BaseInfo.staffcount=e},expression:"BaseInfo.staffcount"}}),a("span",{staticClass:"mg-l10"},[t._v("人")])],1),t._v(" "),a("el-form-item",{attrs:{label:"机械技术人数","label-width":"110px"}},[a("el-input-number",{staticClass:"info-input info-input-number",attrs:{disabled:!0},model:{value:t.BaseInfo.electriciancount,callback:function(e){t.BaseInfo.electriciancount=e},expression:"BaseInfo.electriciancount"}}),a("span",{staticClass:"mg-l10"},[t._v("人")])],1),t._v(" "),a("el-form-item",{attrs:{label:"电器技术人数","label-width":"110px"}},[a("el-input-number",{staticClass:"info-input info-input-number",attrs:{disabled:!0},model:{value:t.BaseInfo.electriciancount,callback:function(e){t.BaseInfo.electriciancount=e},expression:"BaseInfo.electriciancount"}}),a("span",{staticClass:"mg-l10"},[t._v("人")])],1),t._v(" "),a("el-form-item",{attrs:{label:"设计师人数","label-width":"110px"}},[a("el-input-number",{staticClass:"info-input info-input-number",attrs:{disabled:!0},model:{value:t.BaseInfo.designercount,callback:function(e){t.BaseInfo.designercount=e},expression:"BaseInfo.designercount"}}),a("span",{staticClass:"mg-l10"},[t._v("人")])],1),t._v(" "),a("el-form-item",{attrs:{label:"质量工程师人数","label-width":"110px"}},[a("el-input-number",{staticClass:"info-input info-input-number",attrs:{disabled:!0},model:{value:t.BaseInfo.qualityengineercount,callback:function(e){t.BaseInfo.qualityengineercount=e},expression:"BaseInfo.qualityengineercount"}}),a("span",{staticClass:"mg-l10"},[t._v("人")])],1),t._v(" "),a("el-form-item",{attrs:{label:"厂房面积","label-width":"110px"}},[a("el-input-number",{staticClass:"info-input info-input-number",attrs:{disabled:!0},model:{value:t.BaseInfo.factoryarea,callback:function(e){t.BaseInfo.factoryarea=e},expression:"BaseInfo.factoryarea"}}),a("span",{staticClass:"mg-l10"},[t._v("m²")])],1)],1),t._v(" "),a("div",{staticClass:"right"},[a("el-form-item",{attrs:{label:"客户分组","label-width":"97px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"",disabled:""},model:{value:t.BaseInfo.productemphasis,callback:function(e){t.BaseInfo.productemphasis=e},expression:"BaseInfo.productemphasis"}},t._l(t.BaseOptions.custGroup,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"公司性质","label-width":"97px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"",disabled:""},model:{value:t.BaseInfo.companynature,callback:function(e){t.BaseInfo.companynature=e},expression:"BaseInfo.companynature"}},t._l(t.BaseOptions.nature,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"客户采购用途","label-width":"97px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"",disabled:""},model:{value:t.BaseInfo.purchaseuse,callback:function(e){t.BaseInfo.purchaseuse=e},expression:"BaseInfo.purchaseuse"}},t._l(t.BaseOptions.custPurchaseUse,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"对产品侧重点","label-width":"97px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"",disabled:""},model:{value:t.BaseInfo.productemphasis,callback:function(e){t.BaseInfo.productemphasis=e},expression:"BaseInfo.productemphasis"}},t._l(t.BaseOptions.productEmphasis,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"公司主要设备","label-width":"97px"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.BaseInfo.maindevice,callback:function(e){t.BaseInfo.maindevice=e},expression:"BaseInfo.maindevice"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备用途","label-width":"97px","label-position":"left"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.BaseInfo.deviceuse,callback:function(e){t.BaseInfo.deviceuse=e},expression:"BaseInfo.deviceuse"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"组织架构","label-width":"97px"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.BaseInfo.organization,callback:function(e){t.BaseInfo.organization=e},expression:"BaseInfo.organization"}})],1),t._v(" "),a("el-form-item",{staticClass:"info-item-address",attrs:{label:"备注","label-width":"97px"}},[a("el-input",{staticClass:"info-input info-input-address",attrs:{type:"textarea",rows:2,disabled:!0,placeholder:""},model:{value:t.BaseInfo.description,callback:function(e){t.BaseInfo.description=e},expression:"BaseInfo.description"}})],1)],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"willorderInfo-box"},[a("h3",{staticClass:"willorderInfo-title"},[t._v(t._s(t.willoaderObject.productcode))]),t._v(" "),a("div",{staticClass:"btn-box"},[a("el-button",{staticClass:"btn-w80",attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"btn-w80",on:{click:t.close}},[t._v("取消")])],1),t._v(" "),a("div",{staticClass:"info-item"},[a("h4",[t._v("询价信息")]),t._v(" "),a("div",{staticClass:"left"},[a("ul",{staticClass:"info"},[a("li",[t._v("产品编码："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t.willoaderObject.productcode))])]),t._v(" "),a("li",[t._v("产品型号/SKU："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t.willoaderObject.productmodel))])]),t._v(" "),a("li",[t._v("附件名/图纸号："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.willoaderObject.attachmentindex)))])]),t._v(" "),a("li",[t._v("询价数量："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.willoaderObject.orderamount)))])])])]),t._v(" "),a("div",{staticClass:"right"},[a("ul",{staticClass:"info"},[a("li",[t._v("品牌："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.willoaderObject.productbrand)))])]),t._v(" "),a("li",[t._v("产品名称："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.willoaderObject.productname)))])]),t._v(" "),a("li",[t._v("询价单位："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.willoaderObject.unit)))])])])])]),t._v(" "),a("div",{staticClass:"info-item project-box"},[a("h4",[t._v("工程报价")]),t._v(" "),a("el-form",{attrs:{model:t.willoaderObject,"label-position":"left"}},[a("div",{staticClass:"left"},[a("el-form-item",{attrs:{label:"建议最低含..",title:"建议最低含税价","label-width":"97px"}},[a("el-input",{staticClass:"info-item-input",attrs:{disabled:t.disable,maxlength:t.maxlength11},on:{blur:function(e){t.blur(e,"mintaxprice")}},nativeOn:{keyup:function(e){t.checkValue(e,"mintaxprice")}},model:{value:t.willoaderObject.mintaxprice,callback:function(e){t.willoaderObject.mintaxprice=e},expression:"willoaderObject.mintaxprice"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"确认后差异","label-width":"97px"}},[a("el-input",{staticClass:"info-item-input",attrs:{disabled:t.disable},model:{value:t.willoaderObject.confirmdiffmessage,callback:function(e){t.willoaderObject.confirmdiffmessage=e},expression:"willoaderObject.confirmdiffmessage"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"确认后最小..",title:"确认后最小订购量","label-width":"97px"}},[a("el-input-number",{staticClass:"info-item-input",attrs:{disabled:t.disable,controls:!1,max:99999999},model:{value:t.willoaderObject.confirmstartqty,callback:function(e){t.willoaderObject.confirmstartqty=e},expression:"willoaderObject.confirmstartqty"}})],1)],1),t._v(" "),a("div",{staticClass:"right"},[a("el-form-item",{staticClass:"required-icon",attrs:{label:"建议含税售价","label-width":"104px"}},[a("el-input",{staticClass:"info-item-input",attrs:{disabled:t.disable,maxlength:t.maxlength11},on:{blur:function(e){t.blur(e,"maxtaxprice")}},nativeOn:{keyup:function(e){t.checkValue(e,"maxtaxprice")}},model:{value:t.willoaderObject.maxtaxprice,callback:function(e){t.willoaderObject.maxtaxprice=e},expression:"willoaderObject.maxtaxprice"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"确认后货期","label-width":"104px"}},[a("el-input-number",{staticClass:"info-item-input",attrs:{min:0,disabled:t.disable,controls:!1,max:99999},model:{value:t.willoaderObject.confirmdeliverytime,callback:function(e){t.willoaderObject.confirmdeliverytime=e},expression:"willoaderObject.confirmdeliverytime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"工程备注","label-width":"104px"}},[a("el-input",{staticClass:"info-item-input",attrs:{disabled:t.disable},model:{value:t.willoaderObject.confirmremark,callback:function(e){t.willoaderObject.confirmremark=e},expression:"willoaderObject.confirmremark"}})],1)],1)])],1),t._v(" "),a("div",{staticClass:"info-item supplier-box"},[a("el-form",{attrs:{model:t.willoaderObject,"label-position":"left"}},[a("h4",[t._v("供应商报价")]),t._v(" "),a("div",{staticClass:"left",on:{click:function(e){e.stopPropagation(),t.stop(e)}}},[a("el-form-item",{attrs:{label:"供应商名称","label-width":"97px"}},[a("el-input",{staticClass:"info-item-input",attrs:{disabled:t.disable,icon:"caret-bottom"},on:{focus:t.handleFocus,blur:t.handleBlur},model:{value:t.willoaderObject.supplier,callback:function(e){t.willoaderObject.supplier=e},expression:"willoaderObject.supplier"}}),t._v(" "),a("v-suppliertable",{directives:[{name:"show",rawName:"v-show",value:t.supplierShow,expression:"supplierShow"}],attrs:{keyword:t.willoaderObject.supplier},on:{listenSupplierName:t.listenSupplierName}})],1),t._v(" "),a("el-form-item",{attrs:{label:"最小订购量","label-width":"97px"}},[a("el-input-number",{staticClass:"info-item-input-number",attrs:{min:0,disabled:t.disable,debounce:50,max:99999999},model:{value:t.willoaderObject.startqty,callback:function(e){t.willoaderObject.startqty=e},expression:"willoaderObject.startqty"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否包含运费","label-width":"97px"}},[a("el-checkbox",{staticClass:"info-item-checkbox",attrs:{disabled:t.disable,"true-label":"1","false-label":"0"},model:{value:t.willoaderObject.containfreight,callback:function(e){t.willoaderObject.containfreight=e},expression:"willoaderObject.containfreight"}},[t._v("包含")])],1)],1),t._v(" "),a("div",{staticClass:"right"},[a("el-form-item",{staticClass:"required-icon",attrs:{label:"是否能做","label-width":"104px"}},[a("el-checkbox",{staticClass:"info-item-checkbox",attrs:{disabled:t.disable,"true-label":1,"false-label":0},model:{value:t.willoaderObject.cando,callback:function(e){t.willoaderObject.cando=e},expression:"willoaderObject.cando"}},[t._v("能做")])],1),t._v(" "),a("el-form-item",{staticClass:"required-icon",attrs:{label:"货期（天）","label-width":"104px"}},[a("el-input-number",{staticClass:"info-item-input-number",attrs:{min:0,disabled:t.disable,debounce:50,max:99999},model:{value:t.willoaderObject.deliverytime,callback:function(e){t.willoaderObject.deliverytime=e},expression:"willoaderObject.deliverytime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"未税单价","label-width":"104px"}},[a("div",{staticClass:"price-warpper"},[a("el-input",{staticClass:"info-item-input",attrs:{disabled:!0},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}}),t._v(" "),a("p",{staticClass:"price-tip"},[t._v("系统默认未税单价=材料费+加工费+表面处理")])],1)])],1),t._v(" "),a("div",{staticClass:"clear"}),t._v(" "),a("div",{staticClass:"pricenotax-box"},[a("div",{staticClass:"left"},[a("el-form-item",{attrs:{label:"材料费","label-width":"97px"}},[a("el-input",{staticClass:"info-item-input",attrs:{placeholder:"请输入单个产品的材料费",disabled:t.disable,maxlength:t.maxlength11},on:{blur:function(e){t.blur(e,"materialcost")}},nativeOn:{keyup:function(e){t.checkValue(e,"materialcost")}},model:{value:t.willoaderObject.materialcost,callback:function(e){t.willoaderObject.materialcost=e},expression:"willoaderObject.materialcost"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"表面处理费","label-width":"97px"}},[a("el-input",{staticClass:"info-item-input",attrs:{placeholder:"请输入单个产品的表面处理费",disabled:t.disable,maxlength:t.maxlength11},on:{blur:function(e){t.blur(e,"dealwithcost")}},nativeOn:{keyup:function(e){t.checkValue(e,"dealwithcost")}},model:{value:t.willoaderObject.dealwithcost,callback:function(e){t.willoaderObject.dealwithcost=e},expression:"willoaderObject.dealwithcost"}})],1)],1),t._v(" "),a("div",{staticClass:"right"},[a("el-form-item",{attrs:{label:"加工费","label-width":"104px"}},[a("el-input",{staticClass:"info-item-input",attrs:{placeholder:"请输入单个产品的加工费",disabled:t.disable,maxlength:t.maxlength11},on:{blur:function(e){t.blur(e,"workcost")}},nativeOn:{keyup:function(e){t.checkValue(e,"workcost")}},model:{value:t.willoaderObject.workcost,callback:function(e){t.willoaderObject.workcost=e},expression:"willoaderObject.workcost"}})],1)],1)]),t._v(" "),a("div",{staticClass:"left"},[a("el-form-item",{attrs:{label:"税率","label-width":"97px"}},[a("el-select",{staticClass:"info-item-input",attrs:{disabled:t.disable,placeholder:"请选择"},on:{change:t.dutyRateChange},model:{value:t.willoaderObject.taxrate,callback:function(e){t.willoaderObject.taxrate=e},expression:"willoaderObject.taxrate"}},t._l(t.dutyRateList,function(t){return a("el-option",{key:t.name,attrs:{label:t.text,value:t.name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"含税金额","label-width":"97px"}},[a("el-input",{staticClass:"info-item-input",attrs:{disabled:!0},on:{blur:function(e){t.blur(e,"taxamount")}},nativeOn:{keyup:function(e){t.checkValue(e,"taxamount")}},model:{value:t.willoaderObject.taxamount,callback:function(e){t.willoaderObject.taxamount=e},expression:"willoaderObject.taxamount"}})],1)],1),t._v(" "),a("div",{staticClass:"right"},[a("el-form-item",{staticClass:"required-icon",attrs:{label:"含税单价","label-width":"104px"}},[a("el-input",{staticClass:"info-item-input",attrs:{disabled:t.price>0||t.disable},on:{blur:function(e){t.blur(e,"taxprice")},change:t.computTaxamount},nativeOn:{keyup:function(e){t.checkValue(e,"taxprice")}},model:{value:t.willoaderObject.taxprice,callback:function(e){t.willoaderObject.taxprice=e},expression:"willoaderObject.taxprice"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":"104px"}},[a("el-input",{staticClass:"info-item-input",attrs:{type:"textarea",autosize:"",disabled:t.disable},model:{value:t.willoaderObject.remark,callback:function(e){t.willoaderObject.remark=e},expression:"willoaderObject.remark"}})],1)],1)])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ManageContainer"},[a("div",{staticStyle:{height:"100%",position:"relative","min-width":"1000px","min-height":"700px"}},[a("el-row",{staticClass:"mg-r0",attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{staticClass:"search_input",attrs:{placeholder:"手机/姓名/员工编号",icon:t.closeIcon,change:t.importVal(),"on-icon-click":t.CloseIconClick},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"search_btn",attrs:{type:"primary"},on:{click:function(e){t.Search()}}},[t._v("查询")])],1)],1),t._v(" "),a("el-button",{staticClass:"add_btn",attrs:{type:"primary"},on:{click:function(e){t.Add()}}},[t._v("+ 新增")]),t._v(" "),a("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{"min-height":"490px"},attrs:{data:t.tableData,border:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{label:"序号",width:"88",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.$index-t.currentPageSize+1+t.currentPage*t.currentPageSize))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"姓名","min-width":"138",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.username?e.row.username:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"mobilenumber",label:"手机号","min-width":"128",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.mobilenumber?e.row.mobilenumber:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"userid",label:"员工编号","min-width":"142",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.userid?e.row.userid:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"technologyB",label:"工序","min-width":"146",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.technologyB?e.row.technologyB:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"b",label:"操作","min-width":"218",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"28px"},attrs:{type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"page-style text-right"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.currentPageSize,layout:"prev, pager, next, sizes, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogFormVisible,size:"tiny"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dialogform",attrs:{model:t.dialogform,rules:t.rules}},[a("el-form-item",{attrs:{label:"姓名",prop:"name","label-width":t.formLabelWidth}},[a("el-input",{attrs:{maxlength:20,"auto-complete":"off"},model:{value:t.dialogform.name,callback:function(e){t.dialogform.name=e},expression:"dialogform.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机",prop:"mobilenumber","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.dialogform.mobilenumber,callback:function(e){t.dialogform.mobilenumber=t._n(e)},expression:"dialogform.mobilenumber"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"负责工序","label-width":t.formLabelWidth}},[a("el-checkbox-group",{model:{value:t.checkedTechnologys,callback:function(e){t.checkedTechnologys=e},expression:"checkedTechnologys"}},[a("div",{staticClass:"process"},t._l(t.Technologys,function(e){return a("el-checkbox",{key:e.technologyname,staticStyle:{display:"block"},attrs:{label:e.technologyname}},[t._v(t._s(e.technologyname))])}))])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.Add_cancel()}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Add_confirm("dialogform")}}},[t._v(t._s("新增员工"==t.dialogTitle?"新增":"修改"))])],1)],1)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"willorderInfo-box"},[a("h3",{staticClass:"willorderInfo-title"},[t._v(t._s(t.supplierDetailObject.productmodel))]),t._v(" "),a("div",{staticClass:"btn-box"},[a("el-button",{staticClass:"btn-w80",attrs:{type:"primary",disabled:"0"==t.supplierDetailObject.iscando},on:{click:t.result}},[t._v("采用报价")]),t._v(" "),a("el-button",{staticClass:"btn-w80",on:{click:t.close}},[t._v("取消")])],1),t._v(" "),a("div",{staticClass:"info-item"},[a("h4",[t._v("询价信息")]),t._v(" "),a("div",{staticClass:"left"},[a("ul",{staticClass:"info"},[a("li",[t._v("产品编码："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t.supplierDetailObject.productcode))])]),t._v(" "),a("li",[t._v("产品型号/SKU："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t.supplierDetailObject.productmodel))])]),t._v(" "),a("li",[t._v("附件名/图纸号："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.attachmentindex)))])]),t._v(" "),a("li",[t._v("询价数量："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.orderamount)))])])])]),t._v(" "),a("div",{staticClass:"right"},[a("ul",{staticClass:"info"},[a("li",[t._v("品牌："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.productbrand)))])]),t._v(" "),a("li",[t._v("产品名称："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.productname)))])]),t._v(" "),a("li",[t._v("询价单位："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.unit)))])])])])]),t._v(" "),a("div",{staticClass:"info-item margin-bottom0"},[a("h4",[t._v("报价信息")]),t._v(" "),a("div",{staticClass:"left"},[a("ul",{staticClass:"info"},[a("li",[t._v("供应商名称："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.suppliername)))])]),t._v(" "),a("li",[t._v("最小订购量："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.minamount)))])]),t._v(" "),a("li",[t._v("未税单价："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.pricenotax)))])]),t._v(" "),a("li",[t._v("加工费："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.workcost)))])]),t._v(" "),a("li",[t._v("税率："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.taxrate))+"%")])]),t._v(" "),a("li",[t._v("含税金额："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.taxamount)))])]),t._v(" "),a("li",[t._v("备注："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.remark)))])])])]),t._v(" "),a("div",{staticClass:"right"},[a("ul",{staticClass:"info"},[a("li",[t._v("是否能做："),a("span",{staticClass:"font-color-5"},[a("el-checkbox",{attrs:{disabled:!0,"true-label":"1","false-label":"0"},model:{value:t.supplierDetailObject.iscando,callback:function(e){t.supplierDetailObject.iscando=e},expression:"supplierDetailObject.iscando"}},[t._v("能做")])],1)]),t._v(" "),a("li",[t._v("货期（天）："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.deliverytime)))])]),t._v(" "),a("li",[t._v("材料费："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.materialcost)))])]),t._v(" "),a("li",[t._v("表面处理费："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.dealwithcost)))])]),t._v(" "),a("li",[t._v("含税单价："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.supplierDetailObject.pricewithtax)))])]),t._v(" "),a("li",[t._v("是否包含运费："),a("span",{staticClass:"font-color-5"},[a("el-checkbox",{attrs:{disabled:!0,"true-label":"1","false-label":"0"},model:{value:t.supplierDetailObject.issendcost,callback:function(e){t.supplierDetailObject.issendcost=e},expression:"supplierDetailObject.issendcost"}},[t._v("包含")])],1)])])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"quotation"},[a("div",{staticClass:"search-box"},[a("el-form",{ref:"form",staticClass:"form-wrap",attrs:{inline:!0,model:t.form}},[a("div",{staticClass:"search-left",class:[t.show?"search-left-w":""]},[a("el-form-item",{staticClass:"search-item",attrs:{label:"报价需求单号",prop:"willorderid","label-width":"100px"}},[a("el-input",{staticClass:"quotation-input",attrs:{placeholder:"请输入"},model:{value:t.form.willorderid,callback:function(e){t.form.willorderid=e},expression:"form.willorderid"}})],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"询价日期",prop:"inquiryData","label-width":"120px"}},[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期范围"},on:{change:t.inquiryDataChange},model:{value:t.form.inquiryData,callback:function(e){t.form.inquiryData=e},expression:"form.inquiryData"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"search-item",attrs:{label:"产品询价状态",prop:"status","label-width":"140px"}},[a("el-select",{staticClass:"quotation-input",attrs:{placeholder:"请选择","value-key":"value"},model:{value:t.form.status,callback:function(e){t.form.status=e},expression:"form.status"}},t._l(t.statuOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-collapse-transition",[t.show?a("div",[a("el-form-item",{staticClass:"search-item",attrs:{label:"报价单号",prop:"quotationid","label-width":"100px"}},[a("el-input",{staticClass:"quotation-input",attrs:{placeholder:"请输入"},model:{value:t.form.quotationid,callback:function(e){t.form.quotationid=e},expression:"form.quotationid"}})],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"产品负责人",prop:"engineer","label-width":"120px"}},[a("el-input",{staticClass:"quotation-input",attrs:{placeholder:"请输入"},model:{value:t.form.engineer,callback:function(e){t.form.engineer=e},expression:"form.engineer"}})],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"采购员",prop:"buyer","label-width":"140px"}},[a("el-input",{staticClass:"quotation-input",attrs:{placeholder:"请输入"},model:{value:t.form.buyer,callback:function(e){t.form.buyer=e},expression:"form.buyer"}})],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"产品型号",prop:"productmodel","label-width":"100px"}},[a("el-input",{staticClass:"quotation-input",attrs:{placeholder:"请输入"},model:{value:t.form.productmodel,callback:function(e){t.form.productmodel=e},expression:"form.productmodel"}})],1)],1):t._e()])],1),t._v(" "),a("div",{staticClass:"search-right va-middle"},[a("el-form-item",{staticClass:"search-item"},[a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){t.search("form")}}},[t._v("查询")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"resetbtn",on:{click:function(e){t.resetForm("form")}}},[t._v("重置")]),t._v(" "),a("el-button",{staticClass:"spreadbtn",attrs:{type:"text"},on:{click:function(e){t.show=!t.show}}},[t._v(t._s(t.show?"收起":"展开")),a("i",{staticClass:"el-icon-d-arrow-left icon-spread",class:[t.show?"icon-arrow-up":"icon-arrow-down"]})])],1)],1)])],1),t._v(" "),a("div",{staticClass:"main"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"全部",name:"first"}}),t._v(" "),a("el-tab-pane",{attrs:{name:"second"}},[a("span",{slot:"label"},[t._v("待报价"),a("i",{directives:[{name:"show",rawName:"v-show",value:t.count1>0,expression:"count1>0"}],staticClass:"icon-message"},[t._v(t._s(t.count1))])])]),t._v(" "),a("el-tab-pane",{attrs:{name:"third"}},[a("span",{slot:"label"},[t._v("供应商已报价"),a("i",{directives:[{name:"show",rawName:"v-show",value:t.count2>0,expression:"count2>0"}],staticClass:"icon-message"},[t._v(t._s(t.count2))])])])],1),t._v(" "),a("div",{staticClass:"all-box"},[a("p",{staticClass:"total-message"},[t._v("共搜索到 "+t._s(t.Total)+" 条数据")]),t._v(" "),a("div",{staticClass:"all-btn"},[a("el-button",{staticClass:"refresh-btn",on:{click:t.handRefresh}},[t._v("刷新")]),t._v(" "),a("el-button",{staticClass:"tipsupplier-btn",attrs:{type:"primary"},on:{click:t.handTipSupplier}},[t._v("提醒供应商报价")])],1),t._v(" "),a("div",{staticClass:"table-box"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",height:"620","highlight-current-row":"","row-class-name":t.tableRowClassName,"default-sort":t.defaultSort},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"47",selectable:t.selectable}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",align:"center",prop:"willorderid",sortable:"",label:"报价需求单编号",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"font-color span-font",on:{click:function(a){t.toquotationDetail(e.row.willorderid)}}},[t._v(t._s(e.row.willorderid))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"quotationid",sortable:"",label:"报价单编号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productmodel",sortable:"",label:"产品型号/SKU",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"span-font"},[t._v(t._s(e.row.productmodel))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productname",label:"产品名称",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"span-font"},[t._v(t._s(e.row.productname))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",prop:"statusTxt",label:"产品询价状态",width:"180",filters:t.filters,"filter-method":t.filterTag,"filter-multiple":!1,"filter-placement":"bottom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"icon-dot icon-statu",class:t.quotedStatu(e.row.statusTxt)},[t._v(t._s(e.row.statusTxt))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"inquirytime",sortable:"",label:"询价时间",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.inquirytime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"feedbacktime",label:"要求报价反馈时间(h)",width:"175"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"engineer",label:"产品负责人",width:"180",filters:t.filters2,"filter-method":t.filterTag2,"filter-multiple":!1,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.engineer))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"supplier",label:"指定供应商",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.supplier,placement:"top-start"}},[a("span",[t._v(t._s(e.row.supplier?e.row.supplier:"--"))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"remindtime",label:"提醒报价时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.remindtime))])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"page-warrpe"},[a("el-pagination",{staticClass:"page-box",attrs:{"current-page":t.form.pageindex,"page-sizes":t.page_sizes,"page-size":t.page_sizes[0],layout:"prev, pager, next,sizes, jumper",total:t.Total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1),t._v(" "),a("div",{staticClass:"tip-box"},[a("el-dialog",{attrs:{visible:t.dialogVisible,size:"tiny","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",{staticClass:"dialog-title",slot:"title"},[a("i",{staticClass:"icon-title-statu",class:[t.iconTitle?"el-icon-circle-check":"el-icon-circle-cross"]}),a("span",{staticClass:"dialog-title-txt"},[t._v(t._s(t.TipTotal))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.iconTitle,expression:"iconTitle"}],staticClass:"detail-btn",on:{click:function(e){t.quoteDetail=!t.quoteDetail}}},[t._v("查看详情")])]),t._v(" "),a("div",{staticClass:"dialog-content"},[t.iconTitle?a("div",[a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.quoteDetail,expression:"quoteDetail"}],staticClass:"dialog-content-border"},[a("div",{staticClass:"quotedetail-success"},t._l(t.SuccessList,function(e,i){return a("p",{staticClass:"quotedetail-fail-item"},[t._v(t._s(i+1)+"、“"+t._s(e.name)+"”")])}))])])],1):a("div",{staticClass:"quotedetail-fail dialog-content-border"},[a("p",{staticClass:"quotedetail-fail-item"},[a("span",{staticClass:"quotedetail-fail-t"},[t._v("可能原因：")]),a("span",[t._v("1、未找到供应商邮箱或者邮箱地址有误；")])]),t._v(" "),a("p",{staticClass:"quotedetail-fail-item"},[a("span",{staticClass:"quotedetail-fail-t"}),a("span",[t._v("2、无未报价供应商；")])]),t._v(" "),a("p",{staticClass:"quotedetail-fail-item"},[a("span",{staticClass:"quotedetail-fail-t"}),a("span",[t._v("3、半小时内已提醒过报价。")])])])]),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible2,size:"tiny","before-close":t.handleClose2},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("span",{staticClass:"dialog-title",slot:"title"},[a("i",{staticClass:"icon-title-statu el-icon-circle-check icon-circle-color"}),a("span",{staticClass:"dialog-title-txt"},[t._v(t._s(t.TipTotal2))]),a("span",{staticClass:"detail-btn",on:{click:function(e){t.quoteDetail2=!t.quoteDetail2}}},[t._v("查看详情")])]),t._v(" "),a("div",{staticClass:"dialog-content"},[a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.quoteDetail2,expression:"quoteDetail2"}],staticClass:"dialog-content-border"},[a("div",{staticClass:"quotedetail-success"},[a("p",[t._v("成功：")]),t._v(" "),t._l(t.SuccessList2,function(e,i){return a("p",{staticClass:"quotedetail-fail-item"},[t._v(t._s(i+1)+"、“"+t._s(null==e.name?"--":e.name)+"”\r\n                  "),t._l(e.detail,function(e,i){return a("span",{staticClass:"detail-item txt-hid"},[t._v(t._s(e.text))])})],2)}),t._v(" "),a("p",[t._v("失败：")]),t._v(" "),t._l(t.FailList,function(e,i){return a("p",{staticClass:"quotedetail-fail-item"},[t._v(t._s(i+1)+"、“"+t._s(null==e.name?"--":e.name)+"” , "+t._s(e.message)+"\r\n                  "),t._l(e.detail,function(e,i){return a("span",{staticClass:"detail-item txt-hid"},[t._v(t._s(e.text))])})],2)})],2)])])],1),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible2=!1}}},[t._v("确 定")])],1)])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"supplierdetail-box"},[a("div",{staticClass:"supplier-tabs"},[a("el-button",{staticClass:"tabs-btn",class:[1==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("1","information")}}},[t._v("基本信息")]),t._v(" "),a("el-button",{staticClass:"tabs-btn",class:[2==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("2","linkname")}}},[t._v("联系人")]),t._v(" "),a("el-button",{staticClass:"tabs-btn",class:[3==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("3","business")}}},[t._v("商务信息")]),t._v(" "),a("el-button",{staticClass:"tabs-btn",class:[4==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("4","financial")}}},[t._v("财务信息")]),t._v(" "),a("el-button",{staticClass:"tabs-btn",class:[5==t.focus?"btn-focus":""],on:{click:function(e){t.handletabs("5","identification")}}},[t._v("认证信息")])],1),t._v(" "),a("div",{staticClass:"supplier-info-box"},[a("h3",{ref:"information"},[t._v("基本信息")]),t._v(" "),a("div",{staticClass:"supplierList-warper"},[a("v-Information",{attrs:{supplierBase:t.supplierBase,BasedataInfo:t.BasedataInfo}})],1)]),t._v(" "),a("div",{staticClass:"supplier-info-box"},[a("h3",{ref:"linkname"},[t._v("联系人")]),t._v(" "),a("div",{staticClass:"supplierList-warper"},[a("v-Contact",{attrs:{suppliercontacts:t.suppliercontacts}})],1)]),t._v(" "),a("div",{staticClass:"supplier-info-box"},[a("h3",{ref:"business"},[t._v("商务信息")]),t._v(" "),a("div",{staticClass:"supplierList-warper"},[a("v-Business",{attrs:{supplierbusiness:t.supplierbusiness,supplierbusinessList:t.supplierbusinessList}})],1)]),t._v(" "),a("div",{staticClass:"supplier-info-box"},[a("h3",{ref:"financial"},[t._v("财务信息")]),t._v(" "),a("div",{staticClass:"supplierList-warper"},[a("v-Financial",{attrs:{supplierfinanceList:t.supplierfinanceList,supplierfinance:t.supplierfinance,supplierfinanceBase:t.supplierfinanceBase}})],1)]),t._v(" "),a("div",{staticClass:"supplier-info-box"},[a("h3",{ref:"identification"},[t._v("认证信息")]),t._v(" "),a("div",{staticClass:"supplierList-warper"},[a("v-Identification",{attrs:{cardauthenticate:t.cardauthenticate,structauthenticate:t.structauthenticate}})],1)]),t._v(" "),a("v-backtop",{attrs:{scollTop:t.scollTop}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-box"},[a("div",{staticClass:"upload-step"},[a("h3",{staticClass:"upload-step-title"},[t._v("第一步：导出明细")]),t._v(" "),a("p",{staticClass:"upload-step-des"},[t._v("填充要导入的数据，不可改变导出文件的格式")]),t._v(" "),a("a",{on:{click:t.ClickExport}},[t._v("点击导出明细")])]),t._v(" "),a("div",{staticClass:"upload-step"},[a("h3",{staticClass:"upload-step-title"},[t._v("第二步：选择并上传文件")]),t._v(" "),a("p",{staticClass:"upload-step-des"},[t._v("选择填充好数据的模版文件，选中后文件将自动上传")]),t._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t.Data.actionUrl,headers:t.Data.headers,data:t.Data.uploadPrams,name:"device","on-change":t.handleChange,"on-success":t.handleSuccess,"on-error":t.handleError,"on-remove":t.handleremove,"file-list":t.fileList,"before-upload":t.beforeAvatarUpload,"auto-upload":!1}},[a("el-button",{attrs:{type:"primary"},slot:"trigger"},[t._v("上传文件")]),t._v(" "),a("div",{staticClass:"el-upload__tip",slot:"tip"})],1)],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"upload-start"},[a("el-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:t.submitUpload}},[t._v("开始导入")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-step"},[a("h3",{staticClass:"upload-step-title"},[t._v("第三步：开始导入")]),t._v(" "),a("p",{staticClass:"upload-step-des"},[t._v("文件上传完成后，点击下面的“开始导入”按钮开始导入")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-box"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"nav"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/Quotation/quotation"}}},[t._v("报价需求单")]),t._v(" "),a("el-breadcrumb-item",[t._v(t._s(t.$route.params.demandNumber))])],1)],1)]),t._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"btn-box"},[a("el-button",{on:{click:t.Refresh}},[t._v("刷新")]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:"second"==t.activeName2},on:{click:t.handleConfirm}},[t._v("确认建议售价")]),t._v(" "),a("el-button",{attrs:{disabled:"second"==t.activeName2},on:{click:t.Save}},[t._v("保存")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.InfoShow,expression:"!InfoShow"}],staticClass:"icon-slide icon-silde-down",on:{click:function(e){t.InfoShow=!t.InfoShow}}},[a("span",[t._v("展开")]),a("i",{staticClass:"icon-silde-arrow el-icon-d-arrow-left"})])],1),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.InfoShow,expression:"InfoShow"}],staticClass:"tabs-box"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[a("el-card",{staticClass:"tabs-box-card"},[a("div",{staticClass:"info-box info-box-lh"},[a("ul",{staticClass:"info-lists"},[a("li",{staticClass:"info-list"},[a("span",[t._v("报价需求单编号：")]),a("span",[t._v(t._s(t.data.willorderid))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("报价单编号：")]),a("span",[t._v(t._s(t.data.quotationid))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("询价时间：")]),a("span",[t._v(t._s(t.data.inquirytime))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("要求报价时间：")]),a("span",[t._v(t._s(t._f("checkNull")(t.data.feedbacktime)))])])]),t._v(" "),a("ul",{staticClass:"info-lists"},[a("li",{staticClass:"info-list"},[a("span",[t._v("采购询价员：")]),a("span",[t._v(t._s(t._f("checkNull")(t.data.buyer)))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("销售员：")]),a("span",[t._v(t._s(t._f("checkNull")(t.data.seller)))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("产品负责人：")]),a("span",[t._v(t._s(t._f("checkNull")(t.data.engineer)))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("报价员：")]),a("span",[t._v(t._s(t._f("checkNull")(t.data.quoter)))])])]),t._v(" "),a("ul",{staticClass:"info-lists info-lists-last"},[a("li",{staticClass:"info-list"},[a("span",[t._v("备注：")]),a("span",[t._v(t._s(t._f("checkNull")(t.data.remark)))])])])])])],1),t._v(" "),a("el-tab-pane",{attrs:{label:"其他",name:"second"}},[a("el-card",{staticClass:"tabs-box-card"},[a("div",{staticClass:"info-box"},[a("ul",{staticClass:"info-lists info-other-lists"},[a("li",{staticClass:"info-list"},[a("span",[t._v("创建人：")]),a("span",[t._v(t._s(t._f("checkNull")(t.data.createuser)))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("修改人：")]),a("span",[t._v(t._s(t._f("checkNull")(t.data.modifyuser)))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("确认人：")]),a("span",[t._v(t._s(t._f("checkNull")(t.data.confirmuser)))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("报价要求时间：")]),a("span",[t._v(t._s(t._f("checkNull")(t.data.feedbacktime)))])])]),t._v(" "),a("ul",{staticClass:"info-lists info-other-lists"},[a("li",{staticClass:"info-list"},[a("span",[t._v("创建时间：")]),a("span",[t._v(t._s(t._f("checkNull")(t.data.createtime)))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("修改时间：")]),a("span",[t._v(t._s(t._f("checkNull")(t.data.modifytime)))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("确认时间：")]),a("span",[t._v(t._s(t._f("checkNull")(t.data.confirmtime)))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("报价员：")]),a("span",[t._v(t._s(t._f("checkNull")(t.data.quoter)))])])])])])],1)],1),t._v(" "),a("span",{staticClass:"icon-slide icon-silde-up",on:{click:function(e){t.InfoShow=!t.InfoShow}}},[t._v("收起"),a("i",{staticClass:"icon-silde-arrow el-icon-d-arrow-right"})])],1)]),t._v(" "),a("div",{staticClass:"main-tabs"},[a("el-tabs",{attrs:{"row-class-name":t.tableRowClassName},on:{"tab-click":t.handleClick2},model:{value:t.activeName2,callback:function(e){t.activeName2=e},expression:"activeName2"}},[a("el-tab-pane",{attrs:{label:"明细信息",name:"first"}},[a("div",{staticClass:"main-info"},[a("div",{staticClass:"btn-box"},[a("div",{staticClass:"info-pos"},[a("el-button",{staticClass:"supplier-btn",attrs:{type:"primary"},on:{click:t.resultSuppliers}},[t._v("向供应商询价")]),t._v(" "),a("el-button",{staticClass:"supplier-tip-btn",attrs:{type:"primary",icon:t.showTipbtn?"arrow-up":"arrow-down"},on:{click:function(e){t.showTipbtn=!t.showTipbtn}},nativeOn:{blur:function(e){t.blurSupplier(e)}}}),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[a("ul",{directives:[{name:"show",rawName:"v-show",value:t.showTipbtn,expression:"showTipbtn"}],staticClass:"info-por"},[a("li",{on:{click:t.handleTipsupplier}},[t._v("提醒供应商报价")])])])],1),t._v(" "),a("div",{staticClass:"info-pos info-border"},[a("el-button",{staticClass:"supplier-btn",on:{click:t.handleQuotainExcellent}},[t._v("采用最优报价")]),t._v(" "),a("el-button",{staticClass:"supplier-tip-btn",attrs:{icon:t.showChosebtn?"arrow-up":"arrow-down"},on:{click:function(e){t.showChosebtn=!t.showChosebtn}},nativeOn:{blur:function(e){t.QuotainBlur(e)}}}),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[a("ul",{directives:[{name:"show",rawName:"v-show",value:t.showChosebtn,expression:"showChosebtn"}],staticClass:"info-por"},[a("li",{on:{click:t.handleQuotainNear}},[t._v("采用最近报价")]),t._v(" "),a("li",{on:{click:t.handleQuotainLow}},[t._v("采用最低报价")])])])],1),t._v(" "),a("div",{staticClass:"info-pos"},[a("el-button",{staticClass:"upload-btn",on:{click:t.handleImport}},[t._v("导入导出")]),t._v(" "),a("el-button",{staticClass:"upload-btn",on:{click:t.handleDownload}},[t._v("下载图纸")])],1)]),t._v(" "),a("div",{staticClass:"table-box"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中",data:t.tableData,border:"",height:"600","row-class-name":t.tableRowClassName},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",fixed:"",type:"selection",width:"45"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"",type:"index",width:"65",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"",prop:"productcode",sortable:"",label:"产品编码",width:"153"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"span-font c20a0ff",on:{click:function(a){t.showQuotationDetail(e.row)}}},[t._v(t._s(e.row.productcode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productname",sortable:"",label:"产品名称",width:"153"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"span-font"},[t._v(t._s(e.row.productname))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"unit",label:"报价单位",width:"153"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"orderamount",label:"报价数量",width:"153"}}),t._v(" "),a("el-table-column",{attrs:{align:"left",prop:"status",label:"产品询价状态",width:"188"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"icon-dot icon-statu marginLeft",class:t.quotedStatu(e.row.status)},[t._v(t._s(t._f("Formatstatus")(e.row.status)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"mintaxprice",sortable:"",label:"建议最低含税售价",width:"188"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"el-input-number table-input"},[a("el-input",{attrs:{disabled:4==e.row.status||5==e.row.status,maxlength:t.maxlength11},on:{change:function(a){t.inputChange(e.row)},blur:function(a){t.checkMintaxprice(e.row)}},model:{value:e.row.mintaxprice,callback:function(t){e.row.mintaxprice=t},expression:"scope.row.mintaxprice"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"maxtaxprice",label:"建议含税售价",width:"137","class-name":"required-icon"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"el-input-number table-input"},[a("el-input",{attrs:{disabled:4==e.row.status||5==e.row.status,maxlength:t.maxlength11},on:{change:function(a){t.inputChange(e.row)},blur:function(a){t.checkMaxtaxprice(e.row)}},model:{value:e.row.maxtaxprice,callback:function(t){e.row.maxtaxprice=t},expression:"scope.row.maxtaxprice"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"startqty",label:"最小订购量",width:"137"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticClass:"table-input",attrs:{debounce:100,controls:!1,disabled:4==e.row.status||5==e.row.status,max:99999999},on:{change:function(a){t.inputChange(e.row)}},model:{value:e.row.startqty,callback:function(t){e.row.startqty=t},expression:"scope.row.startqty"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"deliverytime",label:"货期（天 ）",width:"137"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticClass:"table-input",attrs:{debounce:100,controls:!1,disabled:4==e.row.status||5==e.row.status,max:99999},on:{change:function(a){t.inputChange(e.row)}},model:{value:e.row.deliverytime,callback:function(t){e.row.deliverytime=t},expression:"scope.row.deliverytime"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"taxprice",label:"含税单价",width:"137"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"table-input el-input-number"},[a("el-input",{attrs:{disabled:4==e.row.status||5==e.row.status,maxlength:t.maxlength11},on:{change:function(a){t.inputChange(e.row)},blur:function(a){t.checkTaxprice(e.row)}},model:{value:e.row.taxprice,callback:function(t){e.row.taxprice=t},expression:"scope.row.taxprice"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"taxamount",label:"含税金额",width:"137"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"containfreight",label:"是否包含运费",width:"137"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0",checked:1==e.row.containfreight,disabled:4==e.row.status||5==e.row.status},model:{value:e.row.containfreight,callback:function(t){e.row.containfreight=t},expression:"scope.row.containfreight"}},[t._v("包含")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"confirmremark",label:"工程备注",width:"260"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticClass:"table-input",attrs:{type:"textarea",autosize:"",disabled:4==e.row.status||5==e.row.status},on:{change:function(a){t.inputChange(e.row)}},model:{value:e.row.confirmremark,callback:function(t){e.row.confirmremark=t},expression:"scope.row.confirmremark"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"168"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{disabled:!e.row.hashistory,type:"text",size:"small"},on:{click:function(a){t.Checkquotation(e.row.productbrand,e.row.productmodel,e.row.willorderdetailid)}}},[t._v("查看历史报价")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"page-warrpe"},[a("el-pagination",{staticClass:"page-box",attrs:{"current-page":1,"page-sizes":[100,200,300,400],"page-size":100,layout:"prev, pager, next, sizes,jumper",total:t.willorderTotal},on:{"size-change":t.handleSizeChange1,"current-change":t.handleCurrentChange1}})],1)])]),t._v(" "),a("el-tab-pane",{attrs:{name:"second"}},[a("span",{slot:"label"},[t._v("供应商报价"),a("i",{directives:[{name:"show",rawName:"v-show",value:t.count>0,expression:"count>0"}],staticClass:"icon-message"},[t._v(t._s(t.count))])]),t._v(" "),a("div",{staticClass:"main-info"},[a("div",{staticClass:"btn-box btn-box-second"},[a("div",{staticClass:"info-pos"},[a("el-button",{staticClass:"upload-btn",attrs:{type:"primary"},on:{click:t.handleUseSupplier}},[t._v("采用供应商报价")]),t._v(" "),a("el-button",{staticClass:"add-btn",on:{click:t.handleAdd}},[t._v("新增")]),t._v(" "),a("el-button",{staticClass:"upload-btn",on:{click:t.handleTipSupplier2}},[t._v("提醒供应商报价")])],1)]),t._v(" "),a("div",{staticClass:"table-box"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中",data:t.tableDataSupplier,border:"",height:"600","row-class-name":t.tableRowClassName},on:{"selection-change":t.handleSelectionChange2}},[a("el-table-column",{attrs:{type:"selection",align:"center",fixed:"",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",align:"center",fixed:"",width:"65",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"",prop:"inquiryorderid",label:"供应商报价单号",width:"172"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"suppliername",label:"供应商名称",width:"172"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"span-font"},[t._v(t._s(e.row.suppliername))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productmodel",label:"产品编码",width:"153"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"span-font c20a0ff",on:{click:function(a){t.showSupplierDetail(e.row)}}},[t._v(t._s(e.row.productmodel))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productname",label:"产品名称",width:"153"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"unit",label:"询价单位",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"orderamount",label:"询价数量",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"iscando",label:"是否能做*",width:"137"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0",disabled:!0},model:{value:e.row.iscando,callback:function(t){e.row.iscando=t},expression:"scope.row.iscando"}},[t._v("能做")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"minamount",label:"最小订购量",width:"137"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"deliverytime",label:"货期（天 ）*",width:"137"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"pricenotax",label:"未税单价",width:"137"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"taxrate",label:"税率",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticClass:"duty-select",attrs:{disabled:"",placeholder:"请选择"},model:{value:e.row.taxrate,callback:function(t){e.row.taxrate=t},expression:"scope.row.taxrate"}},t._l(t.dutyRate,function(t){return a("el-option",{key:t.name,attrs:{label:t.text,value:t.name}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"pricewithtax",label:"含税单价",width:"137"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"taxamount",label:"含税金额",width:"137"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"issendcost",label:"是否包含运费",width:"137"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{attrs:{disabled:!0,"true-label":"1","false-label":"0"},model:{value:e.row.issendcost,callback:function(t){e.row.issendcost=t},expression:"scope.row.issendcost"}},[t._v("包含")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"备注",width:"260"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"span-font"},[t._v(t._s(e.row.remark))])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"page-warrpe"},[a("el-pagination",{staticClass:"page-box",attrs:{"current-page":1,"page-sizes":[100,200,300,400],"page-size":100,layout:"prev, pager, next, sizes,jumper",total:t.inquiryorderTotal},on:{"size-change":t.handleSizeChange2,"current-change":t.handleCurrentChange2}})],1)])])],1)],1)],1),t._v(" "),a("div",{staticClass:"tipbox"},[a("el-dialog",{attrs:{visible:t.tipbox_dialogVisible,size:"tiny","before-close":t.handleClose},on:{"update:visible":function(e){t.tipbox_dialogVisible=e}}},[a("span",{staticClass:"dialog-title",slot:"title"},[a("i",{staticClass:"icon-title-statu",class:[t.iconTitle?"el-icon-circle-check":"el-icon-circle-cross"]}),a("span",{staticClass:"dialog-title-txt"},[t._v(t._s(t.TipTotal))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.iconTitle,expression:"iconTitle"}],staticClass:"detail-btn",class:{"detail-btn-color":!t.quoteDetail},on:{click:function(e){t.quoteDetail=!t.quoteDetail}}},[t._v("查看详情")])]),t._v(" "),a("div",{staticClass:"dialog-content"},[t.iconTitle?a("div",[a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.quoteDetail,expression:"quoteDetail"}],staticClass:"dialog-content-border"},[a("div",{staticClass:"quotedetail-success"},t._l(t.SuccessList,function(e,i){return a("p",{staticClass:"quotedetail-fail-item"},[t._v(t._s(i+1)+"、“"+t._s(e.name)+"”")])}))])])],1):a("div",{staticClass:"quotedetail-fail dialog-content-border"},[a("p",{staticClass:"quotedetail-fail-item"},[a("span",{staticClass:"quotedetail-fail-t"},[t._v("可能原因：")]),a("span",[t._v("1、未找到供应商邮箱或者邮箱地址有误；")])]),t._v(" "),a("p",{staticClass:"quotedetail-fail-item"},[a("span",{staticClass:"quotedetail-fail-t"}),a("span",[t._v("2、无未报价供应商；")])]),t._v(" "),a("p",{staticClass:"quotedetail-fail-item"},[a("span",{staticClass:"quotedetail-fail-t"}),a("span",[t._v("3、半小时内已提醒过报价。")])])])]),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.tipbox_dialogVisible=!1}}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.tipbox_dialogVisible2,size:"tiny","before-close":t.handleClose2},on:{"update:visible":function(e){t.tipbox_dialogVisible2=e}}},[a("span",{staticClass:"dialog-title",slot:"title"},[a("i",{staticClass:"icon-title-statu el-icon-circle-check icon-circle-color"}),a("span",{staticClass:"dialog-title-txt"},[t._v(t._s(t.TipTotal2))]),a("span",{staticClass:"detail-btn",class:{"detail-btn-color":!t.quoteDetail2},on:{click:function(e){t.quoteDetail2=!t.quoteDetail2}}},[t._v("查看详情")])]),t._v(" "),a("div",{staticClass:"dialog-content"},[a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.quoteDetail2,expression:"quoteDetail2"}],staticClass:"dialog-content-border"},[a("div",{staticClass:"quotedetail-success"},[a("p",[t._v("成功：")]),t._v(" "),t._l(t.SuccessList2,function(e,i){return a("p",{staticClass:"quotedetail-fail-item"},[t._v(t._s(i+1)+"、“"+t._s(null==e.name?"--":e.name)+"”\r\n                    "),t._l(e.detail,function(e,i){return a("span",{staticClass:"detail-item txt-hid"},[t._v(t._s(e.text))])})],2)}),t._v(" "),a("p",[t._v("失败：")]),t._v(" "),t._l(t.FailList,function(e,i){return a("p",{staticClass:"quotedetail-fail-item"},[t._v(t._s(i+1)+"、“"+t._s(null==e.name?"--":e.name)+"” , "+t._s(e.message)+"\r\n                    "),t._l(e.detail,function(e,i){return a("span",{staticClass:"detail-item txt-hid"},[t._v(t._s(e.text))])})],2)})],2)])])],1),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.tipbox_dialogVisible2=!1}}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{staticClass:"dialog-upload",attrs:{title:"导入导出",visible:t.dialogUploadorder},on:{"update:visible":function(e){t.dialogUploadorder=e}}},[a("v-uploadorder",{attrs:{uploadPrams:t.uploadPrams},on:{listenUploadorder:t.Uploadorder}})],1)],1),t._v(" "),a("transition",{attrs:{name:"el-fade-in-linear"}},[t.productcodeShow?a("div",[a("div",{staticClass:"shade-box",on:{click:function(e){t.close("productcodeShow")}}}),t._v(" "),a("v-willoaderInfo",{attrs:{willoaderObject:t.willoaderObject},on:{listenwilloaderDetail:t.listenwilloaderDetail}})],1):t._e()]),t._v(" "),a("transition",{attrs:{name:"el-fade-in-linear"}},[t.supplierDetailShow?a("div",[a("div",{staticClass:"shade-box",on:{click:function(e){t.close("supplierDetailShow")}}}),t._v(" "),a("v-supplierDetail",{attrs:{supplierDetailObject:t.supplierDetailObject},on:{listensupplierDetail:t.listensupplierDetail}})],1):t._e()]),t._v(" "),a("transition",{attrs:{name:"el-fade-in-linear"}},[t.historyQuotationShow?a("div",[a("div",{staticClass:"shade-box",on:{click:function(e){t.close("historyQuotationShow")}}}),t._v(" "),a("v-historyQuotation",{attrs:{historyQuotationObject:t.historyQuotationObject},on:{listenhistoryDetail:t.listenhistoryDetail}})],1):t._e()]),t._v(" "),a("div",{staticClass:"dialog"},[a("el-dialog",{attrs:{title:"向供应商询价",visible:t.dialogSupplierVisible},on:{"update:visible":function(e){t.dialogSupplierVisible=e}}},[t.dialogSupplierVisible?a("v-getSupplierList",{attrs:{getsuppliersParms:t.getsuppliersParms},on:{listenSuppliers:t.listenSuppliers}}):t._e()],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-box"},[a("div",{staticClass:"upload-step"},[a("h3",{staticClass:"upload-step-title"},[t._v("第一步：导出明细")]),t._v(" "),a("p",{staticClass:"upload-step-des"},[t._v("第一步：导出明细 填充要导入的数据，不可改变导出的文件格式 ")]),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.downloadorder(t.$route.params.demandNumber)}}},[t._v("点击导出明细 ")])]),t._v(" "),a("div",{staticClass:"upload-step"},[a("h3",{staticClass:"upload-step-title"},[t._v("第二步：选择并上传文件")]),t._v(" "),a("p",{staticClass:"upload-step-des"},[t._v("选择填充好数据的模版文件，选中后文件将自动上传")]),t._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{headers:t.headers,data:t.uploadPrams,name:"excelorder","on-change":t.handleChange,action:t.actionUrl,"on-success":t.handleSuccess,"on-error":t.handleError,"on-remove":t.handleremove,"file-list":t.fileList3,"before-upload":t.beforeAvatarUpload,"auto-upload":!1}},[a("el-button",{attrs:{size:"small",type:"primary"},slot:"trigger"},[t._v("上传文件")]),t._v(" "),a("div",{staticClass:"el-upload__tip",slot:"tip"})],1)],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"upload-start"},[a("el-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:t.submitUpload}},[t._v("开始导入")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-step"},[a("h3",{staticClass:"upload-step-title"},[t._v("第三步：开始导入")]),t._v(" "),a("p",{staticClass:"upload-step-des"},[t._v("文件上传完成后，点击下面的“开始导入”按钮开始导入")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"enquirySheet-container"},[a("div",{staticClass:"search-form"},[a("el-form",{ref:"searchForm",staticClass:"demo-ruleForm",attrs:{model:t.searchForm,"label-width":"100px"}},[a("div",{staticClass:"search-form-left inblock"},[a("el-form-item",{attrs:{label:"询价单号",prop:"a"}},[a("el-input",{staticClass:"enquiryNumber",attrs:{placeholder:"请输入"},model:{value:t.searchForm.inquiryorderid,callback:function(e){t.searchForm.inquiryorderid=e},expression:"searchForm.inquiryorderid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"日期"}},[a("el-date-picker",{staticClass:"Date",attrs:{type:"daterange",editable:!1,placeholder:"选择日期范围"},on:{change:t.changeDate},model:{value:t.enquiryDate,callback:function(e){t.enquiryDate=e},expression:"enquiryDate"}})],1),t._v(" "),a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}]},[a("el-form-item",{staticClass:"mg-b0",attrs:{label:"状态"}},[a("el-select",{staticClass:"status",attrs:{placeholder:"请输入"},model:{value:t.searchForm.orderstatus,callback:function(e){t.searchForm.orderstatus=e},expression:"searchForm.orderstatus"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"待报价",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"已报价",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"已作废",value:"2"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"mg-b0",attrs:{label:"联系人"}},[a("el-input",{staticClass:"man",attrs:{placeholder:"请输入"},model:{value:t.searchForm.linkname,callback:function(e){t.searchForm.linkname=e},expression:"searchForm.linkname"}})],1)],1)])],1),t._v(" "),a("div",{staticClass:"search-form-right inblock va-top"},[a("el-form-item",{staticClass:"mg-b0 btnGroup"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitSearchForm()}}},[a("i",{staticClass:"el-icon-search"}),t._v(" 查询 ")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],on:{click:function(e){t.resetSearchForm("searchForm")}}},[t._v("重置")]),t._v(" "),a("el-button",{staticClass:"spreadbtn",attrs:{type:"text"},on:{click:function(e){t.open=!t.open}}},[t._v(t._s(t.open?"收起":"展开")+"\n            "),a("i",{staticClass:"el-icon-d-arrow-left icon-spread",class:[t.open?"icon-arrow-up":"icon-arrow-down"]})])],1)],1)])],1),t._v(" "),a("div",{staticClass:"content mg-t30"},[a("el-tabs",{on:{"tab-click":t.handleClickTabs},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{name:"all"}},[a("span",{slot:"label"},[t._v("全部")])]),t._v(" "),a("el-tab-pane",{attrs:{name:"0"}},[a("span",{slot:"label"},[t._v("待报价\n          "),t.waitQuoteNum>0?a("i",{staticClass:"icon-message"},[t._v(t._s(t.waitQuoteNum))]):t._e()])]),t._v(" "),a("el-tab-pane",{attrs:{name:"1"}},[a("span",{slot:"label"},[t._v("已报价\n          "),t.QuotedNum>0?a("i",{staticClass:"icon-message"},[t._v(t._s(t.QuotedNum))]):t._e()])])],1),t._v(" "),a("p",{staticClass:"pd-t25 pd-b30 c5e6d82"},[t._v("共搜索到 "+t._s(t.total)+" 条数据")]),t._v(" "),a("el-button",{staticClass:"handRefresh",attrs:{type:"primary"},on:{click:t.handRefresh}},[t._v("刷新")]),t._v(" "),a("el-table",{staticClass:"content-table mg-r30",staticStyle:{"min-height":"610px"},attrs:{data:t.tableData,border:"",resizable:"","row-class-name":t.rowBackground,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"amount0",label:"","min-width":"64",align:"center","class-name":"flagColumn"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"flagDiv jc-center ai-center "},[a("div",{staticClass:"text-center jc-center",staticStyle:{width:"40%"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:parseInt(e.row.ismark)?"取消红旗":"设为红旗",placement:"top"}},[a("span",{class:{flag:!0,none:!parseInt(e.row.ismark),redflag:parseInt(e.row.ismark)},on:{click:function(a){t.ClickMark(e.$index,e.row)}}})])],1),t._v(" "),a("div",{staticStyle:{width:"60%"}},[a("div",{class:{"pointer urgent":!0,none:!parseInt(e.row.isurgent),"urgent-A":parseInt(e.row.isurgent)}},[t._v("加急")])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"inquiryorderid",sortable:"",label:"询价单号","min-width":"208",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"font-color",on:{click:function(a){t.toquotationDetail(e.row.inquiryorderid,e.row.isread)}}},[t._v(t._s(e.row.inquiryorderid))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!parseInt(e.row.isread),expression:"!parseInt(scope.row.isread)"}],staticClass:"icon-dot icon-statu icon-statu-a inblock va-top mg-t10 lh1",staticStyle:{width:"8px",height:"8px"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"creattime",sortable:"",label:"询价时间","min-width":"196",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.creattime?e.row.creattime:"--")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"orderstatus",label:"状态","min-width":"150",align:"center",filters:t.filters,"filter-method":t.filterTag,"filter-placement":"bottom","filter-multiple":!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"icon-dot icon-statu",class:t.quotedStatu(e.row.orderstatus)},[t._v(t._s(t.checkedStatu(e.row.orderstatus)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"asktime",sortable:"",label:"要求报价时间","min-width":"196",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.asktime?e.row.asktime:"--")+"\n         ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"linkname",sortable:"",label:"联系人","min-width":"171",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.linkname?e.row.linkname:"--")+"\n         ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"telephone",label:"联系电话","min-width":"196",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.telephone?e.row.telephone:"--")+"\n         ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"facktime",label:"实际报价时间","min-width":"196",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.facktime?e.row.facktime:"--")+"\n         ")]}}])})],1),t._v(" "),a("div",{staticClass:"page-style text-right"},[a("el-pagination",{attrs:{"current-page":t.searchForm.pageindex,"page-sizes":t.pageSizes,"page-size":t.searchForm.pagesize,layout:"prev, pager, next, sizes, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-box"},[a("el-row",{staticClass:"tac"},[a("el-col",{attrs:{span:24}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.navselected,router:""},on:{select:t.selectItems,open:t.handleOpen,close:t.handleClose}},[t.enquirySheet?a("el-menu-item",{attrs:{index:"/EnquirySheet/enquirySheet"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"询价单",disabled:t.sidebar,placement:"right"}},[a("i",{staticClass:"icon iconfont icon-xunjiacheliang"})]),t._v("\n          询价单\n        ")],1):t._e(),t._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.quotation,expression:"quotation"}],attrs:{index:"/Quotation/quotation"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"报价需求单",disabled:t.sidebar,placement:"right"}},[a("i",{staticClass:"icon iconfont icon-baojiadan1"})]),t._v("\n          报价需求单\n        ")],1),t._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.order,expression:"order"}],attrs:{index:"/Track/order"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"订单跟踪",disabled:t.sidebar,placement:"right"}},[a("i",{staticClass:"icon iconfont icon-dingdangenzong"})]),t._v("\n          订单跟踪\n        ")],1),t._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.Employee,expression:"Employee"}],attrs:{index:"/Manage/Employee"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"员工管理",disabled:t.sidebar,placement:"right"}},[a("i",{staticClass:"icon iconfont icon-administrators"})]),t._v("\n          员工管理\n        ")],1),t._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.Profile,expression:"Profile"}],attrs:{index:"/company/Profile"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"公司资料",disabled:t.sidebar,placement:"right"}},[a("i",{staticClass:"icon iconfont icon-ziliao"})]),t._v("\n          公司资料\n        ")],1),t._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.Customer,expression:"Customer"}],attrs:{index:"/Manage/Customer"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"客户管理",disabled:t.sidebar,placement:"right"}},[a("i",{staticClass:"icon iconfont icon-kehu"})]),t._v("\n          客户列表\n        ")],1),t._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.SupplierList,expression:"SupplierList"}],attrs:{index:"/Supplier/SupplierList"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"供应商列表",disabled:t.sidebar,placement:"right"}},[a("i",{staticClass:"icon iconfont icon-client-list"})]),t._v("\n          供应商列表\n        ")],1),t._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.equipment,expression:"equipment"}],attrs:{index:"/Manage/equipment"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"设备管理",disabled:t.sidebar,placement:"right"}},[a("i",{staticClass:"icon iconfont icon-form-setting"})]),t._v("\n          我的设备\n        ")],1),t._v(" "),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.equipmentList,expression:"equipmentList"}],attrs:{index:"/List/equipmentList"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"设备列表",disabled:t.sidebar,placement:"right"}},[a("i",{staticClass:"icon iconfont icon-form-setting"})]),t._v("\n          供应商设备\n        ")],1)],1)],1)],1),t._v(" "),a("span",{staticClass:"icon-nav",on:{click:t.sidebar_btn}},[a("i",{class:[t.sidebar?"el-icon-caret-left":"el-icon-caret-right","icon-arrow-left"]})])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"infomation"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.supplierBase,"label-position":"left"}},[a("div",{staticClass:"left"},[a("el-form-item",{attrs:{label:"公司名称","label-width":"83px"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.supplierBase.companyName,callback:function(e){t.supplierBase.companyName=e},expression:"supplierBase.companyName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属区域","label-width":"83px"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.supplierBase.area,callback:function(e){t.supplierBase.area=e},expression:"supplierBase.area"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"成立时间","label-width":"83px"}},[a("el-date-picker",{staticClass:"info-inputdata",attrs:{type:"date",placeholder:"选择日期",disabled:!0},model:{value:t.supplierBase.founddate,callback:function(e){t.supplierBase.founddate=e},expression:"supplierBase.founddate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"注册资金","label-width":"83px"}},[a("el-input-number",{staticClass:"info-input info-input-number",attrs:{disabled:!0},model:{value:t.supplierBase.registerfund,callback:function(e){t.supplierBase.registerfund=e},expression:"supplierBase.registerfund"}}),a("span",[t._v("  元")])],1),t._v(" "),a("el-form-item",{attrs:{label:"工商登记号","label-width":"83px"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.supplierBase.registercode,callback:function(e){t.supplierBase.registercode=e},expression:"supplierBase.registercode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"公司性质","label-width":"83px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"公司性质",disabled:""},model:{value:t.supplierBase.companynature,callback:function(e){t.supplierBase.companynature=e},expression:"supplierBase.companynature"}},t._l(t.BasedataInfo.CompanyNature,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"公司总人数","label-width":"83px"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.supplierBase.staffcount,callback:function(e){t.supplierBase.staffcount=e},expression:"supplierBase.staffcount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"技术人数","label-width":"83px"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.supplierBase.techniciancount,callback:function(e){t.supplierBase.techniciancount=e},expression:"supplierBase.techniciancount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"品管人数","label-width":"83px"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.supplierBase.qccount,callback:function(e){t.supplierBase.qccount=e},expression:"supplierBase.qccount"}})],1)],1),t._v(" "),a("div",{staticClass:"right"},[a("el-form-item",{attrs:{label:"简称","label-width":"80px"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.supplierBase.shortname,callback:function(e){t.supplierBase.shortname=e},expression:"supplierBase.shortname"}})],1),t._v(" "),a("el-form-item",{staticClass:"info-item-address",attrs:{label:"通讯地址","label-width":"80px"}},[a("el-input",{staticClass:"info-input info-input-address",attrs:{type:"textarea",rows:2,disabled:!0,placeholder:""},model:{value:t.supplierBase.address,callback:function(e){t.supplierBase.address=e},expression:"supplierBase.address"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"法人代表","label-width":"80px"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"法人代表",disabled:!0},model:{value:t.supplierBase.legalperson,callback:function(e){t.supplierBase.legalperson=e},expression:"supplierBase.legalperson"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"公司类别","label-width":"80px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"公司类别",disabled:""},model:{value:t.supplierBase.companyclassify,callback:function(e){t.supplierBase.companyclassify=e},expression:"supplierBase.companyclassify"}},t._l(t.BasedataInfo.CompanyClassify,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"公司规模","label-width":"80px"}},[a("el-select",{staticClass:"info-select",attrs:{placeholder:"公司规模",disabled:""},model:{value:t.supplierBase.companyscale,callback:function(e){t.supplierBase.companyscale=e},expression:"supplierBase.companyscale"}},t._l(t.BasedataInfo.CompanyScale,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"采购人数","label-width":"80px","label-position":"left"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.supplierBase.purchasecount,callback:function(e){t.supplierBase.purchasecount=e},expression:"supplierBase.purchasecount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"营销人数","label-width":"80px"}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",disabled:!0},model:{value:t.supplierBase.sellercount,callback:function(e){t.supplierBase.sellercount=e},expression:"supplierBase.sellercount"}})],1)],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-box"},[a("div",{staticClass:"search-box"},[a("el-form",{ref:"form",staticClass:"form-wrap",attrs:{model:t.form,inline:!0}},[a("div",{staticClass:"search-left"},[a("el-form-item",{staticClass:"search-item search-item-model",attrs:{label:"产品型号",prop:"productmodel","label-width":"85px"}},[a("el-autocomplete",{staticClass:"search-item-input",attrs:{"fetch-suggestions":t.querySearch,placeholder:"请输入相关产品型号",icon:t.icon.productmodel,change:t.importVal("productmodel"),"on-icon-click":t.clearValue},model:{value:t.form.productmodel,callback:function(e){t.form.productmodel=e},expression:"form.productmodel"}})],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"客户名称",prop:"clientname","label-width":"85px"}},[a("el-input",{staticClass:"search-item-input",attrs:{icon:t.icon.clientname,change:t.importVal("clientname")},on:{click:function(e){t.clearValue2("clientname")}},model:{value:t.form.clientname,callback:function(e){t.form.clientname=e},expression:"form.clientname"}})],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"下单日期",prop:"createtime","label-width":"85px"}},[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期范围"},on:{change:t.createdateChange},model:{value:t.form.createtime,callback:function(e){t.form.createtime=e},expression:"form.createtime"}})],1),t._v(" "),a("el-collapse-transition",[t.show?a("div",[a("el-form-item",{staticClass:"search-item",attrs:{label:"产品名称",prop:"productname","label-width":"85px"}},[a("el-input",{staticClass:"search-item-input",attrs:{icon:t.icon.productname,change:t.importVal("productname")},on:{click:function(e){t.clearValue2("productname")}},model:{value:t.form.productname,callback:function(e){t.form.productname=e},expression:"form.productname"}})],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"客户订单号",prop:"outorderid","label-width":"85px"}},[a("el-input",{staticClass:"search-item-input",attrs:{icon:t.icon.outorderid,change:t.importVal("outorderid")},on:{click:function(e){t.clearValue2("outorderid")}},model:{value:t.form.outorderid,callback:function(e){t.form.outorderid=e},expression:"form.outorderid"}})],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"交货日期",prop:"deliverydatetime","label-width":"85px"}},[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期范围"},on:{change:t.deliverydateChange},model:{value:t.form.deliverydatetime,callback:function(e){t.form.deliverydatetime=e},expression:"form.deliverydatetime"}})],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"跟单号",prop:"inorderid","label-width":"85px"}},[a("el-input",{staticClass:"search-item-input",attrs:{icon:t.icon.inorderid,change:t.importVal("inorderid")},on:{click:function(e){t.clearValue2("inorderid")}},model:{value:t.form.inorderid,callback:function(e){t.form.inorderid=e},expression:"form.inorderid"}})],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"图纸",prop:"ispicture","label-width":"85px"}},[a("el-select",{staticClass:"search-item-input",attrs:{placeholder:"请选择"},model:{value:t.form.ispicture,callback:function(e){t.form.ispicture=e},expression:"form.ispicture"}},t._l([{value:"",label:"全部"},{value:"1",label:"有图"},{value:"0",label:"无图"}],function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"订单数量","label-width":"85px"}},[a("el-input",{staticClass:"search-item-input search-item-input-a",attrs:{icon:t.icon.minamount,change:t.importVal("minamount")},on:{click:function(e){t.clearValue2("minamount")}},model:{value:t.form.minamount,callback:function(e){t.form.minamount=e},expression:"form.minamount"}}),t._v(" "),a("span",[t._v("—")]),t._v(" "),a("el-input",{staticClass:"search-item-input search-item-input-a",attrs:{icon:t.icon.maxamount,change:t.importVal("maxamount")},on:{click:function(e){t.clearValue2("maxamount")}},model:{value:t.form.maxamount,callback:function(e){t.form.maxamount=e},expression:"form.maxamount"}})],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"流程名称",prop:"technologyname","label-width":"85px"}},[a("el-input",{staticClass:"search-item-input",attrs:{icon:t.icon.technologyname,change:t.importVal("technologyname")},on:{click:function(e){t.clearValue2("technologyname")}},model:{value:t.form.technologyname,callback:function(e){t.form.technologyname=e},expression:"form.technologyname"}})],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"流程状态",prop:"technologystatus","label-width":"85px"}},[a("el-select",{staticClass:"search-item-input",attrs:{disabled:""==t.form.technologyname,placeholder:"请选择"},model:{value:t.form.technologystatus,callback:function(e){t.form.technologystatus=e},expression:"form.technologystatus"}},t._l(t.technologystatusArry,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"总金额","label-width":"85px"}},[a("el-input",{staticClass:"search-item-input search-item-input-a",attrs:{icon:t.icon.minmoney,change:t.importVal("minmoney")},on:{click:function(e){t.clearValue2("minmoney")}},model:{value:t.form.minmoney,callback:function(e){t.form.minmoney=e},expression:"form.minmoney"}}),t._v(" "),a("span",[t._v("—")]),t._v(" "),a("el-input",{staticClass:"search-item-input search-item-input-a",attrs:{icon:t.icon.maxmoney,change:t.importVal("maxmoney")},on:{click:function(e){t.clearValue2("maxmoney")}},model:{value:t.form.maxmoney,callback:function(e){t.form.maxmoney=e},expression:"form.maxmoney"}})],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"订单状态",prop:"orderitemstatus","label-width":"85px"}},[a("el-select",{staticClass:"search-item-input",attrs:{placeholder:"请选择"},model:{value:t.form.orderitemstatus,callback:function(e){t.form.orderitemstatus=e},expression:"form.orderitemstatus"}},t._l([{value:"",label:"全部"},{value:"0",label:"正常"},{value:"1",label:"关闭"}],function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{staticClass:"search-item",attrs:{label:"备注",prop:"remark","label-width":"85px"}},[a("el-input",{staticClass:"search-item-input",attrs:{icon:t.icon.remark,change:t.importVal("remark")},on:{click:function(e){t.clearValue2("remark")}},model:{value:t.form.remark,callback:function(e){t.form.remark=e},expression:"form.remark"}})],1)],1):t._e()])],1),t._v(" "),a("div",{staticClass:"search-right"},[a("el-form-item",{staticClass:"search-item"},[a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:t.onSubmit}},[t._v("查询\n          ")]),t._v(" "),a("el-button",{on:{click:function(e){t.onRest("form")}}},[t._v("重置")])],1)],1)]),t._v(" "),a("div",{staticClass:"search-silder-btn",on:{click:function(e){t.show=!t.show}}},[a("i",{staticClass:"el-icon-d-arrow-left icon-arrow",class:[t.show?"icon-arrow-up":"icon-arrow-down"]})])],1),t._v(" "),a("div",{staticClass:"order-option"},[a("div",{staticClass:"order-option-defined"},[a("el-button",{staticClass:"order-option-defined-title",on:{click:function(e){t.showOption=!t.showOption}}},[t._v("自定义列")]),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[t.showOption?a("div",{staticClass:"order-option-box"},[a("div",{staticClass:"order-option-list"},[a("el-tree",{staticClass:"order-option-tree",attrs:{data:t.optionData,"show-checkbox":"","node-key":"id","default-checked-keys":t.checkedArr,props:t.defaultProps},on:{"check-change":t.checkChange}})],1),t._v(" "),a("div",{staticClass:"option-btn"},[a("el-button",{on:{click:function(e){t.showOption=!t.showOption}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.optionConfirm}},[t._v("确定")])],1)]):t._e()])],1),t._v(" "),a("el-pagination",{staticClass:"page-box",attrs:{"current-page":1,"page-sizes":t.page_sizes,"page-size":t.page_sizes[0],layout:"total, sizes, prev, pager, next, jumper",total:t.Total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),a("el-button",{staticClass:"import-order",on:{click:function(e){t.dialogUploadorder=!0}}},[t._v("导入订单")]),t._v(" "),a("el-button",{staticClass:"import-order",on:{click:t.exportExcel}},[t._v("导出Excel")]),t._v(" "),a("el-button",{staticClass:"import-order",on:{click:t.printPage}},[t._v("打印二维码")]),t._v(" "),a("div",{staticClass:"mark-expedited"},[a("el-button",{staticClass:"import-order",on:{click:function(e){t.markUrgent("false")}}},[t._v("标记加急")]),t._v(" "),a("el-button",{staticClass:"import-order cancel-expedited",on:{click:function(e){t.markUrgent("true")}}},[t._v("取消加急")])],1),t._v(" "),a("div",{staticClass:"mark-expedited"},[a("el-button",{staticClass:"import-order",on:{click:function(e){t.hardClosed("true")}}},[t._v("强制关闭")]),t._v(" "),a("el-button",{staticClass:"import-order cancel-expedited",on:{click:function(e){t.hardClosed("false")}}},[t._v("取消关闭")])],1),t._v(" "),a("el-button",{staticClass:"import-order",on:{click:t.saveData}},[t._v("保存数据")])],1),t._v(" "),a("div",{staticClass:"order-table"},[a("div",{staticClass:"order-table-header"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中",target:".order-table",data:t.tableData3,border:"","highlight-current-row":"",height:t.footShow?"700":"782","empty-text":" ","default-sort":{prop:"date",order:"descending"}},on:{select:t.handleSelectRow,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{fixed:"",type:"selection",align:"center",width:"30"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",type:"index",align:"center",label:"序号",width:"45"}}),t._v(" "),t.showTableCell.createtime?a("el-table-column",{attrs:{fixed:"",prop:"createtime",sortable:"",align:"center",label:"下单日",width:"80"}}):t._e(),t._v(" "),t.showTableCell.outorderid?a("el-table-column",{attrs:{fixed:"",prop:"outorderid",align:"center",label:"客户订单号",width:"133"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"span-font"},[t._v(t._s(e.row.outorderid))])]}}])}):t._e(),t._v(" "),t.showTableCell.productname?a("el-table-column",{attrs:{fixed:"",prop:"productname",align:"center",label:"产品名称",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"order-table-lineheight"},[t._v(t._s(e.row.productname))])]}}])}):t._e(),t._v(" "),t.showTableCell.productmodel?a("el-table-column",{attrs:{fixed:"",prop:"productmodel",align:"center",label:"产品型号",width:"155"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"price-box",on:{click:function(a){t.drawingShowFuc(e.row)}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:1==e.row.ispicture,expression:"scope.row.ispicture==1"}],staticClass:"icon-photo"}),t._v(" "),a("div",{staticClass:"icon-tip-box"},[a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.row.isurgent,expression:"scope.row.isurgent==1"}],staticClass:"icon-urgent"},[t._v("加急")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.row.repeatamount>1,expression:"scope.row.repeatamount>1"}],staticClass:"icon-repetition bgc2"},[t._v("重复")])]),t._v(" "),a("span",{staticClass:"font-color order-table-lineheight"},[t._v(t._s(e.row.productmodel))])])]}}])}):t._e(),t._v(" "),t.showTableCell.orderamount?a("el-table-column",{attrs:{fixed:"",prop:"orderamount",align:"center",sortable:"",label:"订单数量",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticClass:"table-input",attrs:{debounce:100,controls:!1,disabled:1==e.row.orderitemstatus,min:0,max:9999999},on:{change:function(a){t.inputChange(e.row)}},model:{value:e.row.orderamount,callback:function(t){e.row.orderamount=t},expression:"scope.row.orderamount"}})]}}])}):t._e(),t._v(" "),t.showTableCell.planamount?a("el-table-column",{attrs:{fixed:"",prop:"planamount",align:"center",sortable:"",label:"计划数量",width:"90","class-name":"bgcolor"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticClass:"table-input",attrs:{debounce:100,controls:!1,disabled:1==e.row.orderitemstatus,min:0,max:9999999},on:{change:function(a){t.inputChange(e.row)}},model:{value:e.row.planamount,callback:function(t){e.row.planamount=t},expression:"scope.row.planamount"}})]}}])}):t._e(),t._v(" "),t.showTableCell.deliverydatetime?a("el-table-column",{attrs:{fixed:"",prop:"deliverydatetime",align:"center",sortable:"",label:"交货日期",width:"140","class-name":"bgcolor"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-date-picker",{staticClass:"table-date",attrs:{type:"date",disabled:1==e.row.orderitemstatus,clearable:!1,size:"small",editable:"",placeholder:"选择日期",format:"yyyy-MM-dd","picker-options":t.pickerOptions},on:{change:t.deliverydatetimeChange},model:{value:e.row.deliverydatetime,callback:function(t){e.row.deliverydatetime=t},expression:"scope.row.deliverydatetime"}}),t._v(" "),a("div",{staticClass:"icon-tip-box"},[a("span",{staticClass:"icon-repetition",class:e.row.dateDiff.name},[t._v(t._s(e.row.dateDiff.num))])])]}}])}):t._e(),t._v(" "),t.showTableCell.inorderid?a("el-table-column",{attrs:{prop:"inorderid",align:"center",sortable:"",label:"跟单号",width:"110"}}):t._e(),t._v(" "),t.showTableCell.serialno?a("el-table-column",{attrs:{prop:"serialno",align:"center",label:"产品序号",width:"70"}}):t._e(),t._v(" "),t.showTableCell.clientname?a("el-table-column",{attrs:{prop:"clientname",align:"center",label:"客户名称",width:"237"}}):t._e(),t._v(" "),t.showTableCell.price?a("el-table-column",{attrs:{prop:"price",align:"center",sortable:"",label:"单价",width:"75","class-name":"bgcolor"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticClass:"table-input table-input-price",attrs:{disabled:1==e.row.orderitemstatus,min:0},on:{change:function(a){t.inputChange(e.row)},blur:function(a){t.checkPrice(e.row.price)}},model:{value:e.row.price,callback:function(t){e.row.price=t},expression:"scope.row.price"}})]}}])}):t._e(),t._v(" "),t.showTableCell.totle?a("el-table-column",{attrs:{prop:"totle",align:"center",sortable:"",label:"总金额",width:"75"}}):t._e(),t._v(" "),t.showTableCell.technologyroute?a("el-table-column",{attrs:{prop:"technologyroute",align:"center",label:"工艺路线",width:"330","class-name":"bgcolor"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-input",{staticClass:"table-input table-technologyroute-input",attrs:{disabled:1==e.row.orderitemstatus,placeholder:""},on:{change:function(a){t.inputChange(e.row)}},model:{value:e.row.technologyroute,callback:function(t){e.row.technologyroute=t},expression:"scope.row.technologyroute"}}),t._v(" "),a("span",{staticClass:"icon iconfont icon-jiagong technologyroute-icon",on:{click:function(a){t.showTechnologyroute(e.row)}}})],1)]}}])}):t._e(),t._v(" "),t.showTableCell.technologyamount?a("el-table-column",{attrs:{prop:"technologyamount",align:"center",sortable:"",label:"工序数",width:"76","class-name":"bgcolor"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"font-color",on:{click:function(a){t.preogressShowFuc(e.row)}}},[t._v(t._s(e.row.technologyamount))])]}}])}):t._e(),t._v(" "),t.showTableCell.completepercent?a("el-table-column",{attrs:{prop:"completepercent",align:"center",sortable:"",label:"工艺路线完成比",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"completePercent"},[t._v(t._s(e.row.completepercent))]),t._v(" "),a("span",{staticClass:"bgpercent",style:{width:e.row.completepercent}}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"})]}}])}):t._e(),t._v(" "),t.showTableCell.technologyname?a("el-table-column",{attrs:{prop:"technologyfullname",align:"center",label:"当前流程名称",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"price-box"},[a("div",{staticClass:"icon-tip-box"},[a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.row.isout,expression:"scope.row.isout==1"}],staticClass:"icon-urgent"},[t._v("外协")])]),t._v(" "),a("span",{staticClass:"font-size order-table-lineheight"},[a("span",{directives:[{name:"show",rawName:"v-show",value:!e.row.sequenceShow,expression:"!scope.row.sequenceShow"}]},[t._v(t._s(e.row.sequence)+"-")]),t._v(t._s(e.row.technologyfullname))])])]}}])}):t._e(),t._v(" "),t.showTableCell.completeamount?a("el-table-column",{attrs:{prop:"completeamount",align:"center",label:"完成数量",width:"70","class-name":"bgcolor"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticClass:"table-input",attrs:{min:0,max:9999999,debounce:100,disabled:1==e.row.orderitemstatus,controls:!1},on:{change:function(a){t.inputChange(e.row)}},model:{value:e.row.completeamount,callback:function(t){e.row.completeamount=t},expression:"scope.row.completeamount"}})]}}])}):t._e(),t._v(" "),t.showTableCell.qualifiedamount?a("el-table-column",{attrs:{prop:"qualifiedamount",align:"center",label:"合格数量",width:"70","class-name":"bgcolor"},on:{change:function(e){t.inputChange(t.scope.row)}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticClass:"table-input",attrs:{min:0,max:9999999,disabled:1==e.row.orderitemstatus,debounce:100,controls:!1},on:{change:function(a){t.inputChange(e.row)}},model:{value:e.row.qualifiedamount,callback:function(t){e.row.qualifiedamount=t},expression:"scope.row.qualifiedamount"}})]}}])}):t._e(),t._v(" "),t.showTableCell.technologystatus?a("el-table-column",{attrs:{prop:"technologystatus",align:"center",label:"状态",width:"97","class-name":"bgcolor"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticClass:"search-item-input",attrs:{disabled:1==e.row.orderitemstatus,placeholder:"请选择","popper-class":"text-center"},model:{value:e.row.technologystatus,callback:function(t){e.row.technologystatus=t},expression:"scope.row.technologystatus"}},t._l(t.technologyitemstatus,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))]}}])}):t._e(),t._v(" "),t.showTableCell.completePercent?a("el-table-column",{attrs:{prop:"completePercent",align:"center",label:"完成比例",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"completePercent"},[t._v(t._s(e.row.completePercent))]),t._v(" "),a("span",{staticClass:"bgpercent",style:{width:e.row.completePercent}}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"}),t._v(" "),a("span",{staticClass:"bgline"})]}}])}):t._e(),t._v(" "),t.showTableCell.lasttime?a("el-table-column",{attrs:{prop:"lasttime",align:"center",sortable:"",label:"最近操作时间",width:"145"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("span",[t._v(t._s(t._f("formatLasttime")(e.row.lasttime)))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.row.logcount>0,expression:"scope.row.logcount>0"}],staticClass:"lasttime-tip"},[t._v(t._s(e.row.logcount))])])]}}])}):t._e(),t._v(" "),t.showTableCell.remark?a("el-table-column",{attrs:{prop:"remark",align:"center",label:"备注",width:"140","class-name":"bgcolor"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{attrs:{content:e.row.remark,placement:"top",disabled:!0}},[a("el-input",{staticClass:"table-input table-input-price",attrs:{type:"textarea",autosize:"",disabled:1==e.row.orderitemstatus},on:{change:function(a){t.inputChange(e.row)}},model:{value:e.row.remark,callback:function(t){e.row.remark=t},expression:"scope.row.remark"}})],1)]}}])}):t._e()],1),t._v(" "),t.orderEmptyTip?a("div",{staticClass:"order-empty"},[a("p",{directives:[{name:"show",rawName:"v-show",value:t.EmptyTip,expression:"EmptyTip"}]},[a("i",{staticClass:"order-empty-icon"}),t._v("还未导入订单，\n          "),a("span",{staticClass:"font-color",on:{click:function(e){t.dialogUploadorder=!0}}},[t._v("立即导入订单！")])]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.EmptyTip,expression:"!EmptyTip"}]},[a("i",{staticClass:"el-icon-information empty-icon-info"}),t._v("抱歉，没有匹配的结果")])]):t._e()],1)]),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-center"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.footShow,expression:"footShow"}],staticClass:"order-foot"},[t.orderstatistics.length>0?a("v-foot",{attrs:{orderstatistics:t.orderstatistics}}):t._e(),t._v(" "),a("div",{staticClass:"btn-foot-close",on:{click:function(e){t.footShow=!1}}},[a("i",{staticClass:"el-icon-close"})])],1)]),t._v(" "),a("div",{staticClass:"tipbox"},[a("el-dialog",{staticClass:"dialog-upload",attrs:{title:"导入订单",visible:t.dialogUploadorder},on:{"update:visible":function(e){t.dialogUploadorder=e}}},[a("v-uploadorder",{attrs:{uploadPrams:t.uploadPrams},on:{listenUploadorder:t.Uploadorder}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogTechnologyroute,expression:"dialogTechnologyroute"}],staticClass:"shade-box"}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogTechnologyroute,expression:"dialogTechnologyroute"}],staticClass:"router-warrper",attrs:{id:"moveRouter"}},[a("div",{staticClass:"el-dialog__header",attrs:{id:"moveTitle"}},[a("span",{staticClass:"el-dialog__title"},[t._v("工艺路线")]),t._v(" "),a("span",{staticClass:"el-dialog__close el-icon el-icon-close",on:{click:function(e){e.stopPropagation(),t.dialogTechnologyroute=!t.dialogTechnologyroute}}})]),t._v(" "),t.dialogTechnologyroute?a("div",[a("v-technologyroute",{attrs:{TechnologyrouteInfo:t.TechnologyrouteInfo},on:{listenTechnologyroute:t.Technologyroute}})],1):t._e()])],1),t._v(" "),a("v-productDetail",{attrs:{Obj:t.getOrderList,productDetailData:t.productDetailData,drawingData:t.drawingData,progressData:t.progressData,recordData:t.recordData},on:{connect:t.connect,"update:Obj":function(e){t.getOrderList=e},"update:productDetailData":function(e){t.productDetailData=e},"update:drawingData":function(e){t.drawingData=e},"update:recordData":function(e){t.recordData=e}}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contact"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.custcontactlist,border:"","max-height":"600"}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"50","label-class-name":"tableIndex","class-name":"tableIndex"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"姓名","min-width":"106"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sex",align:"center",label:"性别","min-width":"78"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("checkSex")(e.row.sex)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"department",align:"center",label:"部门","min-width":"137"}}),t._v(" "),a("el-table-column",{attrs:{prop:"post",align:"center",label:"职务",width:"173"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bizlocation",align:"center",label:"业务地点","min-width":"304"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",align:"center",label:"固定电话","min-width":"152"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",align:"center",label:"移动电话","min-width":"153"}},[t._v(">")]),t._v(" "),a("el-table-column",{attrs:{prop:"fax",align:"center",label:"传真","min-width":"162"}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",align:"center",label:"电子邮箱","min-width":"214"}}),t._v(" "),a("el-table-column",{attrs:{prop:"im",align:"center",label:"QQ","min-width":"144"}}),t._v(" "),a("el-table-column",{attrs:{prop:"isdefault",align:"center",label:"默认",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0",disabled:"",checked:1==e.row.isdefault},model:{value:e.row.isdefault,callback:function(t){e.row.isdefault=t},expression:"scope.row.isdefault"}},[t._v("是")])]}}])})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"print-box",attrs:{loading:t.loading}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[a("v-header"),t._v(" "),a("div",{staticClass:"header"},[a("el-button",{staticClass:"print-btn",on:{click:t.movedown}},[t._v("无不干胶纸")]),t._v(" "),a("el-button",{staticClass:"print-btn",on:{click:t.moveup}},[t._v("有不干胶纸")]),t._v(" "),a("el-button",{staticClass:"print-btn",on:{click:t.print}},[t._v("打印")])],1)],1),t._v(" "),a("div",{staticClass:"print-warper"},[a("div",{staticClass:"lists-box"},[t._l(t.moveList,function(e){return t.moveList.length>0?a("div",{staticClass:"print-item"}):t._e()}),t._v(" "),t._l(t.list,function(e,i){return a("div",{staticClass:"print-item"},[a("div",{staticClass:"print-left"},[a("p",{staticClass:"print-number"},[t._v(t._s(e.inorderid))]),t._v(" "),a("img",{staticClass:"item-pic",attrs:{src:e.erweimaurl,alt:"",width:"106",height:"106"}}),t._v(" "),a("p",{staticClass:"print-number"},[t._v(t._s(e.serialno))])]),t._v(" "),a("div",{staticClass:"print-right"},[a("ul",{staticClass:"print-item-table"},[a("li",{staticClass:"item-table item-table-title"},[t._v("产品名称")]),t._v(" "),a("li",{staticClass:"item-table item-table-des"},[t._v(t._s(e.productname)+" ")])]),t._v(" "),a("ul",{staticClass:"print-item-table"},[a("li",{staticClass:"item-table item-table-title"},[t._v("产品型号")]),t._v(" "),a("li",{staticClass:"item-table item-table-des"},[t._v(t._s(e.productmodel))])]),t._v(" "),a("ul",{staticClass:"print-item-table"},[a("li",{staticClass:"item-table item-table-title"},[t._v("工艺路线 ")]),t._v(" "),a("li",{staticClass:"item-table item-table-des"},[t._v(t._s(e.technologyroute))])]),t._v(" "),a("ul",{staticClass:"print-item-table"},[a("li",{staticClass:"item-table item-table-title"},[t._v("计划数量")]),t._v(" "),a("li",{staticClass:"item-table item-table-des"},[t._v(t._s(e.planamount))])]),t._v(" "),a("ul",{staticClass:"print-item-table"},[a("li",{staticClass:"item-table item-table-title"},[t._v("订单数量")]),t._v(" "),a("li",{staticClass:"item-table item-table-des"},[t._v(t._s(e.orderamount))])]),t._v(" "),a("ul",{staticClass:"print-item-table"},[a("li",{staticClass:"item-table item-table-title"},[t._v("交货日期")]),t._v(" "),a("li",{staticClass:"item-table item-table-des"},[t._v(t._s(t._f("formattime")(e.deliverydatetime)))])])])])})],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ident"},[a("div",{staticClass:"left"},[t._m(0),t._v(" "),a("div",{staticClass:"upload-box"},[a("span",{staticClass:"upload-title"},[t._v("营业执照")]),t._v(" "),t.cardauthenticate.Businesslicense.url?a("img",{staticClass:"upload-img",attrs:{src:t.cardauthenticate.Businesslicense.url,width:"68",height:"68"}}):t._e(),t._v(" "),a("el-upload",{staticClass:"upload-inline",attrs:{action:t.actionUrl,"list-type":"picture-card",disabled:!0}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),a("div",{staticClass:"upload-box"},[a("span",{staticClass:"upload-title"},[t._v("代理证")]),t._v(" "),t.cardauthenticate.AgentCard.url?a("img",{staticClass:"upload-img",attrs:{src:t.cardauthenticate.AgentCard.url,width:"68",height:"68"}}):t._e(),t._v(" "),a("el-upload",{staticClass:"upload-inline",attrs:{action:t.actionUrl,disabled:!0,"list-type":"picture-card","on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),a("div",{staticClass:"upload-box"},[a("span",{staticClass:"upload-title"},[t._v("其他")]),t._v(" "),t.cardauthenticate.CardOther.url?a("img",{staticClass:"upload-img",attrs:{src:t.cardauthenticate.CardOther.url,alt:t.cardauthenticate.CardOther.name,width:"68",height:"68"}}):t._e(),t._v(" "),a("el-upload",{staticClass:"upload-inline",attrs:{action:t.actionUrl,disabled:!0,"list-type":"picture-card","on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)]),t._v(" "),a("div",{staticClass:"right"},[t._m(1),t._v(" "),a("div",{staticClass:"upload-box"},[a("span",{staticClass:"upload-title"},[t._v("ISO9001")]),t._v(" "),a("el-upload",{staticClass:"upload-inline",attrs:{action:t.actionUrl,disabled:!0,"list-type":"picture-card","on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),a("div",{staticClass:"upload-box"},[a("span",{staticClass:"upload-title"},[t._v("IS16949")]),t._v(" "),a("el-upload",{staticClass:"upload-inline",attrs:{action:t.actionUrl,disabled:!0,"list-type":"picture-card","on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),a("div",{staticClass:"upload-box"},[a("span",{staticClass:"upload-title"},[t._v("ISO14001")]),t._v(" "),a("el-upload",{staticClass:"upload-inline",attrs:{action:t.actionUrl,"list-type":"picture-card",disabled:!0,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),a("div",{staticClass:"upload-box"},[a("span",{staticClass:"upload-title"},[t._v("其他")]),t._v(" "),a("el-upload",{staticClass:"upload-inline",attrs:{action:t.actionUrl,"list-type":"picture-card",disabled:!0,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"ident-title"},[a("span",[t._v("认证信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"ident-title"},[a("span",[t._v("体系认证")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-box"},[a("div",{staticClass:"header-left f_l",on:{click:t.toHome}},[a("p",{staticClass:"company-name"},[a("i",{staticClass:"icon iconfont icon-qiye"}),t._v(t._s(t.companyname))])]),t._v(" "),a("div",{staticClass:"user-info f_r txt_r"},[a("ul",{staticClass:"user-navbar f_r"},[t._m(0),t._v(" "),a("li",{staticClass:"navbar-item"},[a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.username))]),t._v(" "),t._m(1)]),t._v(" "),a("li",{staticClass:"navbar-item",on:{click:t.Logout}},[a("span",{staticClass:"logout"},[t._v("退出")])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"navbar-item"},[a("span",{staticClass:"icon iconfont icon-touxiang"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"dropdown-menu"},[a("li",[t._v("设置")]),t._v(" "),a("li",[t._v("修改密码")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"equipmentList-container"},[a("div",{staticClass:"search-form"},[a("el-form",{ref:"searchForm",staticClass:"demo-ruleForm",attrs:{model:t.searchForm,"label-width":"100px"}},[a("div",{staticClass:"search-form-left inblock"},[a("el-form-item",{attrs:{label:"设备类型",prop:"devicetype"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.searchForm.devicetype,callback:function(e){t.searchForm.devicetype=e},expression:"searchForm.devicetype"}},t._l(t.options.devicetype,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"设备名称",prop:"devicename"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.searchForm.devicename,callback:function(e){t.searchForm.devicename=e},expression:"searchForm.devicename"}},t._l(t.options.devicename,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-collapse-transition",[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],attrs:{label:"供应商名称",prop:"suppliername"}},[a("el-input",{staticClass:"width",attrs:{placeholder:"请输入"},model:{value:t.searchForm.suppliername,callback:function(e){t.searchForm.suppliername=e},expression:"searchForm.suppliername"}})],1)],1),t._v(" "),a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}]},[a("el-form-item",{attrs:{label:"设备型号",prop:"devicemodel"}},[a("el-input",{staticClass:"width",attrs:{placeholder:"请输入"},model:{value:t.searchForm.devicemodel,callback:function(e){t.searchForm.devicemodel=e},expression:"searchForm.devicemodel"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备品牌",prop:"devicebrand"}},[a("el-input",{staticClass:"width",attrs:{placeholder:"请输入"},model:{value:t.searchForm.devicebrand,callback:function(e){t.searchForm.devicebrand=e},expression:"searchForm.devicebrand"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备精度",prop:"deviceprecision"}},[a("el-select",{staticClass:"width",attrs:{multiple:"",placeholder:"请选择"},model:{value:t.deviceprecision,callback:function(e){t.deviceprecision=e},expression:"deviceprecision"}},t._l(t.options.deviceprecision,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"加工精密度",prop:"deviceprecisiondegree"}},[a("el-select",{staticClass:"width",attrs:{multiple:"",placeholder:"请选择"},model:{value:t.deviceprecisiondegree,callback:function(e){t.deviceprecisiondegree=e},expression:"deviceprecisiondegree"}},t._l(t.options.deviceprecisiondegree,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"启用日期"}},[a("el-date-picker",{staticClass:"width",attrs:{type:"daterange",editable:!1,placeholder:"选择日期范围"},on:{change:t.changeWorktime},model:{value:t.worktime,callback:function(e){t.worktime=e},expression:"worktime"}})],1)],1)])],1),t._v(" "),a("div",{staticClass:"search-form-right inblock va-top"},[a("el-form-item",{staticClass:"mg-b0 btnGroup"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitSearchForm()}}},[a("i",{staticClass:"el-icon-search"}),t._v(" 查询 ")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],on:{click:function(e){t.resetSearchForm("searchForm")}}},[t._v("重置")]),t._v(" "),a("el-button",{staticClass:"spreadbtn",attrs:{type:"text"},on:{click:function(e){t.open=!t.open}}},[t._v("展开\n                        "),a("i",{staticClass:"el-icon-d-arrow-left icon-spread",class:[t.open?"icon-arrow-up":"icon-arrow-down"]})])],1)],1)])],1),t._v(" "),a("div",{staticClass:"content mg-t30"},[a("div",{staticClass:"mg-b30"},[a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.handRefresh}},[t._v("刷新")]),t._v(" "),a("el-button",{staticClass:"button",on:{click:t.ClickExport}},[t._v("导出")])],1),t._v(" "),a("el-table",{staticClass:"content-table mg-r30",staticStyle:{width:"100%","min-height":"594px"},attrs:{data:t.tableData,border:"",resizable:"","row-class-name":t.rowBackground,"highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center","label-class-name":"tableIndex","class-name":"tableIndex"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.$index-t.currentPageSize+1+t.currentPage*t.currentPageSize))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"suppliername",label:"供应商名称","min-width":"214",align:"center","class-name":"flagColumn","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.suppliername?e.row.suppliername:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"devicetype",label:"设备类型","min-width":"118",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.devicetype?e.row.devicetype:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"devicename",label:"设备名称","min-width":"148",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.devicename?e.row.devicename:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"devicemodel",label:"设备型号","min-width":"157",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.devicemodel?e.row.devicemodel:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"devicebrand",label:"设备品牌","min-width":"205",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.devicebrand?e.row.devicebrand:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"deviceqty",label:"设备台数","min-width":"118",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.deviceqty?e.row.deviceqty:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"deviceprecision",label:"设备精度","min-width":"187",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.deviceprecision?e.row.deviceprecision:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"deviceprecisiondegree",label:"加工精密度","min-width":"187",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.deviceprecisiondegree?e.row.deviceprecisiondegree:"--"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"worktime",label:"启用时间","min-width":"178",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.worktime?e.row.worktime:"--"))]}}])})],1),t._v(" "),a("div",{staticClass:"page-style text-right"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.currentPageSize,layout:"prev, pager, next,sizes, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"businesss"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.supplierbusiness,"label-position":"left"}},[a("div",{staticClass:"left"},[a("el-form-item",{attrs:{label:"主营品牌","label-width":"83px"}},[a("div",{on:{click:t.Showbrandslist}},[a("el-input",{staticClass:"info-input",attrs:{placeholder:"",readonly:!0},model:{value:t.sellbrand,callback:function(e){t.sellbrand=e},expression:"sellbrand"}})],1)]),t._v(" "),a("el-form-item",{attrs:{label:"主营行业","label-width":"83px"}},[a("el-cascader",{staticClass:"info-cascader",attrs:{options:t.suppliertradesList,filterable:!0,clearable:!0,"change-on-select":"",props:{value:"id",label:"text",children:"children"}},on:{change:t.handleChange},model:{value:t.supplierbusiness.businesstrade,callback:function(e){t.supplierbusiness.businesstrade=e},expression:"supplierbusiness.businesstrade"}})],1)],1),t._v(" "),a("div",{staticClass:"right"},[a("el-form-item",{staticClass:"product-item-product",attrs:{label:"主营产品","label-width":"83px",id:"product-item-product"}},[a("div",{on:{click:function(e){e.stopPropagation(),t.Showsellproduct(e)}}},[a("el-input",{ref:"product",staticClass:"info-input-textarea",attrs:{type:"textarea",autosize:"",autosize:{minRows:1,maxRows:7}},nativeOn:{keyup:function(e){t.checkProduct("product")}},model:{value:t.categoryname,callback:function(e){t.categoryname=e},expression:"categoryname"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.sellproductShow,expression:"sellproductShow"}],staticClass:"sellproduct-box"},[a("el-tree",{ref:"tree2",staticClass:"sellproduct-tree",attrs:{data:t.sellproductList,"node-key":"id","show-checkbox":"","filter-node-method":t.filterNode,accordion:!0,props:{label:"text",children:"children"}},on:{"check-change":t.checkChange}})],1)])],1)]),t._v(" "),a("div",{staticClass:"bussiness-table"},[a("el-table",{staticStyle:{width:"1130px"},attrs:{data:t.supplierbusinessList,border:"","max-height":"600"},on:{"selection-change":t.businessSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",selectable:t.selectable}}),t._v(" "),a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"linkname",align:"center",label:"客户名称",width:"330"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-autocomplete",{staticClass:"info-input",attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:"请输入客户名称",props:{value:"name",label:"name"},disabled:e.row.disable},on:{select:t.handleSelect},model:{value:e.row.partnername,callback:function(t){e.row.partnername=t},expression:"scope.row.partnername"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"businesstrade",align:"center",label:"客户行业",width:"330"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"请选择",disabled:e.row.disable},model:{value:e.row.industryid,callback:function(t){e.row.industryid=t},expression:"scope.row.industryid"}},t._l(t.AllCusttrades,function(t){return a("el-option",{key:t.id,staticClass:"info-cascader",attrs:{label:t.name,value:t.id}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"department",align:"center",label:"客户主营产品",width:"349"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"info-input-textarea",attrs:{type:"textarea",autosize:"",autosize:{minRows:1,maxRows:7},placeholder:"请输入客户主营产品",disabled:t.row.disable},model:{value:t.row.brandname,callback:function(e){t.row.brandname=e},expression:"scope.row.brandname"}})]}}])})],1),t._v(" "),a("div",{staticClass:"table-btn"},[a("el-button",{staticClass:"btn-w30",attrs:{type:"text"},on:{click:t.addRow}},[a("i",{staticClass:"icon iconfont icon-tianjia"}),t._v(" 添加行")]),t._v(" "),a("el-button",{staticClass:"btn-w30",attrs:{type:"text"},on:{click:t.removeRow}},[a("i",{staticClass:"icon iconfont icon-shanchu4"}),t._v(" 删除行")])],1),t._v(" "),a("div",{staticClass:"table-btn"},[a("el-button",{staticClass:"btn-w80",attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1),t._v(" "),a("div",{staticClass:"dialog"},[a("el-dialog",{attrs:{title:"选择品牌",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("div",{staticClass:"brand-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.brandFrom}},[a("el-form-item",{attrs:{label:"简称"}},[a("el-input",{attrs:{placeholder:"请输入简称"},model:{value:t.brandFrom.simply,callback:function(e){t.brandFrom.simply=e},expression:"brandFrom.simply"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"名称","label-width":"50px"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:t.brandFrom.name,callback:function(e){t.brandFrom.name=e},expression:"brandFrom.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"brand-btn-box"},[a("el-button",{staticClass:"brand-btn",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")]),t._v(" "),a("el-button",{staticClass:"brand-btn",attrs:{type:"primary"},on:{click:t.onResult}},[t._v("确定")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"singleTable",staticClass:"brand-list",attrs:{data:t.brandList,"max-height":"400",border:"","highlight-current-row":""},on:{"row-click":t.handleClickChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",width:"45",label:"序号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"simply",label:"简称",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"名称",width:"110",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"company",label:"经营公司",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"state",label:"状态",width:"55",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.state))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"website",label:"网站",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:"http://"+e.row.website,target:"_blank"}},[t._v(t._s(e.row.website))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"introduction",label:"介绍",width:"118",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"brand-introduction",attrs:{type:"textarea",rows:2,readonly:!0,value:t.row.introduction}})]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"logo",label:"logo",width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{directives:[{name:"show",rawName:"v-show",value:null!=t.row.logo,expression:"scope.row.logo != null"}],attrs:{src:t.row.logo,alt:"",width:"120",height:"40"}})]}}])})],1),t._v(" "),a("div",{staticClass:"page-warrpe"},[a("el-pagination",{staticClass:"page-box",attrs:{"current-page":t.brandFrom.pageindex,"page-sizes":t.page_sizes,layout:"prev, pager, next,sizes, jumper",total:t.Total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customer-container"},[a("div",{staticClass:"search-form"},[a("el-form",{ref:"searchForm",staticClass:"demo-ruleForm",attrs:{model:t.searchForm,"label-width":"100px"}},[a("div",{staticClass:"search-form-left inblock"},[a("el-form-item",{attrs:{label:"客户编码",prop:"number"}},[a("el-input",{staticClass:"width",attrs:{placeholder:"请输入"},model:{value:t.searchForm.number,callback:function(e){t.searchForm.number=e},expression:"searchForm.number"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"客户名称",prop:"name"}},[a("el-input",{staticClass:"width",attrs:{placeholder:"请输入"},model:{value:t.searchForm.name,callback:function(e){t.searchForm.name=e},expression:"searchForm.name"}})],1),t._v(" "),a("el-collapse-transition",[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],attrs:{label:"单据状况",prop:"documentstatus"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.searchForm.documentstatus,callback:function(e){t.searchForm.documentstatus=e},expression:"searchForm.documentstatus"}},t._l(t.options.documentstatus,function(t){return a("el-option",{key:t.number,attrs:{label:t.name,value:t.number}})}))],1)],1),t._v(" "),a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}]},[a("el-form-item",{attrs:{label:"客户代码",prop:"code"}},[a("el-input",{staticClass:"width",attrs:{placeholder:"请输入"},model:{value:t.searchForm.code,callback:function(e){t.searchForm.code=e},expression:"searchForm.code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否有交易",prop:"istrade"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.searchForm.istrade,callback:function(e){t.searchForm.istrade=e},expression:"searchForm.istrade"}},t._l(t.options.istrade,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"禁用状态",prop:"forbidstatus"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.searchForm.forbidstatus,callback:function(e){t.searchForm.forbidstatus=e},expression:"searchForm.forbidstatus"}},t._l(t.options.forbidstatus,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"定量等级",prop:"quantifygradeid"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.searchForm.quantifygradeid,callback:function(e){t.searchForm.quantifygradeid=e},expression:"searchForm.quantifygradeid"}},t._l(t.options.quantifygradeid,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"定性等级",prop:"qualitativegradeid"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.searchForm.qualitativegradeid,callback:function(e){t.searchForm.qualitativegradeid=e},expression:"searchForm.qualitativegradeid"}},t._l(t.options.qualitativegradeid,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticClass:"width",attrs:{type:"daterange",editable:!1,placeholder:"选择日期范围"},on:{change:t.changeCreatedate},model:{value:t.createdate,callback:function(e){t.createdate=e},expression:"createdate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"审核时间"}},[a("el-date-picker",{staticClass:"width",attrs:{type:"daterange",editable:!1,placeholder:"选择日期范围"},on:{change:t.changeApproverdate},model:{value:t.approverdate,callback:function(e){t.approverdate=e},expression:"approverdate"}})],1)],1)])],1),t._v(" "),a("div",{staticClass:"search-form-right inblock va-top"},[a("el-form-item",{staticClass:"mg-b0 btnGroup"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitSearchForm()}}},[a("i",{staticClass:"el-icon-search"}),t._v(" 查询 ")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],on:{click:function(e){t.resetSearchForm("searchForm")}}},[t._v("重置")]),t._v(" "),a("el-button",{staticClass:"spreadbtn",attrs:{type:"text"},on:{click:function(e){t.open=!t.open}}},[t._v("展开\n                        "),a("i",{staticClass:"el-icon-d-arrow-left icon-spread",class:[t.open?"icon-arrow-up":"icon-arrow-down"]})])],1)],1)])],1),t._v(" "),a("div",{staticClass:"content mg-t30"},[a("el-button",{staticClass:"button mg-b30",attrs:{type:"primary"},on:{click:t.handRefresh}},[t._v("刷新")]),t._v(" "),a("el-table",{staticClass:"content-table mg-r30",staticStyle:{width:"100%","min-height":"594px"},attrs:{data:t.tableData,border:"",resizable:"","row-class-name":t.rowBackground,"highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center","label-class-name":"tableIndex","class-name":"tableIndex"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.$index-t.currentPageSize+1+t.currentPage*t.currentPageSize))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"number",label:"客户编码",width:"133",align:"center","class-name":"flagColumn","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.toCustomerDetail(e.row.id,e.row.custname)}}},[t._v(t._s(e.row.number?e.row.number:"--"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"shortname",label:"客户简称",width:"119",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.shortname?e.row.shortname:"--")+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"custname",label:"客户名称","min-width":"231",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.custname?e.row.custname:"--")+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"contactname",label:"联系人","min-width":"138",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.contactname?e.row.contactname:"--")+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"officephone",label:"固定电话","min-width":"162",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.officephone?e.row.officephone:"--")+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"mobilephone",label:"移动电话","min-width":"153",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.mobilephone?e.row.mobilephone:"--")+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"收货地址","min-width":"289",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.address?e.row.address:"--")+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"客户代码","min-width":"162",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.code?e.row.code:"--")+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"forbidstatusname",label:"单据状态","min-width":"119",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.forbidstatusname?e.row.forbidstatusname:"--")+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"documentstatusname",label:"禁用状态","min-width":"116",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.documentstatusname?e.row.documentstatusname:"--")+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"istrade",label:"是否有交易","min-width":"116",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.istrade?e.row.istrade:"--")+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"备注","min-width":"262",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.description?e.row.description:"--")+"\n                ")]}}])})],1),t._v(" "),a("div",{staticClass:"page-style text-right"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.currentPageSize,layout:"prev, pager, next,sizes, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"foot-box"},[a("div",{staticClass:"foot-item"},[a("div",{staticClass:"foot-item-minwidth"},[t._m(0),t._v(" "),a("p",{staticClass:"foot-item-title"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t._v("当月")]),t._v("成交总金额")]),t._v(" "),a("p",{staticClass:"foot-item-total"},[t._v("¥"+t._s(t.outputorder.totalmoney))])])]),t._v(" "),a("div",{staticClass:"foot-item"},[a("div",{staticClass:"foot-item-minwidth"},[t._m(1),t._v(" "),a("p",{staticClass:"foot-item-title"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t._v("当月")]),t._v("未发货总金额")]),t._v(" "),a("p",{staticClass:"foot-item-total"},[t._v("¥"+t._s(t.outputorder.unsendmoney))])])]),t._v(" "),a("div",{staticClass:"foot-item"},[a("div",{staticClass:"foot-item-minwidth"},[t._m(2),t._v(" "),a("p",{staticClass:"foot-item-title"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t._v("当月")]),t._v("产品款数")]),t._v(" "),a("p",{staticClass:"foot-item-total"},[t._v(t._s(t.outputorder.totalcount))])])]),t._v(" "),a("div",{staticClass:"foot-item"},[a("div",{staticClass:"foot-item-minwidth"},[t._m(3),t._v(" "),a("p",{staticClass:"foot-item-title"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t._v("当月")]),t._v("未完成产品款数")]),t._v(" "),a("p",{staticClass:"foot-item-total"},[t._v(t._s(t.outputorder.unsendcount))])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"foot-item-img"},[a("i",{staticClass:"icon iconfont icon-xiazai foot-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"foot-item-img"},[a("i",{staticClass:"icon iconfont icon-baobiaotongji foot-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"foot-item-img"},[a("i",{staticClass:"icon iconfont icon-shujutongji foot-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"foot-item-img"},[a("i",{staticClass:"icon iconfont icon-shujutongji1 foot-icon font-icon-r"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"technologyroute"},[a("div",{staticClass:"left"},[a("el-input",{staticClass:"left-input",attrs:{placeholder:"关键字",icon:"search","on-icon-click":t.handleIconClick},on:{change:t.inputChange},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),a("ul",{staticClass:"technology-decs"},t._l(t.technologyArr,function(e,i){return a("li",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"item.show"}],class:{active:t.ind===i},attrs:{title:e.technologyname+"("+e.technologyshortname+")"},on:{click:function(a){t.choseTec(e.technologyid,i)}}},[t._v(t._s(e.technologyname)+"（"+t._s(e.technologyshortname)+"）")])}))],1),t._v(" "),a("div",{staticClass:"move-btn"},[a("el-button",{attrs:{icon:"arrow-right"},on:{click:t.moveRight}})],1),t._v(" "),a("div",{staticClass:"right"},[t._m(0),t._v(" "),a("div",{staticClass:"route-box"},[a("div",{staticClass:"line"}),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),t._l(t.addTechnologyArr,function(e,i){return a("ul",{staticClass:"route-lists",class:{active:t.addInd===i}},[a("li",{staticClass:"route-item",class:{fontColor:1==e.isout},on:{click:function(e){t.choseAddTec(i)}}},[t._v(t._s(e.technologyfullname))]),t._v(" "),a("li",{staticClass:"route-item",class:{fontColor:1==e.isout}},[a("el-input",{staticClass:"route-item-input",class:{error:t.addIndError===i},attrs:{autofocus:t.addTechnologyArr.length-1==i,placeholder:""},on:{change:t.planwordChange},model:{value:e.planworkhours,callback:function(t){e.planworkhours=t},expression:"list.planworkhours"}})],1),t._v(" "),a("li",{staticClass:"route-item",on:{click:function(e){t.choseAddTec(i)}}},[a("el-checkbox",{attrs:{checked:1==e.isout,"true-label":"1","false-label":"0"},on:{change:function(e){t.addTechnologyChange()}},model:{value:e.isout,callback:function(t){e.isout=t},expression:"list.isout"}})],1)])})],2)]),t._v(" "),a("div",{staticClass:"operation"},[a("i",{staticClass:"el-icon-caret-top icon-top",on:{click:t.moveUp}}),t._v(" "),a("i",{staticClass:"el-icon-caret-bottom icon-bottom",on:{click:t.moveDown}}),t._v(" "),a("i",{staticClass:"el-icon-delete icon-delete",on:{click:t.datele}})]),t._v(" "),a("div",{staticClass:"route-footer"},[a("el-button",{on:{click:t.result}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.saveRoute}},[t._v("确 定")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"route-lists"},[a("li",{staticClass:"route-item"},[t._v("已选工序")]),t._v(" "),a("li",{staticClass:"route-item"},[t._v("预计工时")]),t._v(" "),a("li",{staticClass:"route-item"},[t._v("是否外协")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"enquirySheetDetailWindow-container",on:{click:t.ClickDiv}},[t.tableData.length>0?a("div",{staticClass:"panel-contant",on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"title pd-l20 mg-b40"},[t._v(t._s(t.tableData[t.i].productcode))]),t._v(" "),a("div",{staticClass:"body pd-l20"},[a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(e){t.Save()}}},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"button",on:{click:function(e){t.cancel()}}},[t._v("取消")]),t._v(" "),a("h4",{staticClass:"mg-b30 mg-t40"},[t._v("询价信息")]),t._v(" "),a("div",{staticClass:"enquiryInfo ai-center spanColor"},[a("div",[a("span",[t._v("产品编码：")]),t._v(t._s(t.tableData[t.i].productcode))]),t._v(" "),a("div",[a("span",[t._v("品牌：")]),t._v(t._s(t.tableData[t.i].productbrand))]),t._v(" "),a("div",[a("span",[t._v("产品型号/SKU：")]),t._v(t._s(t.tableData[t.i].productmodel))]),t._v(" "),a("div",[a("span",[t._v("产品名称：")]),t._v(t._s(t.tableData[t.i].productname))]),t._v(" "),a("div",[a("span",[t._v("附件名/图纸号：")]),t._v(t._s(t.tableData[t.i].attachmentindex))]),t._v(" "),a("div",[a("span",[t._v("询价单位：")]),t._v(t._s(t.tableData[t.i].unit))]),t._v(" "),a("div",[a("span",[t._v("询价数量：")]),t._v(t._s(t.tableData[t.i].orderamount))])]),t._v(" "),a("h4",{staticClass:"mg-b20"},[t._v("报价信息")]),t._v(" "),a("div",{staticClass:"spanColor span100 ai-center"},[a("div",{staticClass:"mg-b10"},[a("span",{staticClass:"inblock w94"},[t._v("是否能做\n                        ")]),t._v(" "),a("el-checkbox",{model:{value:t.tableData[t.i].iscando,callback:function(e){t.tableData[t.i].iscando=e},expression:"tableData[i].iscando"}},[t._v("能做")])],1),t._v(" "),a("div",{staticClass:"mg-b10"},[a("span",{staticClass:"inblock w100"},[t._v("最小订购量")]),t._v(" "),a("el-input-number",{attrs:{min:0,max:9999,debounce:0,step:1},model:{value:t.tableData[t.i].minamount,callback:function(e){t.tableData[t.i].minamount=e},expression:"tableData[i].minamount"}})],1),t._v(" "),a("div",{staticClass:"mg-b10"},[a("span",{staticClass:"inblock w94"},[t._v("货期（天）\n                        "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.tableData[t.i].iscando,expression:"tableData[i].iscando"}],staticClass:"Danger"},[t._v("*")])]),t._v(" "),a("el-input-number",{staticClass:"center-input",class:{"required-input":!(!t.tableData[t.i].iscando||t.tableData[t.i].deliverytime)},attrs:{min:0,max:9999,debounce:0},model:{value:t.tableData[t.i].deliverytime,callback:function(e){t.tableData[t.i].deliverytime=e},expression:"tableData[i].deliverytime"}})],1),t._v(" "),a("div",{staticClass:"mg-b10"},[a("span",{staticClass:"inblock w100"},[t._v("是否包含运费")]),t._v(" "),a("el-checkbox",{model:{value:t.tableData[t.i].issendcost,callback:function(e){t.tableData[t.i].issendcost=e},expression:"tableData[i].issendcost"}},[t._v("包含")])],1),t._v(" "),a("div",{staticClass:"mg-b10"},[a("span",{staticClass:"inblock w94 va-top lh38"},[t._v("未税单价")]),t._v(" "),a("span",{staticClass:"inblock w280"},[a("el-input",{staticStyle:{"margin-bottom":"3px"},attrs:{placeholder:"请输入内容",value:t.tableData[t.i].pricenotax,disabled:!0}}),t._v(" "),a("span",[t._v("系统默认未税单价=材料费+加工费+表面处理")])],1)])]),t._v(" "),a("div",{staticClass:"spanColor ai-center bgdiv mg-b20 relative"},[a("div",{staticClass:"mg-b10"},[a("span",{staticClass:"inblock w94"},[t._v("材料费")]),t._v(" "),a("el-input",{staticClass:"w280",attrs:{type:"text",maxlength:6,placeholder:"请输入单个产品的材料费"},on:{blur:function(e){t.BlurMaterialcost(e)},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"active"))return null;t.KeydownNumber(e)}},model:{value:t.tableData[t.i].materialcost,callback:function(e){t.tableData[t.i].materialcost=e},expression:"tableData[i].materialcost"}})],1),t._v(" "),a("div",{staticStyle:{width:"415px"}},[a("span",{staticClass:"inblock w100 text-center"},[t._v("加工费")]),t._v(" "),a("el-input",{staticClass:"w280 ",attrs:{type:"text",maxlength:6,placeholder:"请输入单个产品的加工费"},on:{blur:function(e){t.BlurWorkcost(e)},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"active"))return null;t.KeydownNumber(e)}},model:{value:t.tableData[t.i].workcost,callback:function(e){t.tableData[t.i].workcost=e},expression:"tableData[i].workcost"}})],1),t._v(" "),a("div",[a("span",{staticClass:"inblock w94"},[t._v("表面处理费")]),t._v(" "),a("el-input",{staticClass:"w280 ",attrs:{type:"text",maxlength:6,placeholder:"请输入单个产品的表面处理费"},on:{blur:function(e){t.BlurDealwithcost(e)},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"active"))return null;t.KeydownNumber(e)}},model:{value:t.tableData[t.i].dealwithcost,callback:function(e){t.tableData[t.i].dealwithcost=e},expression:"tableData[i].dealwithcost"}})],1),t._v(" "),a("div",{attrs:{id:"square"}})]),t._v(" "),a("div",{staticClass:"spanColor ai-center"},[a("div",{staticClass:"mg-b10"},[a("span",{staticClass:"inblock w94"},[t._v("税率")]),t._v(" "),a("el-select",{staticStyle:{width:"280px"},attrs:{placeholder:"请选择"},model:{value:t.tableData[t.i].taxrate,callback:function(e){t.tableData[t.i].taxrate=e},expression:"tableData[i].taxrate"}},t._l(t.optionsRate,function(t){return a("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"mg-b10"},[a("span",{staticClass:"inblock w100"},[t._v("含税单价\n                        "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.tableData[t.i].iscando,expression:"tableData[i].iscando"}],staticClass:"Danger"},[t._v("*")])]),t._v(" "),a("el-input",{staticClass:"w280",class:{"required-input":!(!t.tableData[t.i].iscando||parseFloat(t.tableData[t.i].pricewithtax))},attrs:{type:"text",maxlength:6,disabled:!!parseFloat(t.tableData[t.i].pricenotax),placeholder:"请输入内容"},on:{blur:function(e){t.BlurPricewithtax(e)},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"active"))return null;t.KeydownNumber(e)}},model:{value:t.tableData[t.i].pricewithtax,callback:function(e){t.tableData[t.i].pricewithtax=t._n(e)},expression:"tableData[i].pricewithtax"}})],1),t._v(" "),a("div",[a("span",{staticClass:"inblock w94"},[t._v("含税金额")]),t._v(" "),a("el-input",{staticClass:"w280",attrs:{placeholder:"",disabled:!0},model:{value:t.tableData[t.i].taxamount,callback:function(e){t.tableData[t.i].taxamount=e},expression:"tableData[i].taxamount"}})],1),t._v(" "),a("div",[a("span",{staticClass:"inblock w100"},[t._v("备注")]),t._v(" "),a("el-input",{staticClass:"w280",attrs:{placeholder:"请输入内容",maxlength:100},model:{value:t.tableData[t.i].remark,callback:function(e){t.tableData[t.i].remark=e},expression:"tableData[i].remark"}})],1)])],1)]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-box"},[a("div",{staticClass:"upload-step"},[a("h3",{staticClass:"upload-step-title"},[t._v("第一步：下载模版")]),t._v(" "),a("p",{staticClass:"upload-step-des"},[t._v("将要导入的数据填充到数据导入模板文件中，不可改变模板的格式")]),t._v(" "),a("a",{staticClass:"pointer",on:{click:t.ClickModel}},[t._v("点击下载导入数据模板 ")])]),t._v(" "),a("div",{staticClass:"upload-step"},[a("h3",{staticClass:"upload-step-title"},[t._v("第二步：选择并上传文件")]),t._v(" "),a("p",{staticClass:"upload-step-des"},[t._v("选择填充好数据的模版文件，选中后文件将自动上传")]),t._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t.actionUrl,headers:t.headers,data:t.uploadPrams,name:"excelorder","on-change":t.handleChange,"on-success":t.handleSuccess,"on-error":t.handleError,"on-remove":t.handleremove,"file-list":t.fileList,"before-upload":t.beforeAvatarUpload,"auto-upload":!1}},[a("el-button",{attrs:{type:"primary"},slot:"trigger"},[t._v("上传文件")]),t._v(" "),a("div",{staticClass:"el-upload__tip",slot:"tip"})],1)],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"upload-start"},[a("el-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:t.submitUpload}},[t._v("开始导入")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-step"},[a("h3",{staticClass:"upload-step-title"},[t._v("第三步：开始导入")]),t._v(" "),a("p",{staticClass:"upload-step-des"},[t._v("文件上传完成后，点击下面的“开始导入”按钮开始导入")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("v-header"),t._v(" "),a("div",{staticClass:"app-wrapper",class:{hideSidebar:!t.sidebar}},[a("div",{staticClass:"sidebar-wrapper"},[a("v-nav",{staticClass:"sidebar-container",attrs:{sidebar:t.sidebar},on:{listenSidebar:t.showSidebar}})],1),t._v(" "),a("div",{staticClass:"main-container"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.productDetailData.show,expression:"productDetailData.show"}],staticStyle:{position:"relative"}},[a("div",{staticClass:"productDetail-container"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.productDetailData.currentTab,callback:function(e){t.productDetailData.currentTab=e},expression:"productDetailData.currentTab"}},[a("el-tab-pane",{attrs:{label:"图纸",name:"first",id:"drawing"}},[a("v-drawing",{attrs:{drawingData:t.drawingData},on:{"update:drawingData":function(e){t.drawingData=e}}})],1),t._v(" "),a("el-tab-pane",{staticClass:"progress",attrs:{label:"产品进度",name:"second",id:"progress"}},[a("v-progress",{attrs:{progressData:t.progressData,Obj:t.Obj},on:{"update:progressData":function(e){t.progressData=e},"update:Obj":function(e){t.Obj=e}}})],1)],1),t._v(" "),a("div",{staticClass:"title-name"},[a("div",{staticClass:"cfff ell",attrs:{title:t.productDetailData.productname}},[t._v(t._s(t.productDetailData.productname))]),t._v(" "),a("div",{staticClass:"cfff bold ell",attrs:{title:t.productDetailData.productname}},[t._v(t._s(t.productDetailData.productmodel))])]),t._v(" "),a("i",{staticClass:"el-icon-close header-close",on:{click:t.CloseProductDetail}})],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-box add-supplier-box"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"nav"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/Quotation/quotation"}}},[t._v("报价需求单")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/Quotation/quotationDetail/"+t.$route.params.demandNumber}}},[t._v(t._s(t.$route.params.demandNumber))]),t._v(" "),a("el-breadcrumb-item",[a("div",{staticClass:"suppliername",on:{click:function(e){e.stopPropagation(),t.stop(e)}}},[a("el-input",{staticClass:"nav-input",attrs:{placeholder:"请输入供应商名称"},on:{focus:t.handleFocus,blur:t.handleBlur},model:{value:t.supplierName,callback:function(e){t.supplierName=e},expression:"supplierName"}}),t._v(" "),t.supplierNameShow?a("v-supplierList",{attrs:{supplierData:t.supplierName},on:{listenKeyWord:t.listenSupplierList}}):t._e()],1)])],1)],1)]),t._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"btn-box"},[a("el-button",{attrs:{type:"primary"},on:{click:t.Quotation}},[t._v("报价")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.InfoShow,expression:"!InfoShow"}],staticClass:"icon-slide icon-silde-down",on:{click:function(e){t.InfoShow=!t.InfoShow}}},[a("span",[t._v("展开")]),a("i",{staticClass:"icon-silde-arrow el-icon-d-arrow-left"})])],1),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.InfoShow,expression:"InfoShow"}],staticClass:"tabs-box"},[a("p",{staticClass:"add-supplier-title"},[t._v("基本信息")]),t._v(" "),a("el-card",{staticClass:"tabs-box-card"},[a("div",{staticClass:"info-box info-box-lh"},[a("ul",{staticClass:"info-lists"},[a("li",{staticClass:"info-list"},[a("span",[t._v("询价单号：报价后自动生成")])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("状态："+t._s(t._f("Formatstatus")(t.orderstatus)))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("联系人："+t._s(t._f("checkNull")(t.linkname)))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("联系电话："+t._s(t._f("checkNull")(t.telephone)))])])]),t._v(" "),a("ul",{staticClass:"info-lists"},[a("li",{staticClass:"info-list"},[a("span",[t._v("询价时间："+t._s(t._f("checkNull")(t.creattime)))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("要求报价时间："+t._s(t._f("checkNull")(t.asktime)))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("提醒报价时间："+t._s(t._f("checkNull")(t.remindtime)))])]),t._v(" "),a("li",{staticClass:"info-list"},[a("span",[t._v("实际报价时间："+t._s(t._f("checkNull")(t.facktime)))])])])])]),t._v(" "),a("span",{staticClass:"icon-slide icon-silde-up",on:{click:function(e){t.InfoShow=!t.InfoShow}}},[t._v("收起"),a("i",{staticClass:"icon-silde-arrow el-icon-d-arrow-right"})])],1)]),t._v(" "),a("div",{staticClass:"main-tabs"},[a("p",{staticClass:"add-supplier-title"},[t._v("明细信息")]),t._v(" "),a("div",{staticClass:"main-info"},[a("div",{staticClass:"btn-box"},[a("div",{staticClass:"info-pos"},[a("el-button",{staticClass:"upload-btn",attrs:{type:"primary"},on:{click:t.handleImport}},[t._v("导入导出")]),t._v(" "),a("el-button",{staticClass:"upload-btn",on:{click:t.handleDownload}},[t._v("下载图纸")])],1)]),t._v(" "),a("div",{staticClass:"table-box"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",height:"600"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",type:"index",width:"65",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productcode",label:"产品编码",width:"153"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"span-font c20a0ff",on:{click:function(a){t.showaddDetail(e.row)}}},[t._v(t._s(e.row.productcode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productname",label:"产品名称",width:"153"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"span-font"},[t._v(t._s(e.row.productname))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"unit",label:"询价单位",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"orderamount",label:"询价数量",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"iscando",label:"是否能做",width:"137"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.row.iscando,callback:function(t){e.row.iscando=t},expression:"scope.row.iscando"}},[t._v("能做")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"minamount",label:"最小订购量",width:"137"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-input-number",{staticClass:"table-input",attrs:{debounce:100,controls:!1,max:99999999},model:{value:t.row.minamount,callback:function(e){t.row.minamount=e},expression:"scope.row.minamount"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"deliverytime",label:"货期（天 ）",width:"137"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-input-number",{staticClass:"table-input",attrs:{debounce:100,controls:!1,max:999999},model:{value:t.row.deliverytime,callback:function(e){t.row.deliverytime=e},expression:"scope.row.deliverytime"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"pricenotax",label:"未税单价",width:"137"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"pricenotax-disable",on:{click:function(a){t.openpricenotax(e.row)}}},[a("el-input-number",{staticClass:"table-input",attrs:{disabled:!0,controls:!1},model:{value:e.row.pricenotax,callback:function(t){e.row.pricenotax=t},expression:"scope.row.pricenotax"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"taxrate",label:"税率",width:"115"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticClass:"duty-select",attrs:{placeholder:"请选择"},on:{change:function(a){t.changeTate(e.row)}},model:{value:e.row.taxrate,callback:function(t){e.row.taxrate=t},expression:"scope.row.taxrate"}},t._l(t.dutyRate,function(t){return a("el-option",{key:t.name,attrs:{label:t.text,value:t.name}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"pricewithtax",label:"含税单价",width:"137"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticClass:"table-input",attrs:{debounce:100,controls:!1,disabled:"0"!=e.row.pricenotax,maxlength:t.maxlength8},model:{value:e.row.pricewithtax,callback:function(t){e.row.pricewithtax=t},expression:"scope.row.pricewithtax"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"taxamount",label:"含税金额",width:"137"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"issendcost",label:"是否包含运费",width:"137"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{model:{value:e.row.mark,callback:function(t){e.row.mark=t},expression:"scope.row.mark"}},[t._v("包含")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"备注",width:"260"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"table-input table-input-price",attrs:{type:"textarea",autosize:""},model:{value:t.row.remark,callback:function(e){t.row.remark=e},expression:"scope.row.remark"}})]}}])})],1)],1)])])],1),t._v(" "),t.dialogVisible?a("div",{staticClass:"pricenotax-box"},[a("el-dialog",{staticClass:"pricenotax-dialog",attrs:{visible:t.dialogVisible,size:"tiny","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",{slot:"title"},[t._v(t._s(t.dialogTitle))]),t._v(" "),a("div",{staticClass:"form"},[a("el-form",{attrs:{"label-position":"right","label-width":"90px",model:t.formPricenotax}},[a("el-form-item",{attrs:{label:"材料费",prop:"materialcost"}},[a("el-input",{staticClass:"pricenotax-input",attrs:{maxlength:t.maxlength11},on:{blur:function(e){t.blur(e,"materialcost")}},nativeOn:{keyup:function(e){t.checkValue(e,"materialcost")}},model:{value:t.formPricenotax.materialcost,callback:function(e){t.formPricenotax.materialcost=e},expression:"formPricenotax.materialcost"}}),a("span",{staticClass:"mar-r10"},[t._v("元")])],1),t._v(" "),a("el-form-item",{attrs:{label:"加工费",prop:"workcost"}},[a("el-input",{staticClass:"pricenotax-input",attrs:{maxlength:t.maxlength11},on:{blur:function(e){t.blur(e,"workcost")}},nativeOn:{keyup:function(e){t.checkValue(e,"workcost")}},model:{value:t.formPricenotax.workcost,callback:function(e){t.formPricenotax.workcost=e},expression:"formPricenotax.workcost"}}),a("span",{staticClass:"mar-r10"},[t._v("元")])],1),t._v(" "),a("el-form-item",{attrs:{label:"标明处理费",prop:"dealwithcost"}},[a("el-input",{staticClass:"pricenotax-input",attrs:{maxlength:t.maxlength11},on:{blur:function(e){t.blur(e,"dealwithcost")}},nativeOn:{keyup:function(e){t.checkValue(e,"dealwithcost")}},model:{value:t.formPricenotax.dealwithcost,callback:function(e){t.formPricenotax.dealwithcost=e},expression:"formPricenotax.dealwithcost"}}),a("span",{staticClass:"mar-r10"},[t._v("元")])],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.Result}},[t._v("确 定")])],1)])],1):t._e(),t._v(" "),a("el-dialog",{staticClass:"dialog-upload",attrs:{title:"导入导出",visible:t.dialogUploadorder},on:{"update:visible":function(e){t.dialogUploadorder=e}}},[a("v-uploadorder",{attrs:{uploadPrams:t.uploadPrams},on:{listenaddUploadorder:t.Uploadorder}})],1),t._v(" "),a("transition",{attrs:{name:"el-fade-in-linear"}},[t.quotationDetailShow?a("div",[a("div",{staticClass:"shade-box",on:{click:function(e){t.close("quotationDetailShow")}}}),t._v(" "),a("v-addquotationDetail",{attrs:{quotationDetailObject:t.quotationDetailObject},on:{listenquotationDetail:t.listenquotationDetail}})],1):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"address-container"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.AddressTableData,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center","label-class-name":"tableIndex","class-name":"tableIndex"}}),t._v(" "),a("el-table-column",{attrs:{label:"省","min-width":"108",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.provincename))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"cityname",label:"市","min-width":"108",align:"center","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"countyname",label:"县",align:"center","min-width":"108","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"详细地址",align:"center","min-width":"304","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"联系人",align:"center","min-width":"173","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"固定电话",align:"center","min-width":"126","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"移动电话",align:"center","min-width":"153","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:"电子邮箱",align:"center","min-width":"214","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"默认收货地址",align:"center","min-width":"144","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{disabled:""},model:{value:t.row.address,callback:function(e){t.row.address=e},expression:"scope.row.address"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"启用",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{disabled:""},model:{value:t.row.address,callback:function(e){t.row.address=e},expression:"scope.row.address"}})]}}])})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"progress-container"},[a("div",{staticClass:"table_01"},[a("el-table",{staticStyle:{width:"93%",margin:"0 auto"},attrs:{data:t.progressData.table01Data,border:"","row-style":{height:"31px"},"row-class-name":t.tableRowClassName,"highlight-current-row":!1},on:{"row-click":t.table01RowClick,"current-change":t.currentRowChange}},[a("el-table-column",{attrs:{prop:"sequence",label:"序号","min-width":"75",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.sequence+1)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"technologyname",label:"流程名称","min-width":"90",align:"center","class-name":"relative Secondcolumn"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n            "+t._s(e.row.technologyname)+t._s(e.row.technologyfullname?"（"+e.row.technologyfullname+"）":"")+"\n            "),a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.row.isout,expression:"scope.row.isout == 1"}],staticClass:"icon-urgent"},[t._v("外协")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"planworkhours",label:"预计工时","min-width":"90",align:"center","class-name":"edit"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticClass:"editInput",on:{blur:function(a){t.blurPlanworkhours(e.row,!0,e.$index)}},model:{value:e.row.planworkhours,callback:function(t){e.row.planworkhours=t},expression:"scope.row.planworkhours"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"completeamount",label:"完成数量","min-width":"90",align:"center","class-name":"edit"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{class:{editInput:!0},style:{backgroundColor:"#F8FAFE"},on:{blur:function(a){t.blurCompleteamount(e.row,!0,e.$index)}},model:{value:e.row.completeamount,callback:function(a){e.row.completeamount=t._n(a)},expression:"scope.row.completeamount"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"qualifiedamount",label:"合格数量","min-width":"90",align:"center","class-name":"edit"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{class:{editInput:!0,"Danger-border":e.row.qualifiedamount>e.row.completeamount},style:"--"==e.row.planworkhours?{backgroundColor:"transparent"}:{backgroundColor:"#F8FAFE"},on:{blur:function(a){t.blurQualifiedamount(e.row,!0,e.$index)}},model:{value:e.row.qualifiedamount,callback:function(a){e.row.qualifiedamount=t._n(a)},expression:"scope.row.qualifiedamount"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"technologystatus",label:"状态","min-width":"75",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{"popper-class":"text-center zIndex10003"},on:{change:function(a){t.selectChange(e.row,!0,e.$index)}},model:{value:e.row.technologystatus,callback:function(t){e.row.technologystatus=t},expression:"scope.row.technologystatus"}},[a("el-option",{attrs:{label:"待来料",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"待处理",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"进行中",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"已完成",value:"3"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"completepercent",label:"完成比例","min-width":"130",align:"center","class-name":"scale"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"scaleDiv",style:{width:e.row.completepercent+"%"}},[a("div",[a("span",{staticClass:"lastColumn"},[t._v(t._s(e.row.completepercent+"%"))])])])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("div",{staticClass:"table_02"},[a("el-table",{staticStyle:{width:"93%",margin:"0 auto"},attrs:{data:t.progressData.table02Data,border:"",height:"false","row-style":{height:"31px"},"highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",label:"序号","min-width":"75",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"owner",label:"负责人","min-width":"130",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"completeamount",label:"完成数量","min-width":"130",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{class:{editInput:!0,"transparent-border":!0},style:{backgroundColor:"#F8FAFE"},on:{blur:function(a){t.blurCompleteamount(e.row,!1,e.$index)}},model:{value:e.row.completeamount,callback:function(a){e.row.completeamount=t._n(a)},expression:"scope.row.completeamount"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"qualifiedamount",label:"合格数量","min-width":"130",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{class:{editInput:!0,"Danger-border":e.row.qualifiedamount>e.row.completeamount},style:"--"==e.row.qualifiedamount?{backgroundColor:"transparent"}:{backgroundColor:"#F8FAFE"},attrs:{"data-a":"scope.row.qualifiedamount","data-b":e.row.completeamount},on:{blur:function(a){t.blurQualifiedamount(e.row,!1,e.$index)}},model:{value:e.row.qualifiedamount,callback:function(a){e.row.qualifiedamount=t._n(a)},expression:"scope.row.qualifiedamount"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createtime",label:"录入时间","min-width":"185",align:"center"}})],1)],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.Save}},[t._v("保存数据")])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"login"},[a("div",{staticClass:"bg-color1"}),t._v(" "),a("div",{staticClass:"bg-color2"}),t._v(" "),a("div",{staticClass:"login-box"},[t._m(0),t._v(" "),a("section",{staticClass:"login-form"},[a("p",{staticClass:"login-title"},[t._v("登录")]),t._v(" "),a("el-form",{ref:"loginForm",attrs:{model:t.loginForm,rules:t.rules}},[a("el-form-item",{staticClass:"login-input",attrs:{prop:"moblie"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"手机"},model:{value:t.loginForm.moblie,callback:function(e){t.loginForm.moblie=t._n(e)},expression:"loginForm.moblie"}})],1),t._v(" "),a("el-form-item",{staticClass:"login-input",attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:t.loginForm.password,callback:function(e){t.loginForm.password=e},expression:"loginForm.password"}})],1),t._v(" "),a("div",{staticClass:"login-tip"},[a("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("一周内自动登录")])],1),t._v(" "),a("div",{staticClass:"submit-box"},[a("el-button",{staticClass:"submit-btn",attrs:{type:"primary",loading:t.load},on:{click:function(e){t.submit("loginForm")},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.submit("loginForm")}}},[t._v("登录")])],1)],1)],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-logo"},[a("p",[t._v("订单跟踪系统")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contact"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.suppliercontacts,border:"","max-height":"600"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"66"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",label:"联系人",width:"140"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sex",align:"center",label:"性别",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("checkSex")(e.row.sex)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"department",align:"center",label:"部门",width:"137"}}),t._v(" "),a("el-table-column",{attrs:{prop:"post",align:"center",label:"职务",width:"137"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",align:"center",label:"电话",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",align:"center",label:"手机",width:"153"}},[t._v(">")]),t._v(" "),a("el-table-column",{attrs:{prop:"fax",align:"center",label:"传真",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",align:"center",label:"电子邮箱",width:"214"}}),t._v(" "),a("el-table-column",{attrs:{prop:"im",align:"center",label:"QQ",width:"146"}}),t._v(" "),a("el-table-column",{attrs:{prop:"isdefault",align:"center",label:"默认",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0",checked:1==e.row.isdefault,disabled:""},model:{value:e.row.isdefault,callback:function(t){e.row.isdefault=t},expression:"scope.row.isdefault"}},[t._v("是")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"description",align:"center",label:"描述",width:"300"}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"supplierName-warper",on:{click:function(e){e.stopPropagation(),t.clickStop(e)}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",height:"340","empty-text":"无相关供应商"},on:{"row-click":t.Chose}},[a("el-table-column",{attrs:{type:"index",width:"40",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"number",label:"供应商编码",width:"160",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"供应商名称",width:"500",align:"center"}})],1),t._v(" "),a("div",{staticClass:"page-warrpe"},[a("el-pagination",{staticClass:"page-box",attrs:{"current-page":1,"page-sizes":t.page_sizes,"page-size":t.page_sizes[0],layout:"prev, pager, next,sizes, jumper",total:t.Total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"record-box"},[a("div",{staticClass:"record-container"},[t._l(t.recordData.data,function(e){return a("div",{staticClass:"info-box"},[a("div",{staticClass:"date c999"},[t._v(t._s(t._f("formatDate")(e.operationtime)))]),t._v(" "),a("div",{staticClass:"info"},[a("div",[a("img",{staticClass:"Avatar",attrs:{src:e.img}})]),t._v(" "),a("div",[a("div",{staticClass:"name c333"},[t._v(t._s(e.username))]),t._v(" "),a("div",{staticClass:"info c666",domProps:{innerHTML:t._s(e.operationcentent)}})])])])}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!!(t.recordData&&t.recordData.data.length>=10),expression:" recordData && recordData.data.length >= 10 ? true:false "}],staticClass:"loading"},["没有更多"!=t.RecordLoadingText?a("i",{staticClass:"el-icon-loading"}):t._e(),t._v(" "),a("span",[t._v(t._s(t.RecordLoadingText))])])],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"drawing-box"},[a("div",{staticClass:"drawing-container"},[a("div",{staticClass:"container-up"},[a("div",{staticClass:"drawing-header jc-end"},[a("el-button",{attrs:{disabled:!t.drawingData.ImgUrlArray.length},on:{click:function(e){t.printImg()}}},[t._v("打印图纸")]),t._v(" "),a("el-upload",{ref:"uploadImg",staticClass:"upload-Img",attrs:{name:"uploaddrawingsheet",action:t.uploadActionUrl(),multiple:"",headers:t.headersObj,data:t.uploadData,"show-file-list":!1,"on-change":t.uploadImgChange,"on-progress":t.uploadImgProgress,"on-success":t.uploadImgSuccess,"before-upload":t.uploadImgBefore}},[a("el-button",[t._v("上传图片")])],1),t._v(" "),t.drawingData.ImgUrlArray.length?a("el-upload",{ref:"replaceImg",staticClass:"upload-Img",attrs:{name:"uploaddrawingsheet",action:t.replaceActionUrl(),headers:t.headersObj,data:t.replaceData,"show-file-list":!1,"on-change":t.replaceImgChange,"on-progress":t.replaceImgProgress,"on-success":t.replaceImgSuccess,"before-upload":t.replaceImgBefore}},[a("el-button",[t._v("替换图纸")])],1):a("el-button",{attrs:{disabled:!0}},[t._v("替换图纸")]),t._v(" "),a("el-button",{attrs:{disabled:!t.drawingData.ImgUrlArray.length},on:{click:function(e){t.DetelCurrentImg()}}},[t._v("删除图纸")])],1),t._v(" "),a("div",[a("ul",{staticClass:"el-upload-list el-upload-list--text",staticStyle:{"margin-bottom":"10px"}},[a("transition-group",{attrs:{name:"list",tag:"p"}},t._l(t.uploadImgList,function(e,i){return a("li",{key:e,class:[t.listItem,t.uploadStatus]},[a("a",{staticClass:"el-upload-list__item-name"},[a("i",{staticClass:"el-icon-document"}),t._v(" "),a("span",{staticClass:"ImgName inblock ell va-top"},[t._v(t._s(e.name))])]),t._v(" "),a("label",{staticClass:"el-upload-list__item-status-label"},[a("i",{staticClass:"el-icon-upload-success el-icon-circle-check"})]),t._v(" "),a("i",{staticClass:"el-icon-close",on:{click:function(a){t.clickClose(e,i)}}}),t._v(" "),a("span",{staticClass:"progress-text"},[t._v(t._s(t._f("toInt")(e.percentage)))]),t._v(" "),a("div",{staticClass:"progress-box"},[a("div",{staticClass:"progress-line",style:{width:e.percentage+"%"}})])])}))],1)]),t._v(" "),a("div",{staticClass:"img-box"},[t.drawingData.ImgUrlArray.length?a("img",{attrs:{src:t.drawingData.ImgUrlArray[t.CurrentImgIndex]?t.drawingData.ImgUrlArray[t.CurrentImgIndex].drawingsheet:""}}):a("div",[t._m(0),t._v(" "),a("div",{staticClass:"c999 mg-t10"},[t._v("图纸，按照该大小等比例放到最大")])])]),t._v(" "),a("div",{staticClass:"ImgUrlArray jc-center"},t._l(t.drawingData.ImgUrlArray,function(e,i){return a("img",{class:t.CurrentImgIndex==i?"activeImg":"",attrs:{src:e.drawingsheet},on:{click:function(a){t.choseCurrentImg(e.drawingsheet,i)}}})})),t._v(" "),a("el-input",{attrs:{type:"textarea",maxlength:150,placeholder:"有问题，写备注"},model:{value:t.uploadFileData.remark,callback:function(e){t.uploadFileData.remark=e},expression:"uploadFileData.remark"}}),t._v(" "),a("div",{staticClass:"upload-box"},[a("el-upload",{ref:"uploadFile",staticClass:"upload-file",attrs:{name:"uploaddrawingsheet",action:t.uploadActionUrl(),headers:t.headersObj,data:t.uploadFileData,multiple:!1,"auto-upload":!1,"file-list":t.uploadFileList,"on-change":t.uploadFileChange,"before-upload":t.uploadFileBefore,"on-progress":t.uploadFileProgress,"on-success":t.uploadFileSuccess,"on-error":t.uploadFileError,"on-remove":t.uploadFileRemove}},[a("el-button",{staticClass:"uploadBtn",attrs:{type:"primary"},nativeOn:{click:function(e){t.ClickUploadFileBtn(e)}},slot:"trigger"},[t._v("+ 上传文件")]),t._v(" "),a("div",{staticClass:"upload-abs"},[a("el-button",{attrs:{type:"primary",disabled:!this.FilePercentage||!t.FilePercentage},on:{click:function(e){t.publish()}}},[t._v("发布")])],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"container-line"}),t._v(" "),a("div",{staticClass:"container-down noprint"},[t._l(t.drawingData.uploadRecord,function(e,i){return a("div",{staticClass:"upload-record"},[a("div",{staticClass:"date"},[a("span",[t._v(t._s(t._f("formatDate")(e.creattime)))])]),t._v(" "),a("div",{staticClass:"info-box"},[a("div",{staticClass:"Avatar"},[e.img?a("img",{staticClass:"mg-r20",attrs:{src:e.img}}):a("span",{staticClass:"icon iconfont icon-touxiang mg-r20"})]),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"name"},[t._v(t._s(e.username))]),t._v(" "),a("div",{staticClass:"fs14 c666 mg-b10 word-break"},[t._v(t._s(e.remark))]),t._v(" "),t._m(1,!0),t._v(" "),a("div",[a("a",{staticClass:"c20a0ff word-break",attrs:{href:e.drawingsheet,target:"_blank"}},[t._v(t._s(t._f("getImgName")(e.drawingsheet)))])])])])])}),t._v(" "),a("div",{staticClass:"loading"},["没有更多"!=t.LoadingText?a("i",{staticClass:"el-icon-loading"}):t._e(),t._v(" "),a("span",[t._v(t._s(t.LoadingText))])])],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("i",{staticClass:"el-icon-picture",staticStyle:{"font-size":"100px",color:"#e6e6e7"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fileIcon"},[a("img",{attrs:{src:"/static/icon/file-icon.png"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"willorderInfo-box"},[a("h3",{staticClass:"willorderInfo-title"},[t._v(t._s(t.quotationDetailObject.productcode))]),t._v(" "),a("div",{staticClass:"btn-box"},[a("el-button",{staticClass:"btn-w80",attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"btn-w80",on:{click:t.close}},[t._v("取消")])],1),t._v(" "),a("div",{staticClass:"info-item"},[a("h4",[t._v("询价信息")]),t._v(" "),a("div",{staticClass:"left"},[a("ul",{staticClass:"info"},[a("li",[t._v("产品编码："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t.quotationDetailObject.productcode))])]),t._v(" "),a("li",[t._v("产品型号/SKU："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t.quotationDetailObject.productmodel))])]),t._v(" "),a("li",[t._v("附件名/图纸号："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.quotationDetailObject.attachmentindex)))])]),t._v(" "),a("li",[t._v("询价数量："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.quotationDetailObject.orderamount)))])])])]),t._v(" "),a("div",{staticClass:"right"},[a("ul",{staticClass:"info"},[a("li",[t._v("品牌："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.quotationDetailObject.productbrand)))])]),t._v(" "),a("li",[t._v("产品名称："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.quotationDetailObject.productname)))])]),t._v(" "),a("li",[t._v("询价单位："),a("span",{staticClass:"font-color-5"},[t._v(t._s(t._f("checkNull")(t.quotationDetailObject.unit)))])])])])]),t._v(" "),a("div",{staticClass:"info-item supplier-box"},[a("el-form",{attrs:{model:t.quotationDetailObject,"label-position":"left"}},[a("h4",[t._v("报价信息")]),t._v(" "),a("div",{staticClass:"left"},[a("el-form-item",{staticClass:"required-icon",attrs:{label:"是否能做","label-width":"104px"}},[a("el-checkbox",{staticClass:"info-item-checkbox",attrs:{"true-label":"1","false-label":"0"},model:{value:t.quotationDetailObject.cando,callback:function(e){t.quotationDetailObject.cando=e},expression:"quotationDetailObject.cando"}},[t._v("能做")])],1),t._v(" "),a("el-form-item",{staticClass:"required-icon",attrs:{label:"货期（天）","label-width":"104px"}},[a("el-input-number",{staticClass:"info-item-input-number",attrs:{min:0,debounce:50,max:99999},model:{value:t.quotationDetailObject.deliverytime,callback:function(e){t.quotationDetailObject.deliverytime=e},expression:"quotationDetailObject.deliverytime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"未税单价","label-width":"104px"}},[a("div",{staticClass:"price-warpper"},[a("el-input",{staticClass:"info-item-input",attrs:{disabled:!0},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}}),t._v(" "),a("p",{staticClass:"price-tip"},[t._v("系统默认未税单价=材料费+加工费+表面处理")])],1)])],1),t._v(" "),a("div",{staticClass:"right"},[a("el-form-item",{attrs:{label:"最小订购量","label-width":"97px"}},[a("el-input-number",{staticClass:"info-item-input-number",attrs:{min:0,debounce:50,max:99999999},model:{value:t.quotationDetailObject.minamount,callback:function(e){t.quotationDetailObject.minamount=e},expression:"quotationDetailObject.minamount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否包含运费","label-width":"97px"}},[a("el-checkbox",{staticClass:"info-item-checkbox",attrs:{"true-label":"1","false-label":"0"},model:{value:t.quotationDetailObject.containfreight,callback:function(e){t.quotationDetailObject.containfreight=e},expression:"quotationDetailObject.containfreight"}},[t._v("包含")])],1)],1),t._v(" "),a("div",{staticClass:"clear"}),t._v(" "),a("div",{staticClass:"pricenotax-box"},[a("div",{staticClass:"left"},[a("el-form-item",{attrs:{label:"材料费","label-width":"97px"}},[a("el-input",{staticClass:"info-item-input",attrs:{placeholder:"请输入单个产品的材料费",maxlength:t.maxlength8},on:{blur:function(e){t.blur(e,"materialcost")}},nativeOn:{keyup:function(e){t.checkValue(e,"materialcost")}},model:{value:t.quotationDetailObject.materialcost,callback:function(e){t.quotationDetailObject.materialcost=e},expression:"quotationDetailObject.materialcost"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"表面处理费","label-width":"97px"}},[a("el-input",{staticClass:"info-item-input",attrs:{placeholder:"请输入单个产品的表面处理费",maxlength:t.maxlength8},on:{blur:function(e){t.blur(e,"dealwithcost")}},nativeOn:{keyup:function(e){t.checkValue(e,"dealwithcost")}},model:{value:t.quotationDetailObject.dealwithcost,callback:function(e){t.quotationDetailObject.dealwithcost=e},expression:"quotationDetailObject.dealwithcost"}})],1)],1),t._v(" "),a("div",{staticClass:"right"},[a("el-form-item",{attrs:{label:"加工费","label-width":"104px"}},[a("el-input",{staticClass:"info-item-input",attrs:{placeholder:"请输入单个产品的加工费",maxlength:t.maxlength8},on:{blur:function(e){t.blur(e,"workcost")}},nativeOn:{keyup:function(e){t.checkValue(e,"workcost")}},model:{value:t.quotationDetailObject.workcost,callback:function(e){t.quotationDetailObject.workcost=e},expression:"quotationDetailObject.workcost"}})],1)],1)]),t._v(" "),a("div",{staticClass:"left"},[a("el-form-item",{attrs:{label:"税率","label-width":"97px"}},[a("el-select",{staticClass:"info-item-input",attrs:{placeholder:"请选择"},on:{change:t.handleChange},model:{value:t.quotationDetailObject.taxrate,callback:function(e){t.quotationDetailObject.taxrate=e},expression:"quotationDetailObject.taxrate"}},t._l(t.taxrates,function(t){return a("el-option",{key:t.name,attrs:{label:t.text,value:t.name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"含税金额","label-width":"97px"}},[a("el-input",{staticClass:"info-item-input",attrs:{disabled:!0},model:{value:t.quotationDetailObject.taxamount,callback:function(e){t.quotationDetailObject.taxamount=e},expression:"quotationDetailObject.taxamount"}})],1)],1),t._v(" "),a("div",{staticClass:"right"},[a("el-form-item",{staticClass:"required-icon",attrs:{label:"含税单价","label-width":"104px"}},[a("el-input",{staticClass:"info-item-input",attrs:{disabled:t.price>0,maxlength:t.maxlength11},on:{blur:function(e){t.blur(e,"taxprice")},change:t.computTaxamount},nativeOn:{keyup:function(e){t.checkValue(e,"taxprice")}},model:{value:t.quotationDetailObject.taxprice,callback:function(e){t.quotationDetailObject.taxprice=e},expression:"quotationDetailObject.taxprice"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":"104px"}},[a("el-input",{staticClass:"info-item-input",attrs:{type:"textarea",autosize:""},model:{value:t.quotationDetailObject.remark,callback:function(e){t.quotationDetailObject.remark=e},expression:"quotationDetailObject.remark"}})],1)],1)])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)},staticRenderFns:[]}}],[140]);
//# sourceMappingURL=app.88fde2ce6edef800d38b.js.map